{"version":3,"sources":["text!decisionList/app/views/dashboard/decision-list.html","decisionList/app/views/dashboard/decision-list.js","text!decisionList/app/views/decisionDefinition/decision-instance-table.html","decisionList/app/views/decisionDefinition/decisionInstanceTable.js","text!decisionList/app/views/decisionInstance/variable-table.html","decisionList/app/views/decisionInstance/inputTable.js","decisionList/app/views/decisionInstance/outputTable.js","text!decisionList/app/views/decisionInstance/goto-process-instance-action.html","decisionList/app/views/decisionInstance/gotoProcessInstanceAction.js","decisionList/app/views/decisionInstance/highlightRules.js","decisionList/app/views/decisionInstance/realInput.js","decisionList/app/views/decisionInstance/realOutput.js","decisionList/app/views/main.js","decisionList/app/plugin.js"],"names":["define","template","ViewsProvider","registerDefaultView","id","label","dashboardMenuLabel","controller","$scope","camAPI","decisionDefinitionService","resource","orderByPredicate","orderByReverse","list","latestVersion","sortBy","sortOrder","err","data","decisionCount","length","decisions","priority","angular","$location","search","routeUtil","Views","$rootScope","updateView","page","pages","current","count","size","firstResult","decisionInstances","loadingState","historyService","decisionInstance","decisionDefinitionId","decisionDefinition","maxResults","phase","$$phase","$apply","decisionInstanceCount","total","processInstancePlugins","getProviders","component","hasHistoryPlugin","filter","plugin","getProcessDefinitionLink","processDefinitionId","getProcessInstanceLink","processInstanceId","activityInstanceId","activityId","$on","DEFAULT_PAGES","copy","$watch","newValue","oldValue","variables","inputs","map","variable","type","value","name","clauseName","clauseId","valueInfo","outputs","ngModule","processInstanceLink","Configuration","$inject","config","initialize","i","tableControl","highlightRow","ruleId","viewer","getViewer","elementRegistry","get","clauseRow","element","isClauseRow","on","event","inputIdx","inputObject","indexOf","column","row","input","realInput","document","createElement","className","textContent","setAttribute","gfx","firstChild","appendChild","update","getGraphics","ruleIndex","output","columnIndex","realOutput","decisionList","decisionInstanceTable","inputTable","outputTable","gotoProcessInstanceAction","highlightRules","module","viewsModule"],"mappings":"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A,OAVA9C,GAAAI,OAAAoC,GACAxC,EAAAI,OAAAqC,GACAzC,EAAAI,OAAAsC,GACA1C,EAAAI,OAAAuC,GACA3C,EAAAI,OAAAyC,GACA7C,EAAAI,OAAAqB,GACAzB,EAAAI,OAAAmC,GAEAK,EAAA5C,GAEAA,ICvCA9E,OAAA,2BAAA,UACA,gBACA,SAAAwB,EAAAqG,GACA,YAEA,OAAArG,GAAAoG,OAAA,+BAAAC,EAAApD;AbbA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvCA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5GA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClCA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA,ADmDA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"plugin.js","sourcesContent":["\ndefine('text!decisionList/app/views/dashboard/decision-list.html',[],function () { return '<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html -->\\n<div class=\"deployed-decisions\">\\n  <h3 ng-if=\"decisionCount\">\\n    {{decisionCount}} decision {{ (decisionCount > 1 ? \\'tables\\' : \\'table\\') }}  deployed\\n  </h3>\\n\\n  <table class=\"decision-definitions-list cam-table\" ng-if=\"decisionCount\">\\n    <thead>\\n      <tr>\\n        <th class=\"name\">Name</th>\\n      </tr>\\n    </thead>\\n\\n    <tbody>\\n      <tr ng-repeat=\"decision in decisions | orderBy:orderByPredicate:orderByReverse\">\\n        <td class=\"name\">\\n          <a href=\"#/decision-definition/{{ decision.id }}\">\\n            {{ decision.name || decision.key }}\\n          </a>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n\\n  <h3 ng-if=\"!decisionCount\">\\n    No decision tables deployed\\n  </h3>\\n\\n</div>\\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html -->\\n';});\n\n","define('decisionList/app/views/dashboard/decision-list',[\n  'text!./decision-list.html'\n], function(\n  template\n) {\n  'use strict';\n\n  return [ 'ViewsProvider', function (ViewsProvider) {\n    ViewsProvider.registerDefaultView('cockpit.dashboard', {\n      id: 'decision-list',\n      label: 'Deployed Decision Tables',\n      dashboardMenuLabel: 'DMN Decisions',\n      template: template,\n      controller: [\n              '$scope', 'camAPI',\n      function($scope,   camAPI) {\n\n        var decisionDefinitionService = camAPI.resource('decision-definition');\n\n        $scope.orderByPredicate = 'name';\n        $scope.orderByReverse = false;\n\n        // get ALL the decisions\n        decisionDefinitionService.list({\n          latestVersion: true,\n          sortBy: 'name',\n          sortOrder: 'asc'\n        }, function(err, data) {\n          $scope.decisionCount = data.length;\n          $scope.decisions = data;\n        });\n\n      }],\n\n      priority: -5 // display below the process definition list\n    });\n  }];\n});\n\n","\ndefine('text!decisionList/app/views/decisionDefinition/decision-instance-table.html',[],function () { return '<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html -->\\n<div cam-widget-loader\\n     loading-state=\"{{ loadingState }}\"\\n     text-empty=\"No decision instances matched by current filter.\">\\n  <table class=\"decision-instances cam-table\">\\n    <thead>\\n      <tr>\\n        <th class=\"instance-id uuid\">ID</th>\\n        <th class=\"start-time\">Evaluation Time</th>\\n        <th class=\"process-definition-key\">Process Definition Key</th>\\n        <th class=\"process-instance-id\">Process Instance Id</th>\\n        <th class=\"activity-id\">Activity ID</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr ng-repeat=\"decisionInstance in decisionInstances\">\\n        <td class=\"instance-id uuid\">\\n          <a ng-href=\"#/decision-instance/{{ decisionInstance.id }}\" title=\"{{ decisionInstance.id }}\">\\n            {{ decisionInstance.id }}\\n          </a>\\n        </td>\\n\\n        <td class=\"start-time\">\\n          {{ decisionInstance.evaluationTime | camDate }}\\n        </td>\\n\\n        <td class=\"process-definition-key\">\\n          <a ng-href=\"{{ getProcessDefinitionLink(decisionInstance) }}\">\\n            {{ decisionInstance.processDefinitionKey }}\\n          </a>\\n        </td>\\n\\n        <td class=\"process-instance-id uuid\">\\n          <a ng-href=\"{{ getProcessInstanceLink(decisionInstance) }}\">\\n            {{ decisionInstance.processInstanceId }}\\n          </a>\\n        </td>\\n\\n        <td class=\"activity-id\">\\n            {{ decisionInstance.activityId }}\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n\\n  <pagination ng-if=\"pages.total > pages.size\"\\n              class=\"pagination-sm\"\\n\\n              page=\"pages.current\"\\n              ng-model=\"pages.current\"\\n\\n              total-items=\"pages.total\"\\n              items-per-page=\"pages.size\"\\n\\n              max-size=\"7\"\\n              boundary-links=\"true\"></pagination>\\n</div>\\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html -->\\n';});\n\n","/* global define: false, angular: false */\ndefine('decisionList/app/views/decisionDefinition/decisionInstanceTable',[\n  'angular',\n  'text!./decision-instance-table.html'\n],\nfunction(angular, template) {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionDefinition.tab', {\n      id: 'decision-instances-table',\n      label: 'Decision Instances',\n      template: template,\n      controller: [\n               '$scope', '$location', 'search', 'routeUtil', 'camAPI', 'Views', '$rootScope',\n      function ($scope,   $location,   search,   routeUtil,   camAPI,   Views,   $rootScope) {\n\n        var processInstancePlugins = Views.getProviders({ component: 'cockpit.processInstance.view' });\n\n        var hasHistoryPlugin = processInstancePlugins.filter(function(plugin) {\n          return plugin.id === 'history';\n        }).length > 0;\n\n        $scope.getProcessDefinitionLink = function(decisionInstance) {\n          if(hasHistoryPlugin) {\n            return '#/process-definition/' + decisionInstance.processDefinitionId + '/history';\n          } else {\n            return '#/process-definition/' + decisionInstance.processDefinitionId;\n          }\n        };\n        $scope.getProcessInstanceLink = function(decisionInstance) {\n          if(hasHistoryPlugin) {\n            return '#/process-instance/' + decisionInstance.processInstanceId + '/history' +\n            '?activityInstanceIds=' + decisionInstance.activityInstanceId +\n            '&activityIds=' + decisionInstance.activityId;\n          } else {\n            return '#/process-instance/' + decisionInstance.processInstanceId;\n          }\n        };\n\n\n        $scope.$on('$routeChanged', function() {\n          pages.current = search().page || 1;\n        });\n\n        var historyService = camAPI.resource('history');\n\n        var DEFAULT_PAGES = { size: 50, total: 0, current: search().page || 1 };\n\n        var pages = $scope.pages = angular.copy(DEFAULT_PAGES);\n\n        $scope.$watch('pages.current', function(newValue, oldValue) {\n          if (newValue == oldValue) {\n            return;\n          }\n\n          search('page', !newValue || newValue == 1 ? null : newValue);\n          updateView();\n        });\n\n        updateView();\n\n        function updateView() {\n          var page = pages.current,\n              count = pages.size,\n              firstResult = (page - 1) * count;\n\n          $scope.decisionInstances = null;\n\n          $scope.loadingState = 'LOADING';\n          historyService.decisionInstance({\n            decisionDefinitionId: $scope.decisionDefinition.id,\n            firstResult: firstResult,\n            maxResults: count,\n            sortBy: 'evaluationTime',\n            sortOrder: 'desc'\n          }, function(err, data) {\n            $scope.decisionInstances = data;\n            $scope.loadingState = data.length ? 'LOADED' : 'EMPTY';\n\n            var phase = $rootScope.$$phase;\n            if(phase !== '$apply' && phase !== '$digest') {\n              $scope.$apply();\n            }\n\n          });\n\n          historyService.decisionInstanceCount({\n            decisionDefinitionId: $scope.decisionDefinition.id\n          }, function(err, data) {\n            pages.total = data.count;\n\n            var phase = $rootScope.$$phase;\n            if(phase !== '$apply' && phase !== '$digest') {\n              $scope.$apply();\n            }\n\n          });\n        }\n\n\n      }],\n      priority: 10\n    });\n  }];\n});\n\n","\ndefine('text!decisionList/app/views/decisionInstance/variable-table.html',[],function () { return '<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/variable-table.html -->\\n<!-- <div ng-repeat=\"variable in variables\"\\n     cam-widget-variable\\n     cam-variable=\"variable\"\\n     display=\"true\">\\n</div> -->\\n\\n<div cam-widget-variables-table\\n     cam-editable=\"[]\"\\n     cam-variables=\"variables\"></div>\\n\\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/variable-table.html -->\\n';});\n\n","/* global define: false, angular: false */\ndefine('decisionList/app/views/decisionInstance/inputTable',[\n  'angular',\n  'text!./variable-table.html'\n],\nfunction(angular, template) {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionInstance.tab', {\n      id: 'decision-input-table',\n      label: 'Inputs',\n      template: template,\n      controller: [\n               '$scope',\n      function ($scope) {\n\n        $scope.variables = $scope.decisionInstance.inputs.map(function (variable) {\n          return {\n            variable: {\n              type: variable.type,\n              value: variable.value,\n              name: variable.clauseName || variable.clauseId,\n              valueInfo: variable.valueInfo\n            }\n          };\n        });\n      }],\n      priority: 20\n    });\n  }];\n});\n\n","/* global define: false, angular: false */\ndefine('decisionList/app/views/decisionInstance/outputTable',[\n  'angular',\n  'text!./variable-table.html'\n],\nfunction(angular, template) {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionInstance.tab', {\n      id: 'decision-input-table',\n      label: 'Outputs',\n      template: template,\n      controller: [\n               '$scope',\n      function ($scope) {\n\n        $scope.variables = $scope.decisionInstance.outputs.map(function (variable) {\n          return {\n            variable: {\n              type: variable.type,\n              value: variable.value,\n              name: variable.clauseName || variable.clauseId,\n              valueInfo: variable.valueInfo\n            }\n          };\n        });\n      }],\n      priority: 10\n    });\n  }];\n});\n\n","\ndefine('text!decisionList/app/views/decisionInstance/goto-process-instance-action.html',[],function () { return '<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/goto-process-instance-action.html -->\\n<a class=\"btn btn-default btn-toolbar\"\\n   ng-href=\"{{ processInstanceLink }}\"\\n   ng-show=\"decisionInstance.processInstanceId\"\\n   tooltip=\"Goto process instance\"\\n   tooltip-placement=\"left\">\\n  <span class=\"glyphicon glyphicon-chevron-up\"></span>\\n</a>\\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/goto-process-instance-action.html -->\\n';});\n\n","/* global ngDefine: false */\ndefine('decisionList/app/views/decisionInstance/gotoProcessInstanceAction',['text!./goto-process-instance-action.html'], function(template) {\n  'use strict';\n\n  return function(ngModule) {\n    ngModule.controller('GotoProcessInstanceActionController', [\n            '$scope', 'Views',\n    function($scope,   Views) {\n\n      var processInstancePlugins = Views.getProviders({ component: 'cockpit.processInstance.view' });\n\n      var hasHistoryPlugin = processInstancePlugins.filter(function(plugin) {\n        return plugin.id === 'history';\n      }).length > 0;\n\n      if(hasHistoryPlugin) {\n        // if we have no history plugin, then just go to the runtime view\n        $scope.processInstanceLink =\n            '#/process-instance/' + $scope.decisionInstance.processInstanceId + '/history' +\n            '?activityInstanceIds=' + $scope.decisionInstance.activityInstanceId +\n            '&activityIds=' + $scope.decisionInstance.activityId;\n      } else {\n        // if we have the history plugin, go to the history view and select the activity, that executed the decision\n        $scope.processInstanceLink = '#/process-instance/' + $scope.decisionInstance.processInstanceId;\n      }\n\n    }]);\n\n    var Configuration = function PluginConfiguration(ViewsProvider) {\n      ViewsProvider.registerDefaultView('cockpit.decisionInstance.action', {\n        id: 'goto-process-instance-action',\n        label: 'Goto Process Instance Action',\n        template: template,\n        controller: 'GotoProcessInstanceActionController',\n        priority: 20\n      });\n    };\n\n    Configuration.$inject = ['ViewsProvider'];\n\n    ngModule.config(Configuration);\n  };\n});\n\n","/* global define: false, angular: false */\ndefine('decisionList/app/views/decisionInstance/highlightRules',[],\nfunction() {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionInstance.table', {\n      id: 'highlightRules',\n      initialize: function(data) {\n        for(var i = 0; i < data.decisionInstance.outputs.length; i++) {\n          data.tableControl.highlightRow(data.decisionInstance.outputs[i].ruleId, 'fired');\n        }\n      }\n    });\n  }];\n});\n\n","/* global define: false */\ndefine('decisionList/app/views/decisionInstance/realInput',[],\nfunction() {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionInstance.table', {\n      id: 'realInput',\n      initialize: function(data) {\n\n        var viewer = data.tableControl.getViewer();\n\n        var elementRegistry = viewer.get('elementRegistry');\n\n        var clauseRow = elementRegistry.filter(function(element) {\n          return element.isClauseRow;\n        })[0];\n\n        viewer.get('eventBus').on('cell.render', function(event) {\n\n          var inputIdx = data.decisionInstance.inputs.map(function(inputObject) {\n           return inputObject.clauseId;\n          }).indexOf(event.data.column.id);\n\n          if(event.data.row === clauseRow &&\n              inputIdx !== -1) {\n\n            var input = data.decisionInstance.inputs[inputIdx];\n\n            var realInput = document.createElement('span');\n            if(input.type !== 'Object' &&\n               input.type !== 'Bytes' &&\n               input.type !== 'File') {\n\n              realInput.className = 'dmn-input';\n              realInput.textContent = ' = ' + input.value;\n\n            } else {\n              realInput.className = 'dmn-input-object';\n              realInput.setAttribute('title', 'Variable value of type ' + input.type + ' is not shown');\n              realInput.textContent = ' = [' + input.type + ']';\n            }\n            event.gfx.firstChild.appendChild(realInput);\n          }\n        });\n\n        viewer.get('graphicsFactory').update('row', clauseRow, elementRegistry.getGraphics(clauseRow.id));\n      }\n    });\n  }];\n});\n\n","/* global define: false */\ndefine('decisionList/app/views/decisionInstance/realOutput',[],\nfunction() {\n  'use strict';\n\n  return [ 'ViewsProvider', function(ViewsProvider) {\n\n    ViewsProvider.registerDefaultView('cockpit.decisionInstance.table', {\n      id: 'realOutput',\n      initialize: function(data) {\n\n        var viewer = data.tableControl.getViewer();\n\n        viewer.get('eventBus').on('cell.render', function(event) {\n\n          var row = event.data.row;\n          var ruleIndex = data.decisionInstance.outputs.map(function(output) {\n            return output.ruleId;\n          }).indexOf(row.id);\n\n          var column = event.data.column;\n          var columnIndex = data.decisionInstance.outputs.map(function(output) {\n            return output.clauseId;\n          }).indexOf(column.id);\n\n          if(ruleIndex !== -1 && columnIndex !== -1) {\n\n            var output = data.decisionInstance.outputs.filter(function(output) {\n              return output.ruleId === row.id && output.clauseId === column.id;\n            })[0];\n\n            var realOutput = document.createElement('span');\n            if(output.type !== 'Object' &&\n               output.type !== 'Bytes' &&\n               output.type !== 'File') {\n\n              realOutput.className = 'dmn-output';\n              realOutput.textContent = ' = ' + output.value;\n\n            } else {\n              realOutput.className = 'dmn-output-object';\n              realOutput.setAttribute('title', 'Variable value of type ' + output.type + ' is not shown');\n              realOutput.textContent = ' = [' + output.type + ']';\n            }\n            event.gfx.firstChild.appendChild(realOutput);\n          }\n        });\n      }\n    });\n  }];\n});\n\n","/* global define: false */\n\n/**\n * @namespace cam.cockpit.plugin.base.views\n */\ndefine('decisionList/app/views/main',[\n  'angular',\n\n  // dashboard\n  './dashboard/decision-list',\n\n  // decision definition\n  './decisionDefinition/decisionInstanceTable',\n\n  // decision instance\n  './decisionInstance/inputTable',\n  './decisionInstance/outputTable',\n  './decisionInstance/gotoProcessInstanceAction',\n\n  // decision instance table\n  './decisionInstance/highlightRules',\n  './decisionInstance/realInput',\n  './decisionInstance/realOutput'\n\n], function(\n  angular,\n  decisionList,\n  decisionInstanceTable,\n  inputTable,\n  outputTable,\n  gotoProcessInstanceAction,\n  highlightRules,\n  realInput,\n  realOutput) {\n\n  'use strict';\n  var ngModule = angular.module('cockpit.plugin.decisionList.views', []);\n\n  ngModule.config(decisionList);\n  ngModule.config(decisionInstanceTable);\n  ngModule.config(inputTable);\n  ngModule.config(outputTable);\n  ngModule.config(highlightRules);\n  ngModule.config(realInput);\n  ngModule.config(realOutput);\n\n  gotoProcessInstanceAction(ngModule);\n\n  return ngModule;\n});\n\n","/* global define: false */\n\n/**\n * @namespace cam.cockpit.plugin\n */\n\n/**\n * @namespace cam.cockpit.plugin.decisionList\n */\ndefine('decisionList/app/plugin',['angular',\n        './views/main'\n], function(angular, viewsModule) {\n  'use strict';\n\n  return angular.module('cockpit.plugin.decisionList', [viewsModule.name]);\n});\n\n"]}