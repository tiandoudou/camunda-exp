!function(e){function t(e){function t(e){return r(e)?e:[e]}function n(e){return Array.prototype.slice.apply(e)}var i=e.module("dataDepend",[]),r=e.isArray,o=e.isFunction,a=(e.isObject,e.forEach),s=(e.extend,["$rootScope","$injector","$q",function(i,s,c){function l(i,s){function l(e){function t(t){var n=i[t];return n||e&&(n=e.get(t)),n}function n(e,n){if(t(e))throw new Error("[dataDepend] provider with key "+e+" already registered");i[e]=n}var i={};return{local:i,get:t,put:n}}function u(){return f++}function p(t){function i(e){var t=O.value;O.$loaded=!0,delete O.$error,N=!1,t!==e&&(O.value=e,x("setLoaded",t," -> ",e),h())}function l(e){var t=D[e];return t||(D[e]=t={}),t}function u(){O.$loaded=!1,P=!1}function p(e){var t=T.get(e);if(!t)throw new Error("[dataDepend] No provider for "+e);return t}function d(e){a(I,e)}function f(e){a(A,e)}function h(){d(function(e){e.parentChanged()})}function m(){function e(e,t){var n=l(e),i=n.value;x("resolveDependencies",e,":",i,"->",t),i!==t&&(x("resolveDependencies","changed"),n.value=t,N=!0)}var t=[];return f(function(n){var i=p(n),r=i.resolve().then(function(t){return e(n,t),t},function(e){throw new Error("<"+n+"> <- "+e.message)});t.push(r)}),c.all(t).then(function(){var t=[];return f(function(n){var i=p(n).get();e(n,i),t.push(i)}),t})}function g(e){u(),x("asyncLoad: init load");var t=m().then(function(n){if(x("asyncLoad dependencies resolved",n),R!==t)return x("asyncLoad: skip (new load request)"),R;var i=y();if(S&&(N||e||0==n.length)){x("asyncLoad: call factory");try{i=S.apply(S,n)}catch(r){throw new Error("unresolvable: "+r.message)}}return i}).then(function(e){return R!==t?(x("asyncLoad: skip (new load request)"),R):(x("asyncLoad: load complete"),R=null,i(e),e)},function(e){if(R!==t)return x("asyncLoad: skip (new load request)"),R;throw x("asyncLoad: load error"),R=null,O.$error=e,N=!1,e});return t}function v(){return x("parentChanged START"),R?void x("parentChanged SKIP (loading)"):(P=!0,k&&(x("parentChanged RESOLVE async"),s(function(){x("parentChanged RESOLVE"),b()})),void h())}function y(){return O.value}function b(e){e=e||{};var t=e.reload;return(P||t)&&(R=g(t)),R?(x("resolve: load async"),R):(x("resolve: load sync"),c.when(y()))}function w(e){if(S)throw new Error("[dataDepend] Cannot set value, was using factory");if(o(e))throw new Error("[dataDepend] Cannot refine static value using factory function");i(e)}function x(){}function _(t){function i(e){return e?e[s]:e}function o(){var e=n(arguments);return l.apply(null,e).then(i)}function a(){var e=n(arguments);return i(c.apply(null,e))}if(!r(M.produces))throw new Error("[dataDepend] Provider does not produce multiple values");var s=M.produces.indexOf(t),c=M.get,l=M.resolve,u=e.extend({},M,{resolve:o,get:a});return u}function E(){f(function(e){var t=p(e),n=t.children,i=n.indexOf(M);-1!==i&&n.splice(i,1)})}t=t||{};var C=t.produces,T=t.registry,A=t.dependencies||[],S=t.factory,k=t.eager||!1,D={},I=[],N=!0,P=!0,R=null,O={$loaded:!1},M={produces:C,data:O,get:y,set:w,resolve:b,children:I,filter:_,destroy:E,parentChanged:v};f(function(e){p(e).children.push(M)}),k&&(x("resolve async"),s(function(){x("resolve"),b()})),S||i(t.value);var $={reload:function(){b({reload:!0})}};return e.extend(O,$),M}function d(e,n){function s(e,n){var a="provider$"+u();if(n?e=t(e):(n=e,e=i(n),r(n)&&(n=n[n.length-1])),!o(n))throw new Error('[dataDepend] Must provide callback as second parameter or use [ "A", "B", function(a, b) { } ] notation');var s=c({produces:a,factory:n,dependencies:e,eager:!0,registry:b});return s.data}function c(e){var t,n=e.produces;if(!n)throw new Error("[dataDepend] Must provide produces when creating new provider");return t=p(e),r(n)?a(n,function(e){b.put(e,t.filter(e))}):b.put(n,t),t}function f(t,n){n=n||t;var i=t+":old";h(t,e.$eval(n)),h(i,null);var r=b.get(t),o=b.get(i);return e.$watch(n,function(e,t){e!==t&&(r.set(e),o.set(t))}),r.data}function h(e,t){var n,a,s;if(b.get(e))throw new Error("[dataDepend] provider for "+e+" already registered");return(o(t)||r(t)&&o(t[t.length-1]))&&(n=t,a=i(n),t=void 0,r(n)&&(n=n[n.length-1])),s=c({produces:e,factory:n,value:t,dependencies:a,registry:b}),s.data}function m(e,t){if("string"!=typeof e)throw new Error("[dataDepend] expected name to be a string, got "+e);var n=b.get(e);if(!n)throw new Error("[dataDepend] no provider with name "+e);n.set(t)}function g(e){var t=b.get(e);if(!t)throw new Error('[dataDepend] Provider "'+e+'" does not exists');t.resolve({reload:!0})}function v(){var e=b.local;a(e,function(e){e.destroy()})}function y(e){return d(e,b)}var b=l(n);return e.$on("$destroy",v),{$providers:b,observe:s,provide:h,set:m,changed:g,watchScope:f,newChild:y}}var f=0;return{create:d}}return l(s.annotate,function(e){i.$evalAsync(e)})}]);return i.factory("dataDepend",s),i}if("function"==typeof define&&define.amd)define("angular-data-depend",["angular"],function(e){return t(e)});else{if(void 0===typeof e)throw new Error("[dataDepend] Failed to bind: AngularJS not available on window or via AMD");t(e)}}(angular),function(e,t,n){"use strict";function i(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){var o="?"===i?i:null,a="*"===i?i:null;return r.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){if(i[e]=t.extend({reloadOnSearch:!0},r,e&&n(e,r)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[o]=t.extend({redirectTo:e},n(o,r))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,r,o,a,s,c,l,u){function p(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;a>o;++o){var s=n[o-1],c="string"==typeof r[o]?decodeURIComponent(r[o]):r[o];s&&c&&(i[s.name]=c)}return i}function d(){var e=f(),i=g.current;e&&i&&e.$$route===i.$$route&&t.equals(e.pathParams,i.pathParams)&&!e.reloadOnSearch&&!m?(i.params=e.params,t.copy(i.params,o),n.$broadcast("$routeUpdate",i)):(e||i)&&(m=!1,n.$broadcast("$routeChangeStart",e,i),g.current=e,e&&e.redirectTo&&(t.isString(e.redirectTo)?r.path(h(e.redirectTo,e.params)).search(e.params).replace():r.url(e.redirectTo(e.pathParams,r.path(),r.search())).replace()),a.when(e).then(function(){if(e){var n,i,r=t.extend({},e.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?s.get(e):s.invoke(e)}),t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),i=u.getTrustedResourceUrl(i),t.isDefined(i)&&(e.loadedTemplateUrl=i,n=c.get(i,{cache:l}).then(function(e){return e.data}))),t.isDefined(n)&&(r.$template=n),a.all(r)}}).then(function(r){e==g.current&&(e&&(e.locals=r,t.copy(e.params,o)),n.$broadcast("$routeChangeSuccess",e,i))},function(t){e==g.current&&n.$broadcast("$routeChangeError",e,i,t)}))}function f(){var n,o;return t.forEach(i,function(i,a){!o&&(n=p(r.path(),i))&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var m=!1,g={routes:i,reload:function(){m=!0,n.$evalAsync(d)}};return n.$on("$locationChangeSuccess",d),g}]}function r(){this.$get=function(){return{}}}function o(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,c){function l(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),d&&(i.leave(d,function(){f=null}),f=d,d=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=r.$new(),f=e.current,g=c(u,function(e){i.enter(e,null,d||o,function(){!t.isDefined(h)||h&&!r.$eval(h)||n()}),l()});d=g,p=f.scope=u,p.$emit("$viewContentLoaded"),p.$eval(m)}else l()}var p,d,f,h=a.autoscroll,m=a.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,a=o.locals;r.html(a.$template);var s=e(r.contents());if(o.controller){a.$scope=i;var c=t(o.controller,a);o.controllerAs&&(i[o.controllerAs]=c),r.data("$ngControllerController",c),r.children().data("$ngControllerController",c)}s(i)}}}var s=t.module("ngRoute",["ng"]).provider("$route",i);s.provider("$routeParams",r),s.directive("ngView",o),s.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),define("angular-route",["angular"],function(){}),define("camunda-commons-ui/util/uriFilter",[],function(){"use strict";var e=["Uri",function(e){return function(t){return e.appUri(t)}}];return e}),define("camunda-commons-ui/util/uriProvider",["angular"],function(e){"use strict";return function(){var t=/[\w]+:\/\/|:[\w]+/g,n={};this.replace=function(e,t){n[e]=t},this.$get=["$injector",function(i){return{appUri:function(r){var o=r.replace(t,function(t){var r=n[t];return void 0===r?t:((e.isFunction(r)||e.isArray(r))&&(r=i.invoke(r)),r)});return o}}}]}}),define("camunda-commons-ui/util/notifications",["angular"],function(e){"use strict";return["$filter","$timeout",function(t,n){return{notifications:[],consumers:[],addError:function(e){e.type||(e.type="danger"),this.add(e)},addMessage:function(e){e.type||(e.type="info"),this.add(e)},add:function(t){var i=this,r=this.notifications,o=this.consumers,a=t.exclusive;if(a)if("boolean"==typeof a)this.clearAll();else{var s={};e.forEach(a,function(e){s[e]=t[e]}),i.clear(s)}r.push(t);for(var c,l=o.length-1;(c=o[l])&&!c.add(t);l--);t.duration&&n(function(){t.scope&&delete t.scope,i.clear(t)},t.duration),t.scope&&t.scope.$on("$destroy",function(){delete t.scope,i.clear(t)})},clear:function(n){var i=this.notifications,r=this.consumers,o=[];"string"==typeof n&&(n={status:n}),o=t("filter")(i,n),o.push(n),e.forEach(o,function(t){var n=i.indexOf(t);-1!=n&&i.splice(n,1),e.forEach(r,function(e){e.remove(t)})})},clearAll:function(){for(var e=this.notifications;e.length;){var t=e.pop();this.clear(t)}},registerConsumer:function(e){this.consumers.push(e)},unregisterConsumer:function(e){var t=this.consumers,n=t.indexOf(e);-1!=n&&t.splice(n,1)}}}]}),define("camunda-commons-ui/util/index",["angular","./uriFilter","./uriProvider","./notifications"],function(e,t,n,i){"use strict";return e.module("cam.commons.util",[]).filter("uri",t).provider("Uri",n).service("Notifications",i)}),define("camunda-commons-ui/util",["camunda-commons-ui/util/index"],function(e){return e}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!camunda-commons-ui/auth/page/login.html",[],function(){return'<!-- # CE - camunda-commons-ui/lib/auth/page/login.html -->\n<div class="form-signin-container">\n  <form class="form-signin"\n        ng-submit="login()"\n        name="signinForm"\n        request-aware>\n    <h2 class="form-signin-heading">Please sign in</h2>\n\n    <div notifications-panel\n         class="notifications-panel"></div>\n\n    <input autofocus\n           tabindex="1"\n           type="text"\n           class="form-control"\n           placeholder="Username"\n           auto-fill ng-model="username" />\n    <input tabindex="2"\n           type="password"\n           class="form-control"\n           placeholder="Password"\n           auto-fill\n           ng-model="password" />\n    <button tabindex="3"\n            class="btn btn-lg btn-primary"\n            type="submit">Sign in</button>\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/auth/page/login.html -->\n'}),define("camunda-commons-ui/auth/page/login",["angular","text!./login.html"],function(e,t){"use strict";var n=e.element,i=["$scope","$rootScope","AuthenticationService","Notifications","$location",function(e,t,i,r,o){if(t.authentication)return o.path("/");t.showBreadcrumbs=!1;var a=n('form[name="signinForm"] [autofocus]')[0];a&&a.focus(),e.login=function(){i.login(e.username,e.password).then(function(){r.clearAll()})["catch"](function(){r.addError({status:"Login Failed",message:"Wrong credentials or missing access rights to application",scope:e})})}}];return["$routeProvider",function(e){e.when("/login",{template:t,controller:i})}]}),define("camunda-commons-ui/auth/directives/camIfLoggedIn",[],function(){"use strict";return["$animate","$rootScope",function(e,t){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,i,r){return function(n,i){function o(t){a&&(e.leave(a),a=void 0),s&&(s.$destroy(),s=void 0),t&&(s=n.$new(),r(s,function(t){a=t,e.enter(t,i.parent(),i)}))}var a,s;n.$on("authentication.changed",function(e,t){o(t)}),o(t.authentication)}}}}]}),define("camunda-commons-ui/auth/directives/camIfLoggedOut",[],function(){"use strict";return["$animate","$rootScope",function(e,t){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,i,r){return function(n,i){function o(t){a&&(e.leave(a),a=void 0),s&&(s.$destroy(),s=void 0),t&&(s=n.$new(),r(s,function(t){a=t,e.enter(t,i.parent(),i)}))}var a,s;n.$on("authentication.changed",function(e,t){o(!t)}),o(!t.authentication)}}}}]}),define("camunda-commons-ui/auth/util/authentication",["angular"],function(e){"use strict";function t(t){e.extend(this,t)}return t.prototype.canAccess=function(e){return this.authorizedApps&&-1!==this.authorizedApps.indexOf(e)},t}),define("camunda-commons-ui/auth/service/authenticationService",["require","angular","jquery","../util/authentication"],function(e){"use strict";var t=e("jquery"),n=e("../util/authentication");return["$rootScope","$q","$http","Uri",function(e,i,r,o){function a(t,n,i){e.$broadcast(t,n,i)}function s(e){if(200!==e.status)return i.reject(e);var t=e.data;return new n({name:t.userId,authorizedApps:t.authorizedApps})}function c(t){e.authentication=t,a("authentication.changed",t)}this.updateAuthentication=c,this.login=function(e,n){function l(e){return c(e),a("authentication.login.success",e),e}function u(e){return a("authentication.login.failure",e),i.reject(e)}var p=t.param({username:e,password:n});return r({method:"POST",url:o.appUri("admin://auth/user/:engine/login/:appName"),data:p,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(s).then(l,u)},this.logout=function(){function e(e){c(null),a("authentication.logout.success",e)}function t(e){return a("authentication.logout.failure",e),i.reject(e)}return r.post(o.appUri("admin://auth/user/:engine/logout")).then(e,t)};var l;e.$on("authentication.changed",function(e,t){l=i[t?"when":"reject"](t)}),this.getAuthentication=function(){function t(e){return c(e),e}return l||(l=e.authentication?i.when(e.authentication):r.get(o.appUri("admin://auth/user/:engine")).then(s).then(t)),l},e.$on("$routeChangeStart",function(e,t){t.authentication&&(t.resolve||(t.resolve={}),t.resolve.authentication||(t.resolve.authentication=["AuthenticationService",function(e){return e.getAuthentication()["catch"](function(e){return"optional"===t.authentication?null:(a("authentication.login.required",t),i.reject(e))})}]))})}]}),define("camunda-commons-ui/auth/index",["angular","angular-route","../util/index","./page/login","./directives/camIfLoggedIn","./directives/camIfLoggedOut","./service/authenticationService"],function(e,t,n,i,r,o,a){"use strict";var s=e.module("cam.commons.auth",[e.module("ngRoute").name,n.name]);return s.config(i).run(["$rootScope","$location",function(e,t){var n;e.$on("authentication.login.required",function(i){e.$evalAsync(function(){var e=t.url();"/login"===e||i.defaultPrevented||(n=e,t.url("/login"))})}),e.$on("authentication.login.success",function(i){e.$evalAsync(function(){i.defaultPrevented||(t.url(n||"/").replace(),n=null)})})}]).run(["$cacheFactory","$rootScope","$location","$timeout","Notifications",function(e,t,n,i,r){t.$on("authentication.logout.success",function(o){t.$evalAsync(function(){o.defaultPrevented||(e.get("$http").removeAll(),n.url("/"))}),i(function(){var e=function(){var e=new Date;if(e.getDay()>=5)return"weekend";var t=e.getHours();switch(!0){case t>=4&&7>t:return"morning";case t>=7&&12>t:return"day";case t>=12&&17>t:return"afternoon";case t>=17&&22>t:return"evening";case t>=22||4>t:return"night"}return"day"};r.addMessage({status:"Logout successful",message:"Thank you for using Camunda today. Have a great "+e()+"!",exclusive:!0})})})}]).run(["$rootScope","Notifications",function(e,t){e.$on("authentication.login.required",function(){t.addError({status:"Failed to display resource",message:"Authentication failed. Your session might have expired, you need to login.",http:!0,exclusive:["http"]})})}]).run(["AuthenticationService",function(){}]).directive("camIfLoggedIn",r).directive("camIfLoggedOut",o).service("AuthenticationService",a),s}),define("camunda-commons-ui/pages/index",["angular","angular-route"],function(e){"use strict";function t(e){var t="camunda Login";-1!==e.indexOf("/cockpit/")?t="camunda Cockpit":-1!==e.indexOf("/tasklist/")?t="camunda Tasklist":-1!==e.indexOf("/admin/")&&(t="camunda Admin"),n("head title").text(t)}var n=e.element,i=e.module("camunda.common.pages",["ngRoute"]),r=["$rootScope","$location","Notifications","AuthenticationService",function(e,n,i,r){function o(e){e.http=!0,e.exclusive=["http"],i.addError(e)}function a(i,a){var s=a.status,c=a.data;switch(s){case 500:o(c&&c.message?{status:"Server Error",message:c.message,exceptionType:c.exceptionType}:{status:"Server Error",message:"The server reported an internal error. Try to refresh the page or login and out of the application."});break;case 0:o({status:"Request Timeout",message:"Your request timed out. Try to refresh the page."});break;case 401:-1!==n.absUrl().indexOf("/setup/#")?n.path("/setup"):(o({type:"warning",status:"Session ended",message:"Your session timed out or was ended from another browser window. Please signin again."}),t(n.absUrl()),r.updateAuthentication(null),e.$broadcast("authentication.login.required"));break;case 403:o("AuthorizationException"==c.type?{status:"Access Denied",message:"You are unauthorized to "+c.permissionName.toLowerCase()+" "+c.resourceName.toLowerCase()+(c.resourceId?" "+c.resourceId:"s")+"."}:{status:"Access Denied",message:"Executing an action has been denied by the server. Try to refresh the page."});break;case 404:o({status:"Not found",message:"A resource you requested could not be found."});break;default:o({status:"Communication Error",message:"The application received an unexpected "+s+" response from the server. Try to refresh the page or login and out of the application."})}}e.$on("httpError",a)}],o=["$scope","$http","$location","$window","Uri","Notifications",function(t,n,i,r,o,a){var s=o.appUri(":engine"),c={};n.get(o.appUri("engine://engine/")).then(function(n){t.engines=n.data,e.forEach(t.engines,function(e){c[e.name]=e}),t.currentEngine=c[s],t.currentEngine||(a.addError({status:"Not found",message:"The process engine you are trying to access does not exist",scope:t}),i.path("/"))}),t.$watch("currentEngine",function(e){e&&s!==e.name&&(r.location.href=o.appUri("app://../"+e.name+"/"))})}],a=["$scope","$location",function(e,t){e.activeClass=function(e){var n=t.absUrl();return-1!=n.indexOf(e)?"active":""}}],s=["$scope","$window","$cacheFactory","$location","Notifications","AuthenticationService","Uri",function(e,t,n,i,r,o,a){e.logout=function(){o.logout()}}];return i.run(r).controller("ProcessEngineSelectionController",o).controller("AuthenticationController",s).controller("NavigationController",a)}),define("camunda-commons-ui/plugin/view",["angular"],function(e){"use strict";return function(t){t.directive("view",["$q","$http","$templateCache","$anchorScroll","$compile","$controller",function(t,n,i,r,o,a){return{restrict:"ECA",terminal:!0,link:function(s,c,l){function u(){h&&(h.$destroy(),h=null)}function p(){c.html(""),u()}function d(e){var t=e.template;if(t)return t;var r=e.url;return n.get(r,{cache:i}).then(function(e){return e.data})}function f(){var n=s.$eval(l.provider),i=s.$eval(l.vars)||{};return n?void t.when(d(n)).then(function(t){c.html(t),u();var l,p=o(c.contents()),d={};h=s.$new(!0),i&&(i.read&&e.forEach(i.read,function(e){h[e]=s[e],s.$watch(e,function(t){h[e]=t})}),i.write&&e.forEach(i.write,function(e){h.$watch(e,function(t){s[e]=t})})),n.controller&&(d.$scope=h,l=a(n.controller,d),c.children().data("$ngControllerController",l)),p(h),h.$emit("$pluginContentLoaded"),r()},function(e){throw p(),e}):void p()}var h;s.$watch(l.provider,f)}}}])}}),define("camunda-commons-ui/plugin/service",["angular"],function(e){"use strict";return function(t){function n(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}t._camPlugins={};var i,r=[],o=e.element("base").attr("cam-exclude-plugins")||"";o&&(e.forEach(o.split(","),function(e){e=e.split(":");var t="*";e.length>=2&&n(e[1])&&(t=n(e.pop())),e=n(e.shift()),e&&r.push(e+":"+t)}),i=new RegExp("("+r.join("|")+")","i"));var a=[function(){function e(e,t){for(var n,i="undefined"!=typeof t.priority?t.priority:-(1/0),r=0;n=e[r];r++)if("undefined"==typeof n.priority||n.priority<i)return void e.splice(r,0,t);e.push(t)}function n(t,n,i){var r=i[t]=i[t]||[];e(r,n)}var r={};this.registerPlugin=function(e,o,a){if(t._camPlugins[o+":"+a.id]=!1,!i||!i.test(o+":"+a.id)){t._camPlugins[o+":"+a.id]=!0;var s=r[e]=r[e]||{};n(o,a,s)}},this.$get=["$filter",function(e){var t={getAllProviders:function(e){return r[e]||{}},getProviders:function(t,n){if(!t)throw new Error("No type given");var i=n.component;if(!i)throw new Error("No component given");var o=(r[t]||{})[i];return n.id&&(o=e("filter")(o,{id:n.id})),o||[]},getProvider:function(e,t){var n=this.getProviders(e,t);return(n||[])[0]}};return t}]}];t.provider("Plugins",a);var s=["PluginsProvider",function(t){this.registerDefaultView=function(e,n){i&&i.test(e+":"+n.id)||t.registerPlugin("view",e,n)},this.registerView=function(e,n){t.registerPlugin("view",e,n)},this.$get=["Uri","Plugins",function(t,n){function i(n){e.forEach(n,function(n){e.forEach(n,function(e){e.url&&(e.url=require.toUrl(t.appUri(e.url)))})})}function r(){o||(i(n.getAllProviders("view")),o=!0)}var o=!1,a={getProviders:function(e){return r(),n.getProviders("view",e)},getProvider:function(e){var t=this.getProviders(e);return(t||[])[0]}};return a}]}];t.provider("Views",s);var c=["PluginsProvider",function(t){this.registerData=function(e,n){t.registerPlugin("data",e,n)},this.$get=["Plugins","$injector",function(t,n){var i={getProviders:function(e){return t.getProviders("data",e)},getProvider:function(e){var t=this.getProviders(e);return(t||[])[0]},instantiateProviders:function(t,i){var r=this.getProviders({component:t});e.forEach(r,function(e){n.instantiate(e.controller,i)})}};return i}]}];t.provider("Data",c)}}),define("camunda-commons-ui/plugin/index",["angular","./view","./service"],function(e,t,n){"use strict";var i=e.module("cockpit.plugin",[]);return t(i),n(i),i}),define("camunda-commons-ui/directives/email",[],function(){"use strict";return function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;i.$parsers.unshift(function(e){return r.test(e)||!e?(i.$setValidity("email",!0),e):(i.$setValidity("email",!1),null)})}}}}),define("text!camunda-commons-ui/directives/engineSelect.html",[],function(){return'<li class="dropdown engine-select"\n    ng-show="engines.length > 1 && currentEngine">\n<!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n  <a href\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign "\n          tooltip="If you have multiple engines running you can select the process engine here. The data displayed in this application is based on the selected engine only."\n          tooltip-placement="bottom"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul class="dropdown-menu dropdown-menu-right">\n    <li ng-repeat="(id, engine) in engines">\n      <a ng-href="{{ \'app://../\' + engine.name + \'/\' | uri }}">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n<!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n</li>\n'}),define("camunda-commons-ui/directives/engineSelect",["angular","text!./engineSelect.html"],function(e,t){"use strict";var n=e.element,i=["$scope","$http","$location","$window","Uri","Notifications",function(t,n,i,r,o,a){var s=o.appUri(":engine"),c={};n.get(o.appUri("engine://engine/")).then(function(n){t.engines=n.data,e.forEach(t.engines,function(e){c[e.name]=e}),t.currentEngine=c[s],t.currentEngine||(a.addError({status:"Not found",message:"The process engine you are trying to access does not exist",scope:t}),i.path("/dashboard"))})}];return function(){return{template:t,replace:!0,controller:i,link:function(e,t,i){var r;e.$watch(i.ngShow,function(e){e&&!r&&(r=n('<li class="divider-vertical"></li>').insertAfter(t)),!e&&r&&(r.remove(),r=null)}),e.$on("$destroy",function(){r&&r.remove()})}}}}),define("camunda-commons-ui/directives/autoFill",[],function(){"use strict";return["$interval",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){var o=e(function(){var t=n.val();t!==r.$viewValue&&(r.$setViewValue(t),r.$setPristine()),"function"!=typeof document.contains||document.contains(n[0])?"function"!=typeof document.contains&&e.cancel(o):e.cancel(o)},500)}}}]}),define("text!camunda-commons-ui/directives/inPlaceTextField.html",[],function(){return'<!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n<div in-place-text-field-root>\n  <div ng-if="!editing">\n    {{ context[property] }}\n    <span class="edit-toggle"\n          ng-click="enter()">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </span>\n  </div>\n\n  <form ng-if="editing"\n        ng-submit="submit()"\n        class="inline-edit"\n        name="inPlaceTextFieldForm"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      <!-- {{ value }} -->\n      <input name="value"\n             ng-model="value"\n             type="text"\n             class="in-place-edit form-control"\n             placeholder="{{ placeholder }}"\n             autofocus\n             ng-required="isRequired">\n    </fieldset>\n\n    <div class="inline-edit-footer">\n\n      <p class="error" ng-show="error">\n        {{ error.message }}\n      </p>\n\n      <div class="btn-group">\n        <button type="submit"\n                class="btn btn-sm btn-primary"\n                ng-disabled="inPlaceTextFieldForm.$invalid">\n          <span class="glyphicon glyphicon-ok "></span>\n        </button>\n        <button type="button"\n                class="btn btn-sm btn-default"\n                ng-click="leave()">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n'}),define("camunda-commons-ui/directives/inPlaceTextField",["angular","text!./inPlaceTextField.html"],function(e,t){"use strict";return[function(){function n(t){t.value=t.context[t.property]||t.defaultValue||null,t.enter=function(){t.editing=!0,t.value=t.context[t.property]},t.submit=function(){var n=this;return t.context[t.property]===n.value?void t.leave():(t.context[t.property]=n.value,e.isFunction(t.$parent[t.submitCallback])&&t.$parent[t.submitCallback](n),void t.leave())},t.leave=function(){t.editing=!1}}return{restrict:"E",scope:{unserializeCallback:"@unserialize",serializeCallback:"@serialize",initializeCallback:"@initialize",enterCallback:"@enter",validateCallback:"@validate",submitCallback:"@submit",successCallback:"@success",errorCallback:"@error",leaveCallback:"@leave",context:"=",property:"@",defaultValue:"@default"},template:t,link:function(e,t,i){if(e.isRequired=null!==i.required&&void 0!==i.required,!e.property)throw new Error("You must specify a property of the context to be editable");var r=e.initializeCallback?e.$parent[e.initializeCallback]:function(e,t){t()};r(e,function(){n(e)})}}}]}),define("camunda-commons-ui/directives/notificationsPanel",["angular-sanitize"],function(){"use strict";var e='<div class="notifications">  <div ng-repeat="notification in notifications" class="alert" ng-class="notificationClass(notification)">    <button type="button" class="close" ng-click="removeNotification(notification)">&times;</button>    <strong class="status" ng-bind-html="trustHTML(notification.status)" compile-template></strong>     <strong ng-if="notification.message">:</strong>    <span class="message" ng-bind-html="trustHTML(notification.message)" compile-template></span>  </div></div>';return["Notifications","$filter","$sce",function(t,n,i){return{restrict:"EA",scope:{filter:"=notificationsFilter"},template:e,link:function(e){function r(e){return o?!!n("filter")([e],o).length:!0}var o=e.filter,a=e.notifications=[],s={add:function(e){return r(e)?(a.push(e),!0):!1},remove:function(e){var t=a.indexOf(e);-1!=t&&a.splice(t,1)}};t.registerConsumer(s),e.removeNotification=function(e){a.splice(a.indexOf(e),1)},e.notificationClass=function(e){var t=["danger","error","success","warning","info"],n="info";return t.indexOf(e.type)>-1&&(n=e.type),"alert-"+n},e.trustHTML=function(e){return i.trustAsHtml(e)},e.$on("$destroy",function(){t.unregisterConsumer(s)})}}}]}),define("camunda-commons-ui/directives/password",[],function(){"use strict";return function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$parsers.unshift(function(e){return e&&e.length>=8?i.$setValidity("password",!0):i.$setValidity("password",!1),e})}}}}),define("camunda-commons-ui/directives/passwordRepeat",[],function(){"use strict";return function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=n.passwordRepeat;i.$parsers.unshift(function(t){var n=e.$eval(r),o=t==n;return i.$setValidity("passwordRepeat",o),t}),e.$watch(r,function(e){var t=e==i.$viewValue;i.$setValidity("passwordRepeat",t),t||i.$setViewValue(i.$viewValue)})}}}}),define("camunda-commons-ui/directives/requestAware",["angular","jquery"],function(e,t){"use strict";return[function(){return{require:"form",link:function(e,n,i,r){function o(e){r.$setValidity("request",e)}function a(e){var i=t(":input",n);e?i.removeAttr("disabled"):i.attr("disabled","disabled")}function s(e){a(e),o(e)}r.$load={start:function(){e.$broadcast("formLoadStarted")},finish:function(){e.$broadcast("formLoadFinished")}},e.$on("formLoadStarted",function(){s(!1)}),e.$on("formLoadFinished",function(){s(!0)}),"manual"!=i.requestAware&&(e.$on("requestStarted",function(){r.$load.start()}),e.$on("requestFinished",function(){r.$load.finish()}))}}}]}),define("camunda-commons-ui/directives/showIfAuthorized",[],function(){"use strict";var e={application:0,user:1,group:2,"group membership":3,authorization:4},t=function(t,n,i){var r={};return r.permissionName=t,r.resourceName=n,r.resourceType=e[n],i&&(r.resourceId=i),r};return["$animate","AuthorizationResource",function(e,n){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(i,r,o){return function(i,a){var s,c,l=r.authPermission,u=r.authResourceName,p=i.$eval(r.authResourceId);n.check(t(l,u,p)).$promise.then(function(t){s&&(e.leave(s),s=void 0),c&&(c.$destroy(),c=void 0),t.authorized&&(c=i.$new(),o(c,function(t){s=t,e.enter(t,a.parent(),a)}))})}}}}]}),define("camunda-commons-ui/directives/compileTemplate",[],function(){"use strict";return["$compile","$parse",function(e,t){return{restrict:"A",link:function(n,i,r){function o(){return(a(n)||"").toString();
}var a=t(r.ngBindHtml);n.$watch(o,function(){e(i.contents())(n)})}}}]}),define("camunda-commons-ui/directives/nl2br",[],function(){"use strict";return[function(){return{scope:{original:"=nl2br"},link:function(e,t,n){t.html((e.original||"").replace(/\n/g,"<br/>"))}}}]}),define("camunda-commons-ui/directives/instantTypeahead",[],function(){"use strict";var e="[$empty$]";return["$timeout",function(t){return{restrict:"A",require:"ngModel",link:function(n,i,r,o){t(function(){o.$parsers.unshift(function(t){var n=t?t:e;return o.$viewValue=n,n}),o.$parsers.push(function(t){return t===e?"":t}),n.instantTypeahead=function(t,n){return n===e||(""+t).toLowerCase().indexOf((""+n).toLowerCase())>-1},i.bind("click",function(e){i.trigger("input")})})}}}]}),define("camunda-commons-ui/directives/index",["angular","./email","./engineSelect","./autoFill","./inPlaceTextField","./notificationsPanel","./password","./passwordRepeat","./requestAware","./showIfAuthorized","./compileTemplate","./nl2br","./instantTypeahead","../util/index","angular-bootstrap"],function(e,t,n,i,r,o,a,s,c,l,u,p,d,f){"use strict";var h=e.module("camunda.common.directives",["ui.bootstrap",f.name]);return h.directive("email",t),h.directive("autoFill",i),h.directive("engineSelect",n),h.directive("camInPlaceTextField",r),h.directive("notificationsPanel",o),h.directive("password",a),h.directive("passwordRepeat",s),h.directive("showIfAuthorized",l),h.directive("compileTemplate",u),h.directive("nl2br",p),h.directive("instantTypeahead",d),h.config(["$modalProvider","$tooltipProvider",function(e,t){e.options={backdrop:!0,keyboard:!0},t.options({animation:!0,popupDelay:100,appendToBody:!0})}]),h}),define("camunda-commons-ui/resources/authorizationResource",[],function(){"use strict";return["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/authorization/:action"),{action:"@action"},{check:{method:"GET",params:{action:"check"},cache:!0},count:{method:"GET",params:{action:"count"}},create:{method:"POST",params:{action:"create"}}})}]}),define("camunda-commons-ui/resources/index",["angular","./authorizationResource"],function(e,t){"use strict";var n=e.module("camunda.common.resources",[]);return n.factory("AuthorizationResource",t),n}),define("camunda-commons-ui/search/index",["angular"],function(e){"use strict";var t=["$location","$rootScope",function(t,n){var i=!1;n.$on("$routeUpdate",function(e,t){i?i=!1:n.$broadcast("$routeChanged",t)}),n.$on("$routeChangeSuccess",function(e,t){i=!1});var r=function(){Array.prototype.slice(arguments);return t.search.apply(t,arguments)};return r.updateSilently=function(n){var r=t.absUrl();e.forEach(n,function(e,n){t.search(n,e)});var o=t.absUrl();o!=r&&(i=!0)},r}],n=e.module("camunda.common.search",[]);return n.factory("search",t),n}),define("camunda-commons-ui/services/escape",[],function(){"use strict";return function(){return function(e){return encodeURIComponent(e).replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}}}),define("camunda-commons-ui/services/debounce",[],function(){"use strict";return["$timeout",function(e){return function(t,n){var i,r=function(){var o=this,a=arguments;r.$loading=!0,i&&e.cancel(i),i=e(function(){i=null,r.$loading=!1,t.apply(o,a)},n)};return r}}]}),define("camunda-commons-ui/services/RequestLogger",[],function(){"use strict";return["$rootScope",function(e){var t=0;return{logStarted:function(){t||e.$broadcast("requestStarted"),t++},logFinished:function(){t--,t||e.$broadcast("requestFinished")}}}]}),define("camunda-commons-ui/services/ResourceResolver",[],function(){"use strict";return["$route","$q","$location","Notifications",function(e,t,n,i){function r(r,o){function a(e){c.resolve(e)}function s(e){var t,r,a,s=!1;404===e.status?(t="No "+p+" with ID "+l,r=!0,a=o.redirectTo||"/dashboard","function"==typeof a&&(s=!0,a(e))):401===e.status?(t="Authentication failed. Your session might have expired, you need to login.",a="/login"):(t="Received "+e.status+" from server.",a="/dashboard"),s||(n.path(a),r&&n.replace(),i.addError({status:"Failed to display "+p,message:t,http:!0,exclusive:["http"]})),c.reject(t)}var c=t.defer(),l=e.current.params[r],u=o.resolve,p=o.name||"entity",d=u(l);if(d.$promise&&d.$promise.then)d=d.$promise.then(function(e){a(e)},s);else{if(!d.then)throw new Error("No promise returned by #resolve");d=d.then(a,s)}return c.promise}return{getByRouteParam:r}}]}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("camunda-bpm-sdk-js",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.CamSDK=e()}}(function(){var define,module,exports;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(_dereq_,module,exports){"use strict";var CamundaForm=_dereq_("./../../forms/camunda-form"),angular=window.angular,$=CamundaForm.$,constants=_dereq_("./../../forms/constants"),CamundaFormAngular=CamundaForm.extend({renderForm:function(e){function t(e,t){var n=$(t);if(!n.attr("ng-model")){var i=n.attr(constants.DIRECTIVE_CAM_VARIABLE_NAME);i&&n.attr("ng-model",i)}}var n=this;CamundaForm.prototype.renderForm.apply(this,arguments);for(var i=0;i<this.formFieldHandlers.length;i++){var r=this.formFieldHandlers[i],o=r.selector;$(o,n.formElement).each(t)}var a=n.formElement.injector();if(a){var s=n.formElement.scope();a.invoke(["$compile",function(e){e(n.formElement)(s)}]),s.camForm=this}},executeFormScript:function(script){var injector=this.formElement.injector(),scope=this.formElement.scope();!function(camForm,$scope){var inject=function(e){if(!angular.isFunction(e)&&!angular.isArray(e))throw new Error("Must call inject(array|fn)");injector.instantiate(e,{$scope:scope})};eval(script)}(this,scope)},fireEvent:function(){var e=this,t=arguments,n=this.formElement.scope(),i=function(){CamundaForm.prototype.fireEvent.apply(e,t)},r=e.formElement.injector();r&&r.invoke(["$rootScope",function(e){var t=e.$$phase;"$apply"!==t&&"$digest"!==t?n.$apply(function(){i()}):i()}])}});module.exports=CamundaFormAngular},{"./../../forms/camunda-form":27,"./../../forms/constants":28}],2:[function(e,t,n){"use strict";var i=window.angular,r=e("./camunda-form-angular"),o=e("./../../forms/type-util").isType,a=i.module("cam.embedded.forms",[]);a.directive("camVariableName",["$rootScope",function(e){return{require:"ngModel",link:function(t,n,i,r){n.on("camFormVariableApplied",function(n,i){var o=e.$$phase;"$apply"!==o&&"$digest"!==o?t.$apply(function(){r.$setViewValue(i)}):r.$setViewValue(i)})}}}]),a.directive("camVariableType",[function(){return{require:"ngModel",link:function(e,t,n,i){var r=function(e){var r=n.camVariableType;return i.$setValidity("camVariableType",!0),(e||e===!1||"Bytes"===r)&&(i.$pristine&&(i.$pristine=!1,i.$dirty=!0,t.addClass("ng-dirty"),t.removeClass("ng-pristine")),-1!==["Boolean","String","Bytes"].indexOf(r)||o(e,r)||i.$setValidity("camVariableType",!1),"file"===n.type&&"Bytes"===r&&t[0].files&&t[0].files[0]&&t[0].files[0].size>(n.camMaxFilesize||5e6)&&i.$setValidity("camVariableType",!1)),e};i.$parsers.unshift(r),i.$formatters.push(r),n.$observe("camVariableType",function(e){return r(i.$viewValue)}),t.bind("change",function(){r(i.$viewValue),e.$apply()})}}}]),t.exports=r},{"./../../forms/type-util":34,"./camunda-form-angular":1}],3:[function(e,t,n){t.exports={Client:e("./../api-client"),Form:e("./forms"),utils:e("./../utils")}},{"./../api-client":6,"./../utils":36,"./forms":2}],4:[function(e,t,n){"use strict";function i(){}var r=e("./../events"),o=e("./../base-class"),a=o.extend({initialize:function(){this.http=this.constructor.http}},{path:"",http:{},create:function(e,t){},list:function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},t=t||i;var n=this,r={count:0,items:[]};return this.http.get(this.path+"/count",{data:e,done:function(i,o){return i?(n.trigger("error",i),t(i)):(r.count=o.count,void n.http.get(n.path,{data:e,done:function(i,o){return i?(n.trigger("error",i),t(i)):(r.items=o,r.firstResult=parseInt(e.firstResult||0,10),r.maxResults=r.firstResult+parseInt(e.maxResults||10,10),n.trigger("loaded",r),void t(i,r))}}))}})},update:function(e,t,n){},"delete":function(e,t){}});r.attach(a),t.exports=a},{"./../base-class":25,"./../events":26}],5:[function(e,t,n){(function(n){"use strict";function i(e,t){return function(n,i){return n||!i.ok&&!i.noContent?(n=n||i.error||new Error("The "+i.req.method+" request on "+i.req.url+" failed"),i&&i.body&&i.body.message&&(n.message=i.body.message),e.trigger("error",n),t(n)):("application/hal+json"===i.type&&(i.body&&0!==Object.keys(i.body).length||(i.body=JSON.parse(i.text)),i.body=a.solveHALEmbedded(i.body)),void t(null,i.body?i.body:i.text?i.text:""))}}var r=e("superagent"),o=e("./../events"),a=e("./../utils"),s=function(){},c=function(e){if(e=e||{},!e.baseUrl)throw new Error("HttpClient needs a `baseUrl` configuration property.");o.attach(this),this.config=e};c.prototype.post=function(e,t){t=t||{};var o=t.done||s,a=this,c=this.config.baseUrl+(e?"/"+e:""),l=r.post(c);if("undefined"!=typeof n)Object.keys(t.fields||{}).forEach(function(e){l.field(e,t.fields[e])}),(t.attachments||[]).forEach(function(e){l.attach("data",new n(e.content),{filename:e.name})});else if(t.fields||t.attachments)return o(new Error("Multipart request is only supported in node.js environement."));l.set("Accept","application/hal+json, application/json; q=0.5").send(t.data||{}).query(t.query||{}),l.end(i(a,o))},c.prototype.get=function(e,t){var n=this.config.baseUrl+(e?"/"+e:"");return this.load(n,t)},c.prototype.load=function(e,t){t=t||{};var n=t.done||s,o=this,a=t.accept||"application/hal+json, application/json; q=0.5",c=r.get(e).set("Accept",a).query(t.data||{});c.end(i(o,n))},c.prototype.put=function(e,t){t=t||{};var n=t.done||s,o=this,a=this.config.baseUrl+(e?"/"+e:""),c=r.put(a).set("Accept","application/hal+json, application/json; q=0.5").send(t.data||{});c.end(i(o,n))},c.prototype.del=function(e,t){t=t||{};var n=t.done||s,o=this,a=this.config.baseUrl+(e?"/"+e:""),c=r.del(a).set("Accept","application/hal+json, application/json; q=0.5").send(t.data||{});c.end(i(o,n))},c.prototype.options=function(e,t){t=t||{};var n=t.done||s,o=this,a=this.config.baseUrl+(e?"/"+e:""),c=r("OPTIONS",a).set("Accept","application/hal+json, application/json; q=0.5");c.end(i(o,n))},t.exports=c}).call(this,e("buffer").Buffer)},{"./../events":26,"./../utils":36,buffer:37,superagent:41}],6:[function(e,t,n){"use strict";function i(e){if(!e)throw new Error("Needs configuration");if(!e.apiUri)throw new Error("An apiUri is required");r.attach(this),e.engine=e.engine||"default",e.mock="undefined"!=typeof e.mock?e.mock:!0,e.resources=e.resources||{},this.HttpClient=e.HttpClient||i.HttpClient,this.baseUrl=e.apiUri,"/"!==this.baseUrl.slice(-1)&&(this.baseUrl+="/"),this.baseUrl+="engine/"+e.engine,this.config=e,this.initialize()}var r=e("./../events");i.HttpClient=e("./http-client"),function(t){t.config={};var n={};t.initialize=function(){function t(e){i.trigger("error",e)}n.authorization=e("./resources/authorization"),n.deployment=e("./resources/deployment"),n.filter=e("./resources/filter"),n.history=e("./resources/history"),n["process-definition"]=e("./resources/process-definition"),n["process-instance"]=e("./resources/process-instance"),n.task=e("./resources/task"),n.variable=e("./resources/variable"),n["case-execution"]=e("./resources/case-execution"),n["case-instance"]=e("./resources/case-instance"),n["case-definition"]=e("./resources/case-definition"),n.user=e("./resources/user"),n.group=e("./resources/group"),n.incident=e("./resources/incident"),n.job=e("./resources/job"),n.metrics=e("./resources/metrics"),n["decision-definition"]=e("./resources/decision-definition"),n.execution=e("./resources/execution");var i=this;this.http=new this.HttpClient({baseUrl:this.baseUrl});var r,o,a,s;for(r in n){o={name:r,mock:this.config.mock,baseUrl:this.baseUrl,headers:{}},a=this.config.resources[r]||{};for(s in a)o[s]=a[s];n[r].http=new this.HttpClient(o),n[r].http.on("error",t)}},t.resource=function(e){return n[e]}}(i.prototype),t.exports=i},{"./../events":26,"./http-client":5,"./resources/authorization":7,"./resources/case-definition":8,"./resources/case-execution":9,"./resources/case-instance":10,"./resources/decision-definition":11,"./resources/deployment":12,"./resources/execution":13,"./resources/filter":14,"./resources/group":15,"./resources/history":16,"./resources/incident":17,"./resources/job":18,"./resources/metrics":19,"./resources/process-definition":20,"./resources/process-instance":21,"./resources/task":22,"./resources/user":23,"./resources/variable":24}],7:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="authorization",r.list=function(e,t){return this.http.get(this.path,{data:e,done:t})},r.get=function(e,t){return this.http.get(this.path+"/"+e,{done:t})},r.create=function(e,t){return this.http.post(this.path+"/create",{data:e,done:t})},r.update=function(e,t){return this.http.put(this.path+"/"+e.id,{data:e,done:t})},r.save=function(e,t){return r[e.id?"update":"create"](e,t)},r["delete"]=function(e,t){return this.http.del(this.path+"/"+e,{done:t})},t.exports=r},{"./../abstract-client-resource":4}],8:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="case-definition",r.list=function(e,t){return this.http.get(this.path,{data:e,done:t})},r.create=function(e,t){this.http.post(this.path+"/"+(e.id?e.id:"key/"+e.key)+"/create",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],9:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="case-execution",r.list=function(e,t){return this.http.get(this.path,{data:e,done:function(e,n){return e?t(e):void t(null,n)}})},r.disable=function(e,t,n){this.http.post(this.path+"/"+e+"/disable",{data:t,done:n})},r.reenable=function(e,t,n){this.http.post(this.path+"/"+e+"/reenable",{data:t,done:n})},r.manualStart=function(e,t,n){this.http.post(this.path+"/"+e+"/manual-start",{data:t,done:n})},r.complete=function(e,t,n){this.http.post(this.path+"/"+e+"/complete",{data:t,done:n})},t.exports=r},{"./../abstract-client-resource":4}],10:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="case-instance",r.list=function(e,t){return this.http.get(this.path,{data:e,done:t})},r.count=function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e={}),e=e||{},this.http.get(this.path+"/count",{data:e,done:t||function(){}})},r.close=function(e,t,n){this.http.post(this.path+"/"+e+"/close",{data:t,done:n})},t.exports=r},{"./../abstract-client-resource":4}],11:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="decision-definition",r.list=function(e,t){return this.http.get(this.path,{data:e,done:t})},r.get=function(e,t){return this.http.get(this.path+"/"+e,{done:t})},r.getXml=function(e,t){return this.http.get(this.path+"/"+e+"/xml",{done:t})},r.evaluate=function(e,t){return this.http.post(this.path+"/"+(e.id?e.id:"key/"+e.key)+"/evaluate",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],12:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="deployment",r.create=function(e,t){var n={"deployment-name":e.deploymentName},i=Array.isArray(e.files)?e.files:[e.files];return e.deploymentSource&&(n["deployment-source"]=e.deploymentSource),e.enableDuplicateFiltering&&(n["enable-duplicate-filtering"]="true"),e.deployChangedOnly&&(n["deploy-changed-only"]="true"),this.http.post(this.path+"/create",{data:{},fields:n,attachments:i,done:t})},r["delete"]=function(e,t,n){var i=this.path+"/"+e;if(t){var r=[];for(var o in t){var a=t[o];r.push(o+"="+a)}r.length&&(i+="?"+r.join("&"))}return this.http.del(i,{done:n})},r.list=function(){i.list.apply(this,arguments)},r.getResources=function(e,t){this.http.get(this.path+"/"+e+"/resources",{done:t})},r.getResource=function(e,t,n){this.http.get(this.path+"/"+e+"/resources/"+t,{done:n})},r.getResourceData=function(e,t,n){this.http.get(this.path+"/"+e+"/resources/"+t+"/data",{accept:"*/*",done:n})},r.redeploy=function(e,t){var n=e.id;return delete e.id,this.http.post(this.path+"/"+n+"/redeploy",{data:e,done:t||function(){}})},t.exports=r},{"./../abstract-client-resource":4}],13:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="execution",r.deleteVariable=function(e,t){this.http.del(this.path+"/"+e.id+"/localVariables/"+e.varId,{done:t})},r.modifyVariables=function(e,t){this.http.post(this.path+"/"+e.id+"/localVariables",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],14:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="filter",r.get=function(e,t){return this.http.get(this.path+"/"+e,{done:t})},r.list=function(e,t){return this.http.get(this.path,{data:e,done:t})},r.getTasks=function(e,t){var n=this.path+"/";return"string"==typeof e?(n=n+e+"/list",e={}):(n=n+e.id+"/list",delete e.id),n+="?firstResult="+(e.firstResult||0),n+="&maxResults="+(e.maxResults||15),this.http.post(n,{data:e,done:t})},r.create=function(e,t){return this.http.post(this.path+"/create",{data:e,done:t})},r.update=function(e,t){return this.http.put(this.path+"/"+e.id,{data:e,done:t})},r.save=function(e,t){return r[e.id?"update":"create"](e,t)},r["delete"]=function(e,t){return this.http.del(this.path+"/"+e,{done:t})},r.authorizations=function(e,t){return 1===arguments.length?this.http.options(this.path,{done:e}):this.http.options(this.path+"/"+e,{done:t})},t.exports=r},{"./../abstract-client-resource":4}],15:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="group",r.create=function(e,t){return this.http.post(this.path+"/create",{data:e,done:t||function(){}})},r.count=function(e,t){1===arguments.length?(t=e,e={}):e=e||{},this.http.get(this.path+"/count",{data:e,done:t||function(){}})},r.get=function(e,t){var n="string"==typeof e?e:e.id;this.http.get(this.path+"/"+n,{data:e,done:t||function(){}})},r.list=function(e,t){this.http.get(this.path,{data:e,done:t||function(){}})},r.createMember=function(e,t){return this.http.put(this.path+"/"+e.id+"/members/"+e.userId,{data:e,done:t||function(){}})},r.deleteMember=function(e,t){return this.http.del(this.path+"/"+e.id+"/members/"+e.userId,{data:e,done:t||function(){}})},r.update=function(e,t){return this.http.put(this.path+"/"+e.id,{data:e,done:t||function(){}})},r["delete"]=function(e,t){return this.http.del(this.path+"/"+e.id,{data:e,done:t||function(){}})},t.exports=r},{"./../abstract-client-resource":4}],16:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="history",r.userOperation=function(e,t){return arguments.length<2&&(t=arguments[0],e={}),this.http.get(this.path+"/user-operation",{data:e,done:t})},r.processInstance=function(e,t){arguments.length<2&&(t=arguments[0],e={});var n={},i={},r=["firstResult","maxResults"];for(var o in e)r.indexOf(o)>-1?i[o]=e[o]:n[o]=e[o];return this.http.post(this.path+"/process-instance",{data:n,query:i,done:t})},r.processInstanceCount=function(e,t){return arguments.length<2&&(t=arguments[0],e={}),this.http.post(this.path+"/process-instance/count",{data:e,done:t})},r.decisionInstance=function(e,t){return arguments.length<2&&(t=arguments[0],e={}),this.http.get(this.path+"/decision-instance",{data:e,done:t})},r.decisionInstanceCount=function(e,t){return arguments.length<2&&(t=arguments[0],e={}),this.http.get(this.path+"/decision-instance/count",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],17:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="incident",r.get=function(e,t){this.http.get(this.path,{data:e,done:t})},r.count=function(e,t){this.http.get(this.path+"/count",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],18:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="job",r.list=function(e,t){var n=this.path;return n+="?firstResult="+(e.firstResult||0),e.maxResults&&(n+="&maxResults="+e.maxResults),this.http.post(n,{data:e,done:t})},r.setRetries=function(e,t){return this.http.put(this.path+"/"+e.id+"/retries",{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],19:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="metrics",r.sum=function(e,t){var n=this.path+"/"+e.name+"/sum";return delete e.name,this.http.get(n,{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],20:[function(e,t,n){"use strict";function i(){}var r=e("./../abstract-client-resource"),o=r.extend({suspend:function(e,t){return"function"==typeof e&&(t=e,e={}),e=e||{},t=t||i,this.http.post(this.path,{done:t})},stats:function(e){return this.http.post(this.path,{done:e||i})},start:function(e){return this.http.post(this.path,{data:{},done:e})}},{path:"process-definition",get:function(e,t){return this.http.get(this.path+"/"+e,{done:t})},getByKey:function(e,t){return this.http.get(this.path+"/key/"+e,{done:t})},list:function(e,t){r.list.apply(this,arguments)},formVariables:function(e,t){var n="";if(e.key)n="key/"+e.key;else{if(!e.id)return t(new Error("Process definition task variables needs either a key or an id."));n=e.id}var i={deserializeValues:e.deserializeValues};return e.names&&(i.variableNames=(e.names||[]).join(",")),this.http.get(this.path+"/"+n+"/form-variables",{data:i,done:t||function(){}})},submitForm:function(e,t){var n="";if(e.key)n="key/"+e.key;else{if(!e.id)return t(new Error("Process definition task variables needs either a key or an id."));n=e.id}return this.http.post(this.path+"/"+n+"/submit-form",{data:{businessKey:e.businessKey,variables:e.variables},done:t||function(){}})},startForm:function(e,t){var n=this.path+"/"+(e.key?"key/"+e.key:e.id)+"/startForm";return this.http.get(n,{done:t||i})},xml:function(e,t){var n=this.path+"/"+(e.id?e.id:"key/"+e.key)+"/xml";return this.http.get(n,{done:t||i})},submit:function(e,t){var n=this.path;return n+=e.key?"/key/"+e.key:"/"+e.id,n+="/submit-form",this.http.post(n,{data:e,done:t})},suspend:function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=t||{},n=n||i,e=Array.isArray(e)?e:[e],this.http.post(this.path,{done:n})},start:function(e,t){return this.http.post(this.path+"/"+(e.id?e.id:"key/"+e.key)+"/start",{data:e,done:t})}});t.exports=o},{"./../abstract-client-resource":4}],21:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend({},{path:"process-instance",create:function(e,t){return this.http.post(e,t)},list:function(e,t){i.list.apply(this,arguments)},count:function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e={}),e=e||{},this.http.get(this.path+"/count",{data:e,done:t||function(){}})},modify:function(e,t){this.http.post(this.path+"/"+e.id+"/modification",{data:{instructions:e.instructions,skipCustomListeners:e.skipCustomListeners,skipIoMappings:e.skipIoMappings},done:t})}});t.exports=r},{"./../abstract-client-resource":4}],22:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="task",r.list=function(e,t){return this.http.get(this.path,{data:e,done:function(e,n){if(e)return t(e);var i=n._embedded.task||n._embedded.tasks,r=n._embedded.processDefinition;for(var o in i){var a=i[o];a._embedded=a._embedded||{};for(var s in r)if(r[s].id===a.processDefinitionId){a._embedded.processDefinition=[r[s]];break}}t(null,n)}})},r.get=function(e,t){return this.http.get(this.path+"/"+e,{done:t})},r.comments=function(e,t){return this.http.get(this.path+"/"+e+"/comment",{done:t})},r.identityLinks=function(e,t){return this.http.get(this.path+"/"+e+"/identity-links",{done:t})},r.identityLinksAdd=function(e,t,n){return 2===arguments.length&&(n=arguments[1],t=arguments[0],e=t.id),this.http.post(this.path+"/"+e+"/identity-links",{data:t,done:n})},r.identityLinksDelete=function(e,t,n){return 2===arguments.length&&(n=arguments[1],t=arguments[0],e=t.id),this.http.post(this.path+"/"+e+"/identity-links/delete",{data:t,done:n})},r.createComment=function(e,t,n){return this.http.post(this.path+"/"+e+"/comment/create",{data:{message:t},done:n})},r.create=function(e,t){return this.http.post(this.path+"/create",{data:e,done:t})},r.update=function(e,t){return this.http.put(this.path+"/"+e.id,{data:e,done:t})},r.assignee=function(e,t,n){var i={userId:t};return 2===arguments.length&&(e=arguments[0].taskId,i.userId=arguments[0].userId,n=arguments[1]),this.http.post(this.path+"/"+e+"/assignee",{data:i,done:n})},r.delegate=function(e,t,n){var i={userId:t};return 2===arguments.length&&(e=arguments[0].taskId,i.userId=arguments[0].userId,n=arguments[1]),this.http.post(this.path+"/"+e+"/delegate",{data:i,done:n})},r.claim=function(e,t,n){var i={userId:t};return 2===arguments.length&&(e=arguments[0].taskId,i.userId=arguments[0].userId,n=arguments[1]),this.http.post(this.path+"/"+e+"/claim",{data:i,done:n})},r.unclaim=function(e,t){return"string"!=typeof e&&(e=e.taskId),this.http.post(this.path+"/"+e+"/unclaim",{done:t})},r.submitForm=function(e,t){return e.id?this.http.post(this.path+"/"+e.id+"/submit-form",{data:{variables:e.variables},done:t||function(){}}):t(new Error("Task submitForm needs a task id."))},r.formVariables=function(e,t){var n="";if(e.key)n="key/"+e.key;else{if(!e.id)return t(new Error("Task variables needs either a key or an id."));n=e.id}var i={deserializeValues:e.deserializeValues};return e.names&&(i.variableNames=e.names.join(",")),this.http.get(this.path+"/"+n+"/form-variables",{data:i,done:t||function(){}})},r.form=function(e,t){return this.http.get(this.path+"/"+e+"/form",{done:t})},r.localVariable=function(e,t){return this.http.put(this.path+"/"+e.id+"/localVariables/"+e.varId,{data:e,done:t})},r.localVariables=function(e,t){return this.http.get(this.path+"/"+e+"/localVariables",{done:t})},r.modifyVariables=function(e,t){this.http.post(this.path+"/"+e.id+"/localVariables",{data:e,done:t})},r.deleteVariable=function(e,t){this.http.del(this.path+"/"+e.id+"/localVariables/"+e.varId,{done:t})},t.exports=r},{"./../abstract-client-resource":4}],23:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="user",r.create=function(e,t){e=e||{};var n=["id","firstName","lastName","password"];for(var i in n){var r=n[i];if(!e[r])return t(new Error("Missing "+r+" option to create user"))}var o={profile:{id:e.id,firstName:e.firstName,lastName:e.lastName},credentials:{password:e.password}};return e.email&&(o.profile.email=e.email),this.http.post(this.path+"/create",{data:o,done:t||function(){}})},r.list=function(e,t){1===arguments.length?(t=e,e={}):e=e||{},this.http.get(this.path,{data:e,done:t||function(){}})},r.count=function(e,t){1===arguments.length?(t=e,e={}):e=e||{},this.http.get(this.path+"/count",{data:e,done:t||function(){}})},r.profile=function(e,t){var n="string"==typeof e?e:e.id;this.http.get(this.path+"/"+n+"/profile",{done:t||function(){}})},r.updateProfile=function(e,t){return e=e||{},e.id?void this.http.put(this.path+"/"+e.id+"/profile",{data:e,done:t||function(){}}):t(new Error("Missing id option to update user profile"))},r.updateCredentials=function(e,t){if(e=e||{},!e.id)return t(new Error("Missing id option to update user credentials"));if(!e.password)return t(new Error("Missing password option to update user credentials"));var n={password:e.password};e.authenticatedUserPassword&&(n.authenticatedUserPassword=e.authenticatedUserPassword),this.http.put(this.path+"/"+e.id+"/credentials",{data:n,done:t||function(){}})},r["delete"]=function(e,t){var n="string"==typeof e?e:e.id;this.http.del(this.path+"/"+n,{done:t||function(){}})},t.exports=r},{"./../abstract-client-resource":4}],24:[function(e,t,n){"use strict";var i=e("./../abstract-client-resource"),r=i.extend();r.path="variable-instance",r.instances=function(e,t){this.http.post(this.path,{data:e,done:t})},t.exports=r},{"./../abstract-client-resource":4}],25:[function(e,t,n){"use strict";function i(){}function r(){this.initialize()}var o=e("./events");r.extend=function(e,t){e=e||{},t=t||{};var n,i,r,o,a=this;n=e&&Object.hasOwnProperty.call(a,"constructor")?e.constructor:function(){return a.apply(this,arguments)};for(r in a)n[r]=a[r];for(r in t)n[r]=t[r];i=function(){this.constructor=n},i.prototype=a.prototype,n.prototype=new i;for(o in e)n.prototype[o]=e[o];return n},r.prototype.initialize=i,o.attach(r),t.exports=r},{"./events":26}],26:[function(e,t,n){"use strict";function i(e){var t,n=[];for(t in e)n.push(e[t]);return n}function r(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function o(e,t){e._events=e._events||{},e._events[t]=e._events[t]||[]}var a={};a.attach=function(e){e.on=this.on,e.once=this.once,e.off=this.off,e.trigger=this.trigger,e._events={}},a.on=function(e,t){return o(this,e),this._events[e].push(t),this},a.once=function(e,t){var n=this,i=r(function(){n.off(e,r),t.apply(this,arguments)});return i._callback=t,this.on(e,i)},a.off=function(e,t){if(o(this,e),!t)return delete this._events[e],this;var n,i=[];for(n in this._events[e])this._events[e][n]!==t&&i.push(this._events[e][n]);return this._events[e]=i,this},a.trigger=function(){var e=i(arguments),t=e.shift();o(this,t);var n;for(n in this._events[t])this._events[t][n](this,e);return this},t.exports=a},{}],27:[function(_dereq_,module,exports){"use strict";function CamundaForm(e){if(!e)throw new Error("CamundaForm need to be initialized with options.");var t=e.done=e.done||function(e){if(e)throw e};return e.client?this.client=e.client:this.client=new CamSDK.Client(e.clientConfig||{}),e.taskId||e.processDefinitionId||e.processDefinitionKey?(this.taskId=e.taskId,this.taskId&&(this.taskBasePath=this.client.baseUrl+"/task/"+this.taskId),this.processDefinitionId=e.processDefinitionId,this.processDefinitionKey=e.processDefinitionKey,this.formElement=e.formElement,this.containerElement=e.containerElement,this.formUrl=e.formUrl,this.formElement||this.containerElement?this.formElement||this.formUrl?(this.variableManager=new VariableManager({client:this.client}),this.formFieldHandlers=e.formFieldHandlers||[InputFieldHandler,ChoicesFieldHandler,FileDownloadHandler],this.businessKey=null,this.fields=[],this.scripts=[],this.options=e,Events.attach(this),void this.initialize(t)):t(new Error("Camunda form needs to be intialized with either 'formElement' or 'formUrl'")):t(new Error("CamundaForm needs to be initilized with either 'formElement' or 'containerElement'"))):t(new Error("Cannot initialize Taskform: either 'taskId' or 'processDefinitionId' or 'processDefinitionKey' must be provided"))}var $=_dereq_("./dom-lib"),VariableManager=_dereq_("./variable-manager"),InputFieldHandler=_dereq_("./controls/input-field-handler"),ChoicesFieldHandler=_dereq_("./controls/choices-field-handler"),FileDownloadHandler=_dereq_("./controls/file-download-handler"),BaseClass=_dereq_("./../base-class"),constants=_dereq_("./constants"),Events=_dereq_("./../events");CamundaForm.prototype.initializeHandler=function(e){var t=this,n=e.selector;$(n,t.formElement).each(function(){t.fields.push(new e(this,t.variableManager))})},CamundaForm.prototype.initialize=function(e){e=e||function(e){if(e)throw e};var t=this;if(this.formUrl)this.client.http.load(this.formUrl,{accept:"*/*",done:function(n,i){if(n)return e(n);try{t.renderForm(i),t.initializeForm(e)}catch(r){e(r)}},data:{noCache:Date.now()}});else try{this.initializeForm(e)}catch(n){e(n)}},CamundaForm.prototype.renderForm=function(e){$(this.containerElement).html("").append('<div class="injected-form-wrapper">'+e+"</div>");
var t=this.formElement=$("form",this.containerElement);if(1!==t.length)throw new Error("Form must provide exaclty one element <form ..>");t.attr("name")||t.attr("name","$$camForm")},CamundaForm.prototype.initializeForm=function(e){var t=this;this.initializeFormScripts(),this.initializeFieldHandlers(),this.executeFormScripts(),this.fireEvent("form-loaded"),this.fetchVariables(function(n,i){if(n)throw n;t.mergeVariables(i),t.storeOriginalValues(i),t.fireEvent("variables-fetched"),t.restore(),t.fireEvent("variables-restored"),t.applyVariables(),t.fireEvent("variables-applied"),e(null,t)})},CamundaForm.prototype.initializeFieldHandlers=function(){for(var e in this.formFieldHandlers)this.initializeHandler(this.formFieldHandlers[e])},CamundaForm.prototype.initializeFormScripts=function(){for(var e=$("script["+constants.DIRECTIVE_CAM_SCRIPT+"]",this.formElement),t=0;t<e.length;t++)this.scripts.push(e[t].text)},CamundaForm.prototype.executeFormScripts=function(){for(var e=0;e<this.scripts.length;e++)this.executeFormScript(this.scripts[e])},CamundaForm.prototype.executeFormScript=function(script){!function(camForm){eval(script)}(this)},CamundaForm.prototype.store=function(e){var t=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!t){if("function"==typeof e)return e(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.storePrevented=!1,this.fireEvent("store"),!this.storePrevented){try{this.retrieveVariables();var n={date:Date.now(),vars:{}};for(var i in this.variableManager.variables)"Bytes"!==this.variableManager.variables[i].type&&(n.vars[i]=this.variableManager.variables[i].value);localStorage.setItem("camForm:"+t,JSON.stringify(n))}catch(r){if("function"==typeof e)return e(r);throw r}this.fireEvent("variables-stored"),"function"==typeof e&&e()}},CamundaForm.prototype.isRestorable=function(){var e=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!e)throw new Error("Cannot determine the storage ID");if(!localStorage.getItem("camForm:"+e))return!1;var t=localStorage.getItem("camForm:"+e);try{t=JSON.parse(t)}catch(n){return!1}return t&&Object.keys(t).length?!0:!1},CamundaForm.prototype.restore=function(e){var t,n=this.variableManager.variables,i=this.taskId||this.processDefinitionId||this.caseDefinitionId;if(!i){if("function"==typeof e)return e(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.isRestorable()){try{t=localStorage.getItem("camForm:"+i),t=JSON.parse(t).vars}catch(r){if("function"==typeof e)return e(r);throw r}for(var o in t)n[o]?n[o].value=t[o]:n[o]={name:o,value:t[o]};"function"==typeof e&&e()}else if("function"==typeof e)return e()},CamundaForm.prototype.submit=function(e){var t=this.taskId||this.processDefinitionId;if(this.submitPrevented=!1,this.fireEvent("submit"),!this.submitPrevented){try{this.retrieveVariables()}catch(n){return e(n)}var i=this;this.transformFiles(function(){localStorage.removeItem("camForm:"+t),i.submitVariables(function(t,n){return t?(i.fireEvent("submit-failed",t),e(t)):(i.fireEvent("submit-success"),void e(null,n))})})}},CamundaForm.prototype.transformFiles=function(e){var t=this,n=1,i=function(){0===--n&&e()},r=function(e){if(0===e)return"0 Byte";var t=1e3,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(t));return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]};for(var o in this.fields){var a=this.fields[o].element[0];if("file"===a.getAttribute("type"))if("function"==typeof FileReader&&a.files.length>0){if(a.files[0].size>(parseInt(a.getAttribute("cam-max-filesize"),10)||5e6))throw new Error("Maximum file size of "+r(parseInt(a.getAttribute("cam-max-filesize"),10)||5e6)+" exceeded.");var s=new FileReader;s.onloadend=function(e,n){return function(r){for(var o="",a=new Uint8Array(r.target.result),s=a.byteLength,c=0;s>c;c++)o+=String.fromCharCode(a[c]);var l=t.variableManager.variables[t.fields[e].variableName];l.value=btoa(o),"file"===l.type.toLowerCase()&&(l.valueInfo={filename:n.files[0].name,mimeType:n.files[0].type}),i()}}(o,a),s.readAsArrayBuffer(a.files[0]),n++}else t.variableManager.variables[t.fields[o].variableName].value=null}i()},CamundaForm.prototype.fetchVariables=function(e){e=e||function(){};var t=this.variableManager.variableNames();if(t.length){var n={names:t,deserializeValues:!1};this.taskId?(n.id=this.taskId,this.client.resource("task").formVariables(n,e)):(n.id=this.processDefinitionId,n.key=this.processDefinitionKey,this.client.resource("process-definition").formVariables(n,e))}else e()},CamundaForm.prototype.submitVariables=function(e){e=e||function(){};var t=this.variableManager,n=t.variables,i={};for(var r in n)if(t.isDirty(r)){var o=n[r].value;t.isJsonVariable(r)&&(o=JSON.stringify(o)),i[r]={value:o,type:n[r].type,valueInfo:n[r].valueInfo}}var a={variables:i};if(this.taskId)a.id=this.taskId,this.client.resource("task").submitForm(a,e);else{var s=this.businessKey||this.formElement.find('input[type="text"][cam-business-key]').val();s&&(a.businessKey=s),a.id=this.processDefinitionId,a.key=this.processDefinitionKey,this.client.resource("process-definition").submitForm(a,e)}},CamundaForm.prototype.storeOriginalValues=function(e){for(var t in e)this.variableManager.setOriginalValue(t,e[t].value)},CamundaForm.prototype.mergeVariables=function(e){var t=this.variableManager.variables;for(var n in e){if(t[n])for(var i in e[n])t[n][i]=t[n][i]||e[n][i];else t[n]=e[n];this.variableManager.isJsonVariable(n)&&(t[n].value=JSON.parse(e[n].value));var r=t[n].type;!this.taskBasePath||"Bytes"!==r&&"File"!==r||(t[n].contentUrl=this.taskBasePath+"/variables/"+t[n].name+"/data"),this.variableManager.isVariablesFetched=!0}},CamundaForm.prototype.applyVariables=function(){for(var e in this.fields)this.fields[e].applyValue()},CamundaForm.prototype.retrieveVariables=function(){for(var e in this.fields)this.fields[e].getValue()},CamundaForm.prototype.fireEvent=function(e,t){this.trigger(e,t)},CamundaForm.$=$,CamundaForm.VariableManager=VariableManager,CamundaForm.fields={},CamundaForm.fields.InputFieldHandler=InputFieldHandler,CamundaForm.fields.ChoicesFieldHandler=ChoicesFieldHandler,CamundaForm.cleanLocalStorage=function(e){for(var t=0;t<localStorage.length;t++){var n=localStorage.key(t);if(0===n.indexOf("camForm:")){var i=JSON.parse(localStorage.getItem(n));i.date<e&&(localStorage.removeItem(n),t--)}}},CamundaForm.extend=BaseClass.extend,module.exports=CamundaForm},{"./../base-class":25,"./../events":26,"./constants":28,"./controls/choices-field-handler":30,"./controls/file-download-handler":31,"./controls/input-field-handler":32,"./dom-lib":33,"./variable-manager":35}],28:[function(e,t,n){"use strict";t.exports={DIRECTIVE_CAM_FORM:"cam-form",DIRECTIVE_CAM_VARIABLE_NAME:"cam-variable-name",DIRECTIVE_CAM_VARIABLE_TYPE:"cam-variable-type",DIRECTIVE_CAM_FILE_DOWNLOAD:"cam-file-download",DIRECTIVE_CAM_CHOICES:"cam-choices",DIRECTIVE_CAM_SCRIPT:"cam-script"}},{}],29:[function(e,t,n){"use strict";function i(){}function r(e,t){this.element=a(e),this.variableManager=t,this.variableName=null,this.initialize()}var o=e("../../base-class"),a=e("./../dom-lib");r.selector=null,r.extend=o.extend,r.prototype.initialize=i,r.prototype.applyValue=i,r.prototype.getValue=i,t.exports=r},{"../../base-class":25,"./../dom-lib":33}],30:[function(e,t,n){"use strict";var i=e("./../constants"),r=e("./abstract-form-field"),o=e("./../dom-lib"),a=r.extend({initialize:function(){var e=this.variableName=this.element.attr(i.DIRECTIVE_CAM_VARIABLE_NAME),t=this.variableType=this.element.attr(i.DIRECTIVE_CAM_VARIABLE_TYPE),n=this.choicesVariableName=this.element.attr(i.DIRECTIVE_CAM_CHOICES);this.variableManager.createVariable({name:e,type:t,value:this.element.val()||null}),n&&this.variableManager.fetchVariable(n),this.originalValue=this.element.val()||null,this.previousValue=this.originalValue,this.variableName=e},applyValue:function(){var e=this.element[0].selectedIndex;if(this.choicesVariableName){var t=this.variableManager.variableValue(this.choicesVariableName);if(t)if(t instanceof Array)for(var n=0;n<t.length;n++){var i=t[n];this.element.find('option[text="'+i+'"]').length||this.element.append(o("<option>",{value:i,text:i}))}else for(var r in t)this.element.find('option[value="'+r+'"]').length||this.element.append(o("<option>",{value:r,text:t[r]}))}this.element[0].selectedIndex=e,this.previousValue=this.element.val()||"";var a=this.variableManager.variableValue(this.variableName);return a!==this.previousValue&&(this.element.val(a),this.element.trigger("camFormVariableApplied",a)),this},getValue:function(){var e,t=this.element.prop("multiple");return t?(e=[],this.element.find("option:selected").each(function(){e.push(o(this).val())})):e=this.element.find("option:selected").attr("value"),this.variableManager.variableValue(this.variableName,e),e}},{selector:"select["+i.DIRECTIVE_CAM_VARIABLE_NAME+"]"});t.exports=a},{"./../constants":28,"./../dom-lib":33,"./abstract-form-field":29}],31:[function(e,t,n){"use strict";var i=e("./../constants"),r=e("./abstract-form-field"),o=(e("./../dom-lib"),r.extend({initialize:function(){this.variableName=this.element.attr(i.DIRECTIVE_CAM_FILE_DOWNLOAD),this.variableManager.fetchVariable(this.variableName)},applyValue:function(){var e=this.variableManager.variable(this.variableName);return this.element.attr("href",e.contentUrl),0===this.element.text().trim().length&&this.element.text(e.valueInfo.filename),this}},{selector:"a["+i.DIRECTIVE_CAM_FILE_DOWNLOAD+"]"}));t.exports=o},{"./../constants":28,"./../dom-lib":33,"./abstract-form-field":29}],32:[function(e,t,n){"use strict";var i=e("./../constants"),r=e("./abstract-form-field"),o=(e("./../dom-lib"),function(e){return"checkbox"===e.attr("type")&&"Boolean"===e.attr(i.DIRECTIVE_CAM_VARIABLE_TYPE)}),a=r.extend({initialize:function(){var e=this.element.attr(i.DIRECTIVE_CAM_VARIABLE_NAME),t=this.element.attr(i.DIRECTIVE_CAM_VARIABLE_TYPE);this.variableManager.createVariable({name:e,type:t}),this.originalValue=this.element.val(),this.previousValue=this.originalValue,this.variableName=e,this.getValue()},applyValue:function(){this.previousValue=this.getValueFromHtmlControl()||"";var e=this.variableManager.variableValue(this.variableName);return e!==this.previousValue&&(this.applyValueToHtmlControl(e),this.element.trigger("camFormVariableApplied",e)),this},getValue:function(){var e=this.getValueFromHtmlControl();return this.variableManager.variableValue(this.variableName,e),e},getValueFromHtmlControl:function(){return o(this.element)?this.element.prop("checked"):this.element.val()},applyValueToHtmlControl:function(e){o(this.element)?this.element.prop("checked",e):"file"!==this.element[0].type&&this.element.val(e)}},{selector:"input["+i.DIRECTIVE_CAM_VARIABLE_NAME+"],textarea["+i.DIRECTIVE_CAM_VARIABLE_NAME+"]"});t.exports=a},{"./../constants":28,"./../dom-lib":33,"./abstract-form-field":29}],33:[function(e,t,n){(function(e){"use strict";!function(t){t("undefined"!=typeof window?window:e)}(function(e){e=e||{},t.exports=e.jQuery||(e.angular?e.angular.element:!1)||e.Zepto})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,n){"use strict";var i=/^-?[\d]+$/,r=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,o=/^(true|false)$/,a=/^(\d{2}|\d{4})(?:\-)([0]{1}\d{1}|[1]{1}[0-2]{1})(?:\-)([0-2]{1}\d{1}|[3]{1}[0-1]{1})T(?:\s)?([0-1]{1}\d{1}|[2]{1}[0-3]{1}):([0-5]{1}\d{1}):([0-5]{1}\d{1})?$/,s=function(e,t){switch(t){case"Integer":case"Long":case"Short":return i.test(e);case"Float":case"Double":return r.test(e);case"Boolean":return o.test(e);case"Date":return a.test(e)}},c=function(e,t){if("string"==typeof e&&(e=e.trim()),"String"===t||"Bytes"===t||"File"===t)return e;if(!s(e,t))throw new Error("Value '"+e+"' is not of type "+t);switch(t){case"Integer":case"Long":case"Short":return parseInt(e,10);case"Float":case"Double":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return e}};t.exports={convertToType:c,isType:s}},{}],35:[function(e,t,n){"use strict";function i(){this.variables={},this.isVariablesFetched=!1}var r=e("./type-util").convertToType;i.prototype.fetchVariable=function(e){if(this.isVariablesFetched)throw new Error("Illegal State: cannot call fetchVariable(), variables already fetched.");this.createVariable({name:e})},i.prototype.createVariable=function(e){if(this.variables[e.name])throw new Error("Cannot add variable with name "+e.name+": already exists.");this.variables[e.name]=e},i.prototype.destroyVariable=function(e){if(!this.variables[e])throw new Error("Cannot remove variable with name "+e+": variable does not exist.");delete this.variables[e]},i.prototype.setOriginalValue=function(e,t){if(!this.variables[e])throw new Error("Cannot set original value of variable with name "+e+": variable does not exist.");this.variables[e].originalValue=t},i.prototype.variable=function(e){return this.variables[e]},i.prototype.variableValue=function(e,t){var n=this.variable(e);return"undefined"==typeof t||null===t?t=null:""===t&&"String"!==n.type?t=null:"string"==typeof t&&"String"!==n.type&&(t=r(t,n.type)),2===arguments.length&&(n.value=t),n.value},i.prototype.isDirty=function(e){var t=this.variable(e);return this.isJsonVariable(e)?t.originalValue!==JSON.stringify(t.value):t.originalValue!==t.value||"Object"===t.type},i.prototype.isJsonVariable=function(e){var t=this.variable(e),n=t.type,i=["Object","json","Json"],r=i.indexOf(n);return 0===r?-1!==t.valueInfo.serializationDataFormat.indexOf("application/json"):-1!==r},i.prototype.variableNames=function(){return Object.keys(this.variables)},t.exports=i},{"./type-util":34}],36:[function(e,t,n){"use strict";function i(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,r=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n():r())})};r()}var r=t.exports={typeUtils:e("./forms/type-util")};r.solveHALEmbedded=function(e){function t(t){if("Id"!==t.slice(-2))return!1;var n=t.slice(0,-2),i=e._embedded;return!(!i[n]||!i[n].length)}function n(e){var n=Object.keys(e);for(var i in n)"_"!==n[i][0]&&t(n[i])||n.splice(i,1);return n}var i=Object.keys(e._embedded||{});for(var r in i){var o=i[r];for(var a in e._embedded[o]){e._embedded[o][a]._embedded=e._embedded[o][a]._embedded||{};var s=n(e._embedded[o][a]);for(var c in s){var l=s[c];if(e._embedded[o][a][l]){var u=e._embedded[l.slice(0,-2)];for(var p in u)u[p].id===e._embedded[o][a][l]&&(e._embedded[o][a]._embedded[l.slice(0,-2)]=[u[p]])}}}}return e},r.series=function(e,t){t=t||function(){};var n={};i(Object.keys(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(e){t(e,n)})}},{"./forms/type-util":34}],37:[function(e,t,n){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o=typeof e;if("number"===o)r=e>0?e>>>0:0;else if("string"===o)"base64"===t&&(e=E(e)),r=i.byteLength(e,t);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&M(e.data)&&(e=e.data),r=+e.length>0?Math.floor(+e.length):0}if(this.length>$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");var a;i.TYPED_ARRAY_SUPPORT?a=i._augment(new Uint8Array(r)):(a=this,a.length=r,a._isBuffer=!0);var s;if(i.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)a._set(e);else if(T(e))if(i.isBuffer(e))for(s=0;r>s;s++)a[s]=e.readUInt8(s);else for(s=0;r>s;s++)a[s]=(e[s]%256+256)%256;else if("string"===o)a.write(e,0,t);else if("number"===o&&!i.TYPED_ARRAY_SUPPORT&&!n)for(s=0;r>s;s++)a[s]=0;return a}function r(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;i>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function o(e,t,n,i){var r=N(S(t),e,n,i);return r}function a(e,t,n,i){var r=N(k(t),e,n,i);return r}function s(e,t,n,i){return a(e,t,n,i)}function c(e,t,n,i){var r=N(I(t),e,n,i);return r}function l(e,t,n,i){var r=N(D(t),e,n,i,2);return r}function u(e,t,n){return 0===t&&n===e.length?R.fromByteArray(e):R.fromByteArray(e.slice(t,n))}function p(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(i+=P(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+P(r)}function d(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function f(e,t,n){return d(e,t,n)}function h(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=A(e[o]);return r}function m(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function g(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||a>t)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}function y(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function b(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function w(e,t,n,i,r,o){if(t>r||o>t)throw new TypeError("value is out of bounds");if(n+i>e.length)throw new TypeError("index out of range")}function x(e,t,n,i,r){return r||w(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(e,t,n,i,23,4),n+4}function _(e,t,n,i,r){return r||w(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(e,t,n,i,52,8),n+8}function E(e){for(e=C(e).replace(F,"");e.length%4!==0;)e+="=";return e}function C(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e){return M(e)||i.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function A(e){return 16>e?"0"+e.toString(16):e.toString(16)}function S(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(127>=i)t.push(i);else{var r=n;i>=55296&&57343>=i&&n++;for(var o=encodeURIComponent(e.slice(r,n+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function k(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function D(e){for(var t,n,i,r=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,i=t%256,r.push(i),r.push(n);return r}function I(e){return R.toByteArray(e)}function N(e,t,n,i,r){r&&(i-=i%r);for(var o=0;i>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function P(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var R=e("base64-js"),O=e("ieee754"),M=e("is-array");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var $=1073741823;i.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);a>o&&e[o]===t[o];o++);return o!==a&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!M(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new i(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=S(e).length;break;case"base64":n=I(e).length;break;default:n=e.length}return n},i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(e,t,n){var i=!1;if(t>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return h(this,t,n);case"utf8":case"utf-8":return p(this,t,n);case"ascii":return d(this,t,n);case"binary":return f(this,t,n);case"base64":return u(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return 0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return i.compare(this,e)},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,i){if(isFinite(t))isFinite(n)||(i=n,n=void 0);else{var u=i;i=t,t=n,n=u}t=Number(t)||0;var p=this.length-t;n?(n=Number(n),n>p&&(n=p)):n=p,i=String(i||"utf8").toLowerCase();var d;switch(i){case"hex":d=r(this,e,t,n);break;case"utf8":case"utf-8":d=o(this,e,t,n);break;case"ascii":d=a(this,e,t,n);break;case"binary":d=s(this,e,t,n);break;case"base64":d=c(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":d=l(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+i)}return d},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(e,t){var n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e),i.TYPED_ARRAY_SUPPORT)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;r>a;a++)o[a]=this[a+e];return o},i.prototype.readUInt8=function(e,t){return t||g(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||g(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||g(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||g(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||g(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readInt8=function(e,t){return t||g(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||g(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||g(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||g(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||g(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||g(e,4,this.length),O.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||g(e,4,this.length),O.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||g(e,8,this.length),O.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||g(e,8,this.length),O.read(this,e,!1,52,8)},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):y(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):b(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):y(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):y(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):b(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||v(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return _(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return _(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==o.length){if(n>r)throw new TypeError("sourceEnd < sourceStart");if(0>t||t>=e.length)throw new TypeError("targetStart out of bounds");if(0>n||n>=o.length)throw new TypeError("sourceStart out of bounds");if(0>r||r>o.length)throw new TypeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(1e3>a||!i.TYPED_ARRAY_SUPPORT)for(var s=0;a>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new TypeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new TypeError("start out of bounds");if(0>n||n>this.length)throw new TypeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=S(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var L=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=L.get,e.set=L.set,e.write=L.write,e.toString=L.toString,e.toLocaleString=L.toString,e.toJSON=L.toJSON,e.equals=L.equals,e.compare=L.compare,e.copy=L.copy,e.slice=L.slice,e.readUInt8=L.readUInt8,e.readUInt16LE=L.readUInt16LE,e.readUInt16BE=L.readUInt16BE,e.readUInt32LE=L.readUInt32LE,e.readUInt32BE=L.readUInt32BE,e.readInt8=L.readInt8,e.readInt16LE=L.readInt16LE,e.readInt16BE=L.readInt16BE,e.readInt32LE=L.readInt32LE,e.readInt32BE=L.readInt32BE,e.readFloatLE=L.readFloatLE,e.readFloatBE=L.readFloatBE,e.readDoubleLE=L.readDoubleLE,e.readDoubleBE=L.readDoubleBE,e.writeUInt8=L.writeUInt8,e.writeUInt16LE=L.writeUInt16LE,e.writeUInt16BE=L.writeUInt16BE,e.writeUInt32LE=L.writeUInt32LE,e.writeUInt32BE=L.writeUInt32BE,e.writeInt8=L.writeInt8,e.writeInt16LE=L.writeInt16LE,e.writeInt16BE=L.writeInt16BE,e.writeInt32LE=L.writeInt32LE,e.writeInt32BE=L.writeInt32BE,e.writeFloatLE=L.writeFloatLE,e.writeFloatBE=L.writeFloatBE,e.writeDoubleLE=L.writeDoubleLE,e.writeDoubleBE=L.writeDoubleBE,e.fill=L.fill,e.inspect=L.inspect,e.toArrayBuffer=L.toArrayBuffer,e};var F=/[^+\/0-9A-z]/g},{"base64-js":38,ieee754:39,"is-array":40}],38:[function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a?62:t===s?63:c>t?-1:c+10>t?t-c+26+26:u+26>t?t-u:l+26>t?t-l+26:void 0}function n(e){function n(e){l[p++]=e}var i,r,a,s,c,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;c="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,l=new o(3*e.length/4-c),a=c>0?e.length-4:e.length;var p=0;for(i=0,r=0;a>i;i+=4,r+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===c&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),l}function r(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,a,s=e.length%3,c="";for(r=0,a=e.length-s;a>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],c+=n(o);switch(s){case 1:o=e[e.length-1],c+=t(o>>2),c+=t(o<<4&63),c+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],c+=t(o>>10),c+=t(o>>4&63),c+=t(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),l="a".charCodeAt(0),u="A".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],39:[function(e,t,n){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,p=n?r-1:0,d=n?-1:1,f=e[t+p];for(p+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+p],p+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+p],p+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,p=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,h=i?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+p>=1?d/c:d*Math.pow(2,1-p),t*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*c-1)*Math.pow(2,r),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*m}},{}],40:[function(e,t,n){var i=Array.isArray,r=Object.prototype.toString;t.exports=i||function(e){return!!e&&"[object Array]"==r.call(e)}},{}],41:[function(e,t,n){function i(){}function r(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(){if(v.XMLHttpRequest&&("file:"!=v.location.protocol||!v.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}function a(e){return e===Object(e)}function s(e){if(!a(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function c(e){for(var t,n,i={},r=e.split("&"),o=0,a=r.length;a>o;++o)n=r[o],t=n.split("="),i[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return i}function l(e){var t,n,i,r,o=e.split(/\r?\n/),a={};o.pop();for(var s=0,c=o.length;c>s;++s)n=o[s],t=n.indexOf(":"),i=n.slice(0,t).toLowerCase(),r=y(n.slice(t+1)),a[i]=r;return a}function u(e){return e.split(/ *; */).shift()}function p(e){return g(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),
e},{})}function d(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function f(e,t){var n=this;m.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new d(n)}catch(i){e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=i}n.callback(e,t)})}function h(e,t){return"function"==typeof t?new f("GET",e).end(t):1==arguments.length?new f("GET",e):new f(e,t)}var m=e("emitter"),g=e("reduce"),v="undefined"==typeof window?this:window,y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=s,h.parseString=c,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":c,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=u(t);var n=p(t);for(var i in n)this[i]=n[i]},d.prototype.parseBody=function(e){var t=h.parse[this.type];return t&&e&&e.length?t(e):null},d.prototype.setStatusProperties=function(e){var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e||1223==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},h.Response=d,m(f.prototype),f.prototype.use=function(e){return e(this),this},f.prototype.timeout=function(e){return this._timeout=e,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(e,t){if(a(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},f.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},f.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},f.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},f.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},f.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},f.prototype.query=function(e){return"string"!=typeof e&&(e=s(e)),e&&this._query.push(e),this},f.prototype.field=function(e,t){return this._formData||(this._formData=new FormData),this._formData.append(e,t),this},f.prototype.attach=function(e,t,n){return this._formData||(this._formData=new FormData),this._formData.append(e,t,n),this},f.prototype.send=function(e){var t=a(e),n=this.getHeader("Content-Type");if(t&&a(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return t?(n||this.type("json"),this):this},f.prototype.callback=function(e,t){var n=this._callback;return this.clearTimeout(),2==n.length?n(e,t):e?this.emit("error",e):void n(t)},f.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},f.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(e){var t=this,n=this.xhr=o(),a=this._query.join("&"),s=this._timeout,c=this._formData||this._data;if(this._callback=e||i,n.onreadystatechange=function(){return 4==n.readyState?0==n.status?t.aborted?t.timeoutError():t.crossDomainError():void t.emit("end"):void 0},n.upload&&(n.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,t.emit("progress",e)}),s&&!this._timer&&(this._timer=setTimeout(function(){t.abort()},s)),a&&(a=h.serializeObject(a),this.url+=~this.url.indexOf("?")?"&"+a:"?"+a),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof c&&!r(c)){var l=h.serialize[this.getHeader("Content-Type")];l&&(c=l(c))}for(var u in this.header)null!=this.header[u]&&n.setRequestHeader(u,this.header[u]);return this.emit("request",this),n.send(c),this},h.Request=f,h.get=function(e,t,n){var i=h("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},h.head=function(e,t,n){var i=h("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},h.del=function(e,t){var n=h("DELETE",e);return t&&n.end(t),n},h.patch=function(e,t,n){var i=h("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},h.post=function(e,t,n){var i=h("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},h.put=function(e,t,n){var i=h("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},t.exports=h},{emitter:42,reduce:43}],42:[function(e,t,n){function i(e){return e?r(e):void 0}function r(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===t||i.fn===t){n.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,r=n.length;r>i;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],43:[function(e,t,n){t.exports=function(e,t,n){for(var i=0,r=e.length,o=3==arguments.length?n:e[i++];r>i;)o=t.call(null,o,e[i],++i,e);return o}},{}]},{},[3])(3)}),define("camunda-commons-ui/services/HttpClient",["angular","camunda-bpm-sdk-js"],function(e,t){"use strict";return["$rootScope",function(n){function i(e){this._wrapped=new t.Client.HttpClient(e)}return e.forEach(["post","get","load","put","del","options","head"],function(e){i.prototype[e]=function(t,i){if(i.done){var r=i.done;i.done=function(e,t){function i(){return e&&401===e.status?(n.$broadcast("authentication.changed",null),n.authentication=null,void n.$broadcast("authentication.login.required")):void r(e,t)}var o=n.$$phase;"$apply"!==o&&"$digest"!==o?n.$apply(i):i()},this._wrapped[e](t,i)}}}),e.forEach(["on","once","off","trigger"],function(e){i.prototype[e]=function(){this._wrapped[e].apply(this,arguments)}}),i}]}),define("camunda-commons-ui/services/index",["angular","./../util/index","./escape","./debounce","./RequestLogger","./ResourceResolver","./HttpClient"],function(e,t,n,i,r,o,a){"use strict";var s=e.module("camunda.common.services",[t.name]);return s.filter("escape",n),s.factory("debounce",i),s.factory("RequestLogger",r),s.factory("ResourceResolver",o),s.factory("camAPIHttpClient",a),s.config(["$httpProvider",function(e){e.responseInterceptors.push(["$rootScope","$q","RequestLogger",function(e,t,n){return function(i){function r(e){return n.logFinished(),e}function o(i){n.logFinished();var r={status:parseInt(i.status),response:i,data:i.data};return e.$broadcast("httpError",r),t.reject(i)}return n.logStarted(),i.then(r,o)}}])}]),s.config(["$httpProvider","$windowProvider",function(e,t){var n=t.$get(),i=n.location.href,r=i.match(/\/app\/(\w+)\/(\w+)\//);if(!r)throw new Error("no process engine selected");e.defaults.headers.get={"X-Authorized-Engine":r[2]}}]),s}),define("text!camunda-commons-ui/widgets/inline-field/cam-widget-inline-field.html",[],function(){return'<span ng-show="!editing"\n      ng-click="startEditing()"\n      ng-transclude\n      class="view-value">\n</span>\n\n<span ng-if="editing && (varType === \'datetime\' || varType === \'date\' || varType === \'time\')"\n      class="preview">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if="editing"\n      class="edit">\n\n  <input ng-if="simpleField"\n         class="form-control"\n         type="{{ varType }}"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         placeholder="{{ placeholder }}" />\n\n  <span ng-show="varType === \'datetime\' || varType === \'date\' || varType === \'time\'"\n        class="cam-widget-inline-field field-control">\n\n    <datepicker class="datepicker"\n                ng-if="varType === \'datetime\' || varType === \'date\'"\n                type="text"\n                ng-required="true"\n                is-open="datePickerOptions.isOpen"\n                show-button-bar="false"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)" />\n\n    <timepicker class="timepicker"\n                ng-if="varType === \'datetime\' || varType === \'time\'"\n                show-meridian="false"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)" />\n  </span>\n\n  <input ng-if="varType === \'option\' && options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option as option.value for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n  <input ng-if="varType === \'option\' && !options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n\n  <span ng-show="varType !== \'option\'"\n        class="cam-widget-inline-field btn-group">\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="changeType()"\n            ng-if="flexible">\n      <span class="glyphicon"\n            ng-class="\'glyphicon-\' + (varType === \'text\' ? \'calendar\' : \'pencil\')"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="applyChange($event)">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="cancelChange($event)">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </span>\n</span>\n'}),define("camunda-commons-ui/widgets/inline-field/cam-widget-inline-field",["text!./cam-widget-inline-field.html","angular","jquery"],function(e,t,n){"use strict";return["$timeout","$filter","$document",function(i,r,o){return{scope:{varValue:"=value",varType:"@type",validator:"&validate",change:"&",onStart:"&onStartEditing",onCancel:"&onCancelEditing",placeholder:"@",options:"=?",allowNonOptions:"@",flexible:"@"},template:e,link:function(e,a){function s(e){var t,n,i,r,o,a,s,c=_.exec(e);return c?(t=parseInt(c[1]||0,10),n=parseInt(c[2]||0,10)-1,i=parseInt(c[3]||0,10),r=parseInt(c[4]||0,10),o=parseInt(c[5]||0,10),a=parseInt(c[6]||0,10),s=parseInt(c[7]||0,10),new Date(t,n,i,r,o,a,s)):void 0}function c(){return["datetime","date","time"].indexOf(e.varType)>-1}function l(){return["color","email","month","number","range","tel","text","time","url","week"].indexOf(e.varType)>-1}function u(){if(e.editing=!1,e.invalid=!1,e.editValue=e.varValue,e.validator=e.validator||function(){},e.onStart=e.onStart||function(){},e.onCancel=e.onCancel||function(){},e.change=e.change||function(){},e.options=e.options||[],e.allowNonOptions=e.allowNonOptions||!1,e.flexible=e.flexible||!1,e.varType=e.varType?e.varType:"text",e.simpleField=l(),c()){var t=e.varValue,n=null;n=t?s(t):Date.now(),e.dateValue=n}}function p(e){if(!e||!e.length)return!1;var t=e.parent();return t&&t.length?"body"===t[0].tagName.toLowerCase():!1}function d(){var e=a.offset();v.show().css({left:e.left+(a.outerWidth()-v.outerWidth()),top:e.top-v.outerHeight()}),y.show().css({left:e.left,top:e.top+a.outerHeight()})}function f(){v=(v&&v.length?v:a.find(".btn-group")).hide(),p(v)||b.append(v),y=(y&&y.length?y:a.find(".field-control")).hide(),p(y)||b.append(y),i(d,50)}function h(t){i(function(){(!e.editing||t)&&(v&&v.remove&&v.remove(),v=null,y&&y.remove&&y.remove(),y=null)},50)}function m(e){return a[0].contains(e.target)||v&&v.length&&v[0].contains(e.target)||y&&y.length&&y[0].contains(e.target)}function g(t){if(e.editing&&!m(t)){var i=n(t.target),r="ng-binding text-muted";if(!i.hasClass(r)){var o=i.children();o.hasClass(r)||e.$apply(e.cancelChange)}}}var v,y,b=t.element("body"),w=r("date"),x="yyyy-MM-dd'T'HH:mm:ss",_=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;e.editing=!1,e.$on("$locationChangeSuccess",function(){e.cancelChange()}),e.$on("$destroy",function(){h(!0)}),e.$watch("editing",function(t,n){t!==n&&(e.editing?(f(),a.addClass("inline-editing")):(h(),a.removeClass("inline-editing")))}),e.changeType=function(){"datetime"===e.varType?e.varType="text":e.varType="datetime",u(),e.editing=!0,a[0].attributes.type.value=e.varType,e.simpleField=l()},e.startEditing=function(){if(!e.editing){u(),e.editing=!0,e.onStart(e);var t=e.editValue;e.editValue="",i(function(){i(function(){a.find('[ng-model="editValue"]').trigger("input"),e.editValue=t,t&&i(function(){for(var e="object"==typeof t?t.value:t,i=a.find("li[ng-mouseenter]"),r=0;r<i.length;r++){var o=i[r];if(0===o.innerText.indexOf(e))return void n(o).trigger("mouseenter")}})})}),i(function(){n('[ng-model="editValue"]').focus(),n('[ng-model="editValue"]').select(),o.bind("click",g)},50)}},e.applyChange=function(t,i){if(e.invalid=e.validator(e),!e.invalid){if(e.simpleField)e.editValue=n('[ng-model="editValue"]').val(),e.varValue=e.editValue;else if("option"===e.varType){if(-1===e.options.indexOf(t)&&!e.allowNonOptions)return void e.cancelChange();e.editValue=t||n('[ng-model="editValue"]').val(),e.varValue=e.editValue}else c()&&(e.varValue=w(e.dateValue,x));e.$event=i,e.change(e),e.editing=!1,o.unbind("click",g)}},e.cancelChange=function(){e.editing=!1,e.onCancel(e),o.unbind("click",g)},e.changeDate=function(t){e.editValue=e.dateValue=t.dateValue},e.selectNextInlineField=function(e){for(var t=n("[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']"),r=e*(t.length-1);r!==!e*(t.length-1);r+=2*!e-1)if(t[r]===a[0])return void i(function(){var o=n(t[r+2*!e-1]);o.find(".view-value").click(),i(function(){o.find("input").select()})});i(function(){n(t[e*t.length-1]).find(".view-value").click()})},e.handleKeydown=function(t){13===t.keyCode?(e.applyChange(e.selection,t),t.preventDefault()):27===t.keyCode?(e.cancelChange(t),t.preventDefault()):9===t.keyCode&&(e.applyChange(e.selection,t),e.selectNextInlineField(t.shiftKey),t.preventDefault()),e.selection=null},e.selection=null,e.saveSelection=function(t){e.selection=t,i(function(){e.selection===t&&e.applyChange(t)})}},transclude:!0}}]}),define("text!camunda-commons-ui/widgets/search-pill/cam-widget-search-pill.html",[],function(){return'<!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n<span class="search-label"\n      ng-class="{\'invalid\': !valid}">\n  <a href\n     ng-click="onDelete()"\n     tooltip-placement="top"\n     tooltip="{{ deleteText }}"\n     class="remove-search glyphicon glyphicon-remove">\n  </a>\n\n  <span class="glyphicon glyphicon-exclamation-sign valid-hide"\n        ng-if="invalidText"\n        tooltip-placement="top"\n        tooltip="{{ invalidText }}"></span>\n  <span class="glyphicon glyphicon-exclamation-sign valid-hide"\n        ng-if="!invalidText"></span>\n\n  <span cam-widget-inline-field\n        class="set-value"\n        type="option"\n        options="type.values"\n        change="changeSearch(\'type\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'type\')"\n        value="type.value">\n    <span ng-if="type.tooltip"\n          tooltip-placement="top"\n          tooltip="{{type.tooltip}}">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!type.tooltip">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n  <span ng-if="extended">\n    :\n    <span ng-if="potentialNames.length <= 0">\n      <span ng-if="!!name.value.value">\n        <span cam-widget-inline-field\n              class="set-value"\n              type="text"\n              change="changeSearch(\'name\', varValue, $event)"\n              on-start-editing="clearEditTrigger(\'name\')"\n              value="name.value.value">\n          <span ng-if="name.tooltip"\n                tooltip-placement="top"\n                tooltip="{{name.tooltip}}">\n              {{ name.value.value | camQueryComponent }}\n          </span>\n          <span ng-if="!name.tooltip">\n              {{ name.value.value | camQueryComponent }}\n          </span>\n        </span>\n      </span>\n      <span ng-if="!name.value.value">\n        <span cam-widget-inline-field\n              class="set-value"\n              type="text"\n              change="changeSearch(\'name\', varValue, $event)"\n              on-start-editing="clearEditTrigger(\'name\')"\n              value="name.value">\n          <span ng-if="name.tooltip"\n                tooltip-placement="top"\n                tooltip="{{name.tooltip}}">\n              {{ name.value | camQueryComponent }}\n          </span>\n          <span ng-if="!name.tooltip">\n              {{ name.value | camQueryComponent }}\n          </span>\n        </span>\n      </span>\n    </span>\n    <span ng-if="potentialNames.length > 0">\n      <span cam-widget-inline-field\n            class="set-value"\n            type="option"\n            options="potentialNames"\n            allow-non-options="true"\n            change="changeSearch(\'name\', varValue, $event)"\n            on-start-editing="clearEditTrigger(\'name\')"\n            value="name.value">\n        <span ng-if="name.tooltip"\n              tooltip-placement="top"\n              tooltip="{{name.tooltip}}">\n          <span ng-if="name.value.key">\n            {{ name.value.value | camQueryComponent }}\n          </span>\n          <span ng-if="!name.value.key">\n            {{ name.value | camQueryComponent }}\n          </span>\n        </span>\n        <span ng-if="!name.tooltip">\n          <span ng-if="name.value.key">\n            {{ name.value.value | camQueryComponent }}\n          </span>\n          <span ng-if="!name.value.key">\n            {{ name.value | camQueryComponent }}\n          </span>\n        </span>\n      </span>\n    </span>\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value"\n        type="option"\n        options="operator.values"\n        change="changeSearch(\'operator\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'operator\')"\n        ng-if="!basic"\n        value="operator.value">\n    <span ng-if="operator.tooltip"\n          tooltip-placement="top"\n          tooltip="{{operator.tooltip}}">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!operator.tooltip">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value"\n        type="{{ valueType }}"\n        change="changeSearch(\'value\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'value\')"\n        ng-if="!basic"\n        value="value.value"\n        flexible="{{ allowDates }}">\n    <span class="visible-whitespace"\n          ng-if="value.tooltip"\n          tooltip-placement="top"\n          tooltip="{{value.tooltip}}">{{ value.value | camQueryComponent }}</span>\n    <span class="visible-whitespace"\n          ng-if="!value.tooltip">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n<!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n'}),define("camunda-commons-ui/widgets/search-pill/cam-widget-search-pill",["text!./cam-widget-search-pill.html","angular","jquery"],function(e,t,n){"use strict";return["$timeout",function(t){return{restrict:"A",scope:{valid:"=",extended:"=",basic:"=",allowDates:"=",enforceDates:"=",invalidText:"@",deleteText:"@",type:"=",name:"=",potentialNames:"=?",operator:"=",value:"=",onChange:"&",onDelete:"&"},link:function(e,n,i){e.valueType=e.enforceDates?"datetime":"text",e.potentialNames=e.potentialNames||[],e.changeSearch=function(t,n,i){var r=e[t].value;e[t].value=n,e[t].inEdit=!1,"function"==typeof e.onChange&&e.onChange({field:t,before:r,value:n,$event:i})},e.clearEditTrigger=function(t){e[t].inEdit=!1},e.$watch("allowDates",function(t){t||(e.valueType="text")}),e.$watch("enforceDates",function(t){t&&(e.valueType="datetime")});var r=function(e){t(function(){n.find("[cam-widget-inline-field][value='"+e+".value']").find(".view-value").click()})};e.$watch("value",function(e){return e&&e.inEdit&&r("value")},!0),e.$watch("name",function(e){return e&&e.inEdit&&r("name")},!0),e.$watch("type",function(e){return e&&e.inEdit&&r("type")},!0)},template:e}}]}),define("camunda-commons-ui/widgets/search-pill/cam-query-component",["angular"],function(e){"use strict";return["$filter",function(e){function t(e){return e.match(n)}var n=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,i=e("camDate");return function(e){return e&&t(e)?i(e):e?e:"??"}}]}),define("text!camunda-commons-ui/widgets/header/cam-widget-header.html",[],function(){return'<div class="navbar-header">\n  <button type="button"\n          class="navbar-toggle collapsed"\n          ng-click="navbarOpen = !navbarOpen">\n    <span class="sr-only">{{ toggleNavigation }}</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n  </button>\n\n  <a class="navbar-brand"\n     href="#/"\n     title="{{ brandName }}">\n    {{ brandName }}\n  </a>\n\n  <div class="small-screen-warning">\n    <span class="glyphicon glyphicon-exclamation-sign"\n          tooltip="{{ smallScreenWarning }}"\n          tooltip-placement="bottom"></span>\n  </div>\n</div>\n\n<ul class="cam-nav nav navbar-nav"\n    ng-class="{collapse: !navbarOpen}">\n\n  <li engine-select></li>\n\n  <li class="account dropdown"\n      ng-if="authentication.name"\n      ng-cloak>\n    <a href\n       class="dropdown-toggle">\n      <span class="glyphicon glyphicon-user "></span>\n      {{ (userName || authentication.name) }}\n    </a>\n\n    <ul class="dropdown-menu dropdown-menu-right">\n      <li class="profile">\n        <a ng-href="{{ \'../../admin/:engine/#/users/\' + authentication.name + \'?tab=profile\' | uri }}">\n          {{ myProfile }}\n        </a>\n      </li>\n\n      <li class="divider"></li>\n\n      <li class="logout">\n        <a href\n           ng-click="logout()">\n          {{ signOut }}\n        </a>\n      </li>\n    </ul>\n  </li>\n\n  <li class="divider-vertical"\n      ng-if="authentication.name"\n      ng-cloak></li>\n\n  <li class="app-switch dropdown">\n    <a href\n       class="dropdown-toggle">\n      <span class="glyphicon glyphicon-home"></span>\n      <span class="caret"></span>\n    </a>\n\n    <ul class="dropdown-menu dropdown-menu-right">\n      <li ng-repeat="(appName, app) in apps"\n          ng-if="appName !== currentApp && (!authentication || authentication.canAccess(appName))"\n          ng-class="appName">\n        <a ng-href="{{ \'../../\' + appName + \'/:engine/\' | uri }}">\n          {{ app.label }}\n        </a>\n      </li>\n    </ul>\n  </li>\n</ul>\n\n<div ng-transclude ng-class="{collapse: !navbarOpen}"></div>\n'}),define("camunda-commons-ui/widgets/header/cam-widget-header",["angular","text!./cam-widget-header.html"],function(e,t){"use strict";function n(t){var n=e.copy(i);return t&&delete n[t],n}var i={admin:{label:"Admin"},cockpit:{label:"Cockpit"},tasklist:{label:"Tasklist"}};return[function(){return{transclude:!0,template:t,scope:{authentication:"=",userName:"=?",currentApp:"@",signOut:"@?",toggleNavigation:"@?",myProfile:"@?",smallScreenWarning:"@?",brandName:"@"},compile:function(e,t){t.toggleNavigation||(t.toggleNavigation="Toggle navigation"),t.myProfile||(t.myProfile="My profile"),t.signOut||(t.signOut="Sign out"),t.smallScreenWarning||(t.smallScreenWarning="This application is conceived for larger screens.")},controller:["$scope","AuthenticationService",function(e,t){e.apps=n(e.currentApp),e.logout=t.logout,e.$watch("currentApp",function(){e.apps=n(e.currentApp)})}]}}]}),define("text!camunda-commons-ui/widgets/footer/cam-widget-footer.html",[],function(){return'<div class="container-fluid">\n  <div class="row">\n    <div class="col-xs-12">\n      Powered by <a href="http://camunda.org">camunda BPM</a> /\n      <span class="version">{{version}}</span>\n    </div>\n  </div>\n</div>\n'}),define("camunda-commons-ui/widgets/footer/cam-widget-footer",["text!./cam-widget-footer.html"],function(e){"use strict";return[function(){return{template:e,scope:{version:"@"}}}]}),define("text!camunda-commons-ui/widgets/loader/cam-widget-loader.html",[],function(){return'<div class="loader-state loaded"\n     ng-show="loadingState === \'LOADED\'"\n     ng-transclude></div>\n\n<div class="loader-state loading"\n     ng-if="loadingState === \'LOADING\'">\n  <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  {{ textLoading }}\n</div>\n\n<div class="loader-state empty"\n     ng-if="loadingState === \'EMPTY\'">\n  {{ textEmpty }}\n</div>\n\n<div class="loader-state alert alert-danger"\n     ng-if="loadingState === \'ERROR\'">\n  {{ textError }}\n</div>\n'}),define("camunda-commons-ui/widgets/loader/cam-widget-loader",["angular","text!./cam-widget-loader.html"],function(e,t){"use strict";return[function(){return{transclude:!0,template:t,scope:{loadingState:"@",textEmpty:"@",textError:"@",textLoading:"@"},compile:function(t,n){e.isDefined(n.textLoading)||(n.textLoading="Loading…"),e.isDefined(n.loadingState)||(n.loadingState="INITIAL")}}}]}),define("text!camunda-commons-ui/widgets/debug/cam-widget-debug.html",[],function(){return'<div class="debug">\n  <div class="col-xs-2">\n    <button class="btn btn-default btn-round"\n            ng-click="toggleOpen()"\n            tooltip="{{tooltip}}">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-eye-open\': !open, \'glyphicon-eye-close\': open}"></span>\n    </button>\n  </div>\n  <div class="col-xs-10"\n       ng-show="open">\n    <code>{{ varName }}</code>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n'}),define("camunda-commons-ui/widgets/debug/cam-widget-debug",["angular","text!./cam-widget-debug.html"],function(e,t){"use strict";return[function(){return{template:t,scope:{debugged:"=",open:"@",tooltip:"@camWidgetDebugTooltip"},link:function(e,t,n){e.varName=n.debugged,e.toggleOpen=function(){e.open=!e.open}}}}]}),define("text!camunda-commons-ui/widgets/variable/cam-widget-variable.html",[],function(){return'<div ng-if="display && isShown(\'type\')"\n     class="type">{{ variable.type }}</div>\n<div ng-if="display && isShown(\'name\')"\n     class="name">{{ variable.name }}</div>\n<div ng-if="display && isShown(\'value\') && isPrimitive()"\n     ng-class="{null: isNull()}"\n     class="value">\n  <span ng-if="isNull()"\n        class="null-symbol">&lt;null&gt;</span>\n  {{ (variable.value === null ? \'\' : variable.value.toString()) }}\n</div>\n<div ng-if="display && isShown(\'value\') && variable.type === \'Object\'"\n     ng-class="{null: isNull()}"\n     class="value">\n  <a ng-click="editVariableValue()">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if="!display"\n     class="input-group editing">\n  <div ng-if="isShown(\'type\')"\n       class="input-group-btn type">\n    <select class="form-control"\n            ng-model="variable.type"\n            ng-options="variableType for variableType in variableTypes track by variableType"\n            ng-disabled="isDisabled(\'type\')"\n            required>\n    </select>\n  </div><!-- /btn-group -->\n\n  <input ng-if="isShown(\'name\')"\n         type="text"\n         class="form-control name"\n         ng-model="variable.name"\n         placeholder="varName"\n         ng-disabled="isDisabled(\'name\')"\n         required />\n\n  <div ng-if="isShown(\'value\') && !isNull()"\n       class="value-wrapper input-group"\n       ng-class="{checkbox: useCheckbox()}">\n    <div ng-if="variable.type !== \'Null\'"\n         class="input-group-btn">\n      <a ng-click="setNull()"\n         class="btn btn-default set-null"\n         ng-disabled="isDisabled(\'value\')"\n         tooltip="Set value to &quot;null&quot;">\n        <span class="glyphicon glyphicon-remove"></span>\n      </a>\n    </div>\n\n    <input ng-if="isPrimitive() && !useCheckbox()"\n           type="text"\n           class="form-control value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="Value of the variable"\n           cam-variable-validator="{{variable.type}}" />\n\n    <input ng-if="useCheckbox()"\n           type="checkbox"\n           class="value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="Value of the variable"\n           cam-variable-validator="{{variable.type}}" />\n\n    <div ng-if="variable.type === \'Object\'"\n         class="value form-control-static">\n      <a ng-click="editVariableValue()" ng-disabled="isDisabled(\'value\')">\n        {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if="variable.type !== \'Null\' && isShown(\'value\') && isNull()"\n       ng-click="setNonNull()"\n       class="value-wrapper value null-value btn btn-default"\n       ng-disabled="isDisabled(\'value\')"\n       tooltip="Re-set to previous or default value">\n    <span class="null-symbol">&lt;null&gt;</span>\n  </div>\n\n  <div ng-if="variable.type === \'Null\'"\n       ng-disabled="isDisabled(\'value\')"\n       class="value-wrapper value btn no-click null-value">\n    <span class="null-symbol">&lt;null&gt;</span>\n  </div>\n</div>\n'}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("camunda-bpm-sdk-js-type-utils",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var n=t;n=n.CamSDK||(n.CamSDK={}),n=n.utils||(n.utils={}),n.typeUtils=e()}}(function(){return function e(t,n,i){
function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=/^-?[\d]+$/,r=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,o=/^(true|false)$/,a=/^(\d{2}|\d{4})(?:\-)([0]{1}\d{1}|[1]{1}[0-2]{1})(?:\-)([0-2]{1}\d{1}|[3]{1}[0-1]{1})T(?:\s)?([0-1]{1}\d{1}|[2]{1}[0-3]{1}):([0-5]{1}\d{1}):([0-5]{1}\d{1})?$/,s=function(e,t){switch(t){case"Integer":case"Long":case"Short":return i.test(e);case"Float":case"Double":return r.test(e);case"Boolean":return o.test(e);case"Date":return a.test(e)}},c=function(e,t){if("string"==typeof e&&(e=e.trim()),"String"===t||"Bytes"===t||"File"===t)return e;if(!s(e,t))throw new Error("Value '"+e+"' is not of type "+t);switch(t){case"Integer":case"Long":case"Short":return parseInt(e,10);case"Float":case"Double":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return e}};t.exports={convertToType:c,isType:s}},{}]},{},[1])(1)}),define("text!camunda-commons-ui/widgets/variable/cam-widget-variable-dialog.html",[],function(){return'<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>Inspect "{{ variable.name }}" variable</h3>\n</div>\n\n<div class="modal-body">\n  <div ng-if="readonly">\n    <p>\n      Object type name: <code>{{ variable.valueInfo.objectTypeName }}</code>\n    </p>\n\n    <p>\n      Serialization Data Format: <code>{{ variable.valueInfo.serializationDataFormat }}</code>\n    </p>\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="object-type-name">Object type name</label>\n    <input type="text"\n           id="object-type-name"\n           class="form-control"\n           ng-model="variable.valueInfo.objectTypeName" />\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="serialization-data-format">Serialization data format</label>\n    <input type="text"\n           id="serialization-data-format"\n           class="form-control"\n           ng-model="variable.valueInfo.serializationDataFormat" />\n  </div>\n\n  <div class="form-group">\n    <label for="serialized-value">Serialized value</label>\n    <textarea ng-model="variable.value"\n              id="serialized-value"\n              rows="10"\n              class="form-control"\n              ng-disabled="readonly"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    Close\n  </button>\n\n  <button class="btn btn-primary"\n          ng-if="!readonly"\n          ng-disabled="!hasChanged(\'serialized\')"\n          ng-click="$close(variable)">\n    Change\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n'}),define("camunda-commons-ui/widgets/variable/cam-variable-utils",["angular","camunda-bpm-sdk-js-type-utils","text!./cam-widget-variable-dialog.html"],function(e,t,n){"use strict";function i(e){return e=e||new Date,e.toISOString().slice(0,-5)}var r={};return r.camundaFormattedDate=i,r.templateDialog=n,r.modalCtrl=["$scope","variable","readonly",function(t,n,i){t.variable=n,t.readonly=i;var r=e.copy(n);t.hasChanged=function(){return r.valueInfo=r.valueInfo||{},n.valueInfo=n.valueInfo||{},r.value!==n.value||r.valueInfo.serializationDataFormat!==n.valueInfo.serializationDataFormat||r.valueInfo.objectTypeName!==n.valueInfo.objectTypeName}}],r.typeUtils=t,r.types=["Boolean","Bytes","File","Date","Double","Integer","Long","Null","Object","Short","String"],r.defaultValues={Boolean:!1,Bytes:null,File:null,Date:i(),Double:0,Integer:0,Long:0,Null:"",Short:0,String:"",Object:{}},r.isPrimitive=function(e){return function(t){return t||e.variable?(t=t||e.variable.type,t?["Boolean","Date","Double","Integer","Long","Short","String"].indexOf(t)>=0:!0):!0}},r.isBinary=function(e){return function(t){return t||e.variable?(t=t||e.variable.type,t?["Bytes","File"].indexOf(t)>=0:!1):!1}},r.useCheckbox=function(e){return function(t){return t||e.variable?(t=t||e.variable.type,"Boolean"===t):!1}},r.validate=function(e){return function(){if(e.variable.name&&e.variable.type?null===e.variable.value||["String","Object","Null"].indexOf(e.variable.type)>-1?e.valid=!0:e.valid=t.isType(e.variable.value,e.variable.type):e.valid=!1,e.valid&&e.variable.type&&null!==e.variable.value&&e.isPrimitive(e.variable.type)){var n;n="Boolean"!==e.variable.type?t.convertToType(e.variable.value,e.variable.type):e.variable.value?"false"!==e.variable.value:!1,typeof e.variable.value!=typeof n&&(e.variable.value=n)}}},r}),define("camunda-commons-ui/widgets/variable/cam-widget-variable",["angular","text!./cam-widget-variable.html","./cam-variable-utils"],function(e,t,n){"use strict";var i=n.types,r=n.modalCtrl;return["$modal",function(o){return{template:t,scope:{variable:"=camVariable",display:"@?",shown:"=?",disabled:"=?"},link:function(t,a){t.variableTypes=e.copy(i);var s=n.defaultValues;t.isPrimitive=n.isPrimitive(t),t.useCheckbox=n.useCheckbox(t),t.isShown=function(e){return Array.isArray(t.shown)&&t.shown.length?t.shown.indexOf(e)>-1:!0},t.isDisabled=function(e){return Array.isArray(t.disabled)&&t.disabled.length?t.disabled.indexOf(e)>-1:!1},t.shownClasses=function(){return Array.isArray(t.shown)&&t.shown.length?t.shown.map(function(e){return"show-"+e}).join(" "):""},t.$watch("shown",function(){a.removeClass("show-type show-name show-value").addClass(t.shownClasses())});var c=n.validate(t);t.valid=!0,t.$watch("variable.value",c),t.$watch("variable.name",c),t.$watch("variable.type",c),c();var l=t.variable.value;t.$watch("variable.type",function(e,n){"Boolean"===e?null!==t.variable.value&&(l=t.variable.value,t.variable.value="false"===t.variable.value?!1:!!t.variable.value):"Boolean"===n&&(t.variable.value=l);var i=a[0].classList;n&&i.remove("var-type-"+n.toLowerCase()),e&&i.add("var-type-"+e.toLowerCase())}),t.isNull=function(){return null===t.variable.value},t.setNonNull=function(){t.variable.value=l||s[t.variable.type]},t.setNull=function(){l=t.variable.value,t.variable.value=null},t.editVariableValue=function(){o.open({template:n.templateDialog,controller:r,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return e.copy(t.variable)},readonly:function(){return t.display}}}).result.then(function(e){t.variable.value=e.value,t.variable.valueInfo=e.valueInfo})}}}}]}),define("text!camunda-commons-ui/widgets/variables-table/cam-widget-variables-table.html",[],function(){return'<table class="cam-table">\n  <thead>\n    <tr>\n      <td ng-repeat="headerName in headerNames" ng-class="\'col-\' + headerName">\n        {{ headers[headerName] }}\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        Actions\n      </td>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="(v, info) in variables"\n        ng-class="rowClasses(info, v)">\n      <td ng-repeat="headerName in headerNames"\n          ng-init="variable=info.variable"\n          ng-class="colClasses(info, headerName, v)"\n          ng-switch on="headerName">\n        <!-- ................................................................................... -->\n        <div ng-switch-when="type"\n             ng-if="!isEditable(\'type\', info)">\n          {{ variable.type }}\n        </div>\n        <select class="form-control"\n                ng-switch-when="type"\n                ng-if="isEditable(\'type\', info)"\n                ng-model="variable.type"\n                ng-options="variableType for variableType in variableTypes track by variableType"\n                required>\n        </select>\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <div ng-switch-when="name"\n             ng-if="!isEditable(\'name\', info)">\n          {{ variable.name }}\n        </div>\n\n        <input class="form-control"\n               ng-switch-when="name"\n               ng-model="variable.name"\n               ng-if="isEditable(\'name\', info)" />\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <a ng-switch-when="value"\n           ng-if="!isEditable(\'value\', info) && isBinary(variable.type)"\n           ng-href="{{ downloadLink(info) }}"\n           download="{{ variable.name }}-data">\n          Download\n        </a>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'Object\'"\n             ng-click="editVariableValue(v)"\n             class="read-only value-wrapper">\n          {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type !== \'Object\'"\n             class="read-only value-wrapper">\n          {{ variable.value }}\n        </div>\n\n        <div class="value-wrapper"\n             ng-switch-when="value"\n             ng-if="isEditable(\'value\', info)">\n          <a ng-click="setNull(v)"\n             ng-if="!isNull(v)"\n             class="set-null"\n             tooltip-append-to-body="true"\n             tooltip="Set value to &quot;null&quot;">\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n\n          <input ng-if="isPrimitive(variable.type) && !useCheckbox(variable.type) && !isNull(v)"\n                 type="text"\n                 class="form-control"\n                 ng-model="variable.value"\n                 placeholder="Value of the variable" />\n\n          <input ng-if="useCheckbox(variable.type)"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 placeholder="Value of the variable" />\n\n          <a ng-if="variable.type === \'Object\' && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="variable.type !== \'Null\' && !isBinary(variable.type) && isNull(v)"\n             ng-click="setNonNull(v)"\n             class="null-value"\n             tooltip-append-to-body="true"\n             tooltip="Re-set to previous or default value">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if="isBinary(variable.type)"\n             ng-click="uploadVariable(v)"\n             tooltip-append-to-body="true"\n             tooltip="Upload a new file">\n            Upload\n          </a>\n\n          <span ng-if="variable.type === \'Null\'"\n                class="null-value">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </span>\n        </div><!-- / value-wrapper -->\n        <!-- ................................................................................... -->\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info="info"\n             header-name="headerName">\n        </div>\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        <div ng-if="!info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-click="info.editMode = true"\n                  tooltip-append-to-body="true"\n                  tooltip="Edit the variable">\n            <span class="glyphicon glyphicon-pencil"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="deleteVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="Delete the variable">\n            <span class="glyphicon glyphicon glyphicon-trash"></span>\n          </button>\n        </div>\n\n        <div ng-if="info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!info.valid || !info.changed"\n                  ng-click="saveVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="Save the variable">\n            <span class="glyphicon glyphicon-ok"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="info.editMode = false"\n                  tooltip-append-to-body="true"\n                  tooltip="Revert the variable">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'}),define("camunda-commons-ui/widgets/variables-table/cam-widget-variables-table",["angular","text!./cam-widget-variables-table.html","text!./../variable/cam-widget-variable-dialog.html","./../variable/cam-variable-utils"],function(e,t,n,i){"use strict";function r(e){return JSON.parse(JSON.stringify(e))}function o(t){return{then:function(n){n(e.copy(t.variable))}}}var a=i.typeUtils,s={variable:{name:null,type:null,value:null,valueInfo:{}},additions:{}};return["$modal",function(n){return{template:t,scope:{variables:"=camVariables",headers:"=?camHeaders",editable:"=?camEditable",deleteVar:"=?onDelete",saveVar:"=?onSave",editVar:"=?onEdit",downloadVar:"=?onDownload",uploadVar:"=?onUpload"},link:function(t,c){function l(e){return(t.variables[e]||{}).variable}function u(e){if(!t.variables||!t.variables[e]||!t.variables[e]._copy)return!1;var n,i=l(e),r=t.variables[e]._copy;return n=!i||!r,n=n||i.name!==r.name,n=n||i.type!==r.type,n=n||i.value!==r.value}function p(e,n){if(e.variable.name&&e.variable.type?null===e.variable.value||["String","Object","Null"].indexOf(e.variable.type)>-1?e.valid=!0:e.valid=a.isType(e.variable.value,e.variable.type):e.valid=!1,e.valid&&e.variable.type&&null!==e.variable.value&&t.isPrimitive(e.variable.type)){var i;i="Boolean"!==e.variable.type?a.convertToType(e.variable.value,e.variable.type):e.variable.value?"false"!==e.variable.value:!1,typeof e.variable.value!=typeof i&&(e.variable.value=i)}e.changed=u(n)}function d(){(t.variables||[]).forEach(function(n,i){function o(){p(n,i)}n.valid=!0;var a="variables["+i+"].variable";t.$watch(a+".value",o),t.$watch(a+".name",o),t.$watch(a+".type",o),t.$watch("variables["+i+"].editMode",function(t,i){e.isUndefined(t)||(t===!0?n._copy=r(n.variable):t===!1&&i===!0&&n._copy&&(n.variable.type=n._copy.type,n.variable.name=n._copy.name,n.variable.value=n._copy.value,delete n._copy))}),p(n,i),f[i]=n.variable.value})}var f=[];t.editable=t.editable||["type","name","value"],t.headers=t.headers||{name:"Name",type:"Type",value:"Value"},t.headerNames=Object.keys(t.headers),t.variableTypes=e.copy(i.types),t.defaultValues=i.defaultValues,t.isPrimitive=i.isPrimitive(t),t.isBinary=i.isBinary(t),t.useCheckbox=i.useCheckbox(t),t.headers=t.headers||{name:"Name",type:"Type",value:"Value"},t.headerNames=Object.keys(t.headers),["uploadVar","deleteVar","saveVar"].forEach(function(n){t[n]=e.isFunction(t[n])?t[n]:o}),t.editVar=e.isFunction(t.editVar)?t.editVar:function(r,o){return n.open({template:i.templateDialog,controller:i.modalCtrl,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return e.copy(l(o))},readonly:function(){return!t.isEditable("value",t.variables[o])}}}).result},t.downloadLink=e.isFunction(t.downloadVar)?t.downloadVar:function(e){return"/camunda/api/engine/engine/default/variable-instance/"+e.variable.id+"/data"},t.$watch("variables",d),d(),t.isEditable=function(e,n){return n.editMode&&t.editable.indexOf(e)>-1},t.rowClasses=function(e){return[e.editMode?"editing":null,e.valid?null:"ng-invalid",e.valid?null:"ng-invalid-cam-variable-validator"]},t.colClasses=function(e,n){return[t.isEditable(n,e)?"editable":null,"type-"+(e.variable.type||"").toLowerCase(),"col-"+n]},t.isNull=function(e){return null===t.variables[e].variable.value},t.setNull=function(e){var t=l(e);f[e]=t.value,t.value=null},t.setNonNull=function(e){var n=l(e);n.value=f[e]||t.defaultValues[n.type]},t.editVariableValue=function(e){var n=t.variables[e];t.editVar(n,e).then(function(t){l(e).value=t.value,l(e).valueInfo=t.valueInfo})},t.addVariable=function(){t.variables.push(e.copy(s))},t.deleteVariable=function(e){var n=t.variables[e];t.deleteVar(n,e).then(function(){t.variables.splice(t.variables.indexOf(n),1)},function(e){console.error(e)})},t.saveVariable=function(e){var n=t.variables[e];n.editMode=!1,t.saveVar(n,e).then(function(e){n.variable.name=e.name,n.variable.type=e.type,n.variable.value=e.value,n.variable.valueInfo=e.valueInfo,delete n._copy},function(){n.editMode=!0})},t.uploadVariable=function(e){var n=t.variables[e];t.uploadVar(n,e).then(function(){delete n._copy,n.editMode=!1},function(){n.editMode=!1})}}}}]}),define("camunda-commons-ui/widgets/variables-table/cam-render-var-template",["angular"],function(e){"use strict";return["$compile",function(t){return{template:"<div></div>",scope:{info:"=",headerName:"="},link:function(n,i){var r=n.info.additions[n.headerName]||{};r.scopeVariables=r.scopeVariables||{};for(var o in r.scopeVariables)n[o]=r.scopeVariables[o];n.variable=n.info.variable,i.html("<div>"+r.html+"</div>"),t(e.element("div",i)[0])(n)}}}]}),define("text!camunda-commons-ui/widgets/search/cam-widget-search.html",[],function(){return'<form class="search-field"\n      ng-submit="createSearch()"\n      ng-class="{\'has-search\': searches.length}">\n  <div class="form-container search-container">\n    <span cam-widget-search-pill\n          ng-repeat="search in searches"\n          extended="search.extended"\n          basic="search.basic"\n          allow-dates="search.allowDates"\n          enforce-dates="search.enforceDates"\n          valid="search.valid"\n          name="search.name"\n          potential-names="search.potentialNames"\n          type="search.type"\n          operator="search.operator"\n          value="search.value"\n          invalid-text="{{ translations.invalid }}"\n          delete-text="{{ translations.deleteSearch }}"\n          on-change="handleChange($index, field, before, value, $event)"\n          on-delete="deleteSearch($index)"\n    />\n\n    <input class="form-control main-field"\n           type="text"\n           placeholder="{{ translations.inputPlaceholder }}"\n           ng-model="inputQuery"\n           ng-keydown="onKeydown($event)"\n           typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"\n           typeahead-on-select="createSearch($item)"\n           instant-typeahead\n    />\n\n  </div>\n</form>\n'}),define("camunda-commons-ui/widgets/search/cam-widget-search",["text!./cam-widget-search.html","angular","jquery"],function(e,t,n){"use strict";function i(e){return e&&"string"==typeof e&&e.match(r)?"date":typeof e}var r=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,o=function(e){return e.type.value&&(!e.extended||e.name.value)&&(e.basic||e.operator.value)&&(e.basic||e.value.value)&&("date"===i(e.value.value)||!e.enforceDates)},a=function(e){if(!e.value)return void(e.value=e.values[0]);var t=e.values.map(function(e){return e.key}).indexOf(e.value.key);e.value=e.values[-1===t?0:t]},s=function(e){return isNaN(e)||""===e.trim()?"true"===e?!0:"false"===e?!1:"NULL"===e?null:e:+e},c=!1;return["$timeout","$location","search",function(r,l,u){return{restrict:"A",scope:{types:"=camWidgetSearchTypes",translations:"=camWidgetSearchTranslations",operators:"=camWidgetSearchOperators",searches:"=?camWidgetSearchSearches",validSearches:"=?camWidgetSearchValidSearches",searchId:"@camWidgetSearchId"},link:function(e,p){var d=e.searchId||"search";e.searchTypes=e.types.map(function(e){return e.id});var f=e.types.reduce(function(e,t){return e||(t["default"]?t:null)},null),h=function(){var n=e.searches.map(function(e){return e.type.value.key}).reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[]),i=n.map(function(e){return m(e).groups}).filter(function(e){return!!e}).reduce(function(e,n){if(e){if(0===e.length)return t.copy(n);for(var i=0;i<e.length;i++)-1===n.indexOf(e[i])&&(e.splice(i,1),i--);return 0===e.length?null:e}return null},[]);return null===i?[]:0===i.length?e.searchTypes:e.searchTypes.filter(function(e){var t=m(e.key).groups;if(!t)return!0;for(var n=0;n<t.length;n++)if(i.indexOf(t[n])>-1)return!0;return!1})},m=function(t){return e.types.reduce(function(e,n){return e||(n.id.key===t?n:null)},null)},g=function(t,n){return t.operators||e.operators[i(s(n))]},v=function(){var n=JSON.parse((l.search()||{})[d+"Query"]||"[]"),i=[];return t.forEach(n,function(t){var n=m(t.type),r={extended:n.extended,basic:n.basic,type:{values:h(),value:h().reduce(function(e,n){return e||(n.key===t.type?n:null)},null),tooltip:e.translations.type},name:{value:t.name,tooltip:e.translations.name},operator:{tooltip:e.translations.operator},value:{value:t.value,tooltip:e.translations.value},allowDates:n.allowDates,enforceDates:n.enforceDates,potentialNames:n.potentialNames||[]};r.operator.values=g(n,r.value.value),r.operator.value=r.operator.values.reduce(function(e,n){return e||(n.key===t.operator?n:null)},null),r.valid=o(r),i.push(r)}),i};e.searches=e.searches||[],e.searches=v(),e.validSearchesBuffer=e.searches.reduce(function(e,t){return t.valid&&e.push(t),e},[]),e.validSearches=t.copy(e.validSearchesBuffer);var y=function(t,n){var i=e.searches[t];if(!i.valid){if(i.extended&&!i.name.value&&"name"!==n)return void(i.name.inEdit=!0);if("value"!==n)return void(i.value.inEdit=!0)}for(var r=1;r<e.searches.length;r++){var o=(r+t)%e.searches.length;if(i=e.searches[o],!i.valid)return void(i.extended&&!i.name.value?i.name.inEdit=!0:i.value.inEdit=!0)}};e.createSearch=function(t){if(t||e.inputQuery){var n=t?"":e.inputQuery;t=t&&m(t.key)||f;var i=g(t,n);e.searches.push({extended:t.extended,basic:t.basic,type:{values:h(),value:t.id,tooltip:e.translations.type},name:{value:"",inEdit:t.extended,tooltip:e.translations.name},operator:{value:i[0],values:i,tooltip:e.translations.operator},value:{value:n,inEdit:!t.extended&&!n,tooltip:e.translations.value},allowDates:t.allowDates,enforceDates:t.enforceDates,potentialNames:t.potentialNames});var a=e.searches[e.searches.length-1];a.valid=o(a),n?e.inputQuery="":r(function(){r(function(){e.inputQuery="",p.find(".search-container > input").blur()})})}},e.deleteSearch=function(t){e.searches.splice(t,1)},e.handleChange=function(t,n,i,s,c){var l,u=e.searches[t];"type"===n?(l=m(s.key),u.extended=l.extended,u.basic=l.basic,u.allowDates=l.allowDates,!u.enforceDates&&l.enforceDates&&(u.value.value=""),u.enforceDates=l.enforceDates,u.operator.values=g(l,u.value.value),a(u.operator)):"value"===n&&(t===e.searches.length-1&&r(function(){p.find(".search-container > input").focus()}),l=m(u.type.value.key),l.operators||(u.operator.values=g(l,u.value.value),a(u.operator))),u.valid=o(u),c&&13===c.keyCode&&y(t,n)},e.onKeydown=function(t){if(9!==t.keyCode||e.inputQuery)-1!==[38,40,13].indexOf(t.keyCode)&&0===p.find(".dropdown-menu").length&&r(function(){n(t.target).trigger("input")});else{t.preventDefault(),t.stopPropagation();var i=e.searches[t.shiftKey?e.searches.length-1:0];i&&(t.shiftKey?i.value.inEdit=!0:i.type.inEdit=!0)}};var b=function(e){var n=[];return t.forEach(e,function(e){n.push({type:e.type.value.key,operator:e.operator.value.key,value:e.value.value,name:e.name.value})}),n};e.$watch("searches",function(){var n=e.searches;t.forEach(n,function(t){t.valid&&-1===e.validSearchesBuffer.indexOf(t)&&e.validSearchesBuffer.push(t)}),t.forEach(e.validSearchesBuffer,function(t,i){t.valid&&-1!==n.indexOf(t)||e.validSearchesBuffer.splice(i,1)});var i={};i[d+"Query"]=JSON.stringify(b(e.validSearchesBuffer)),c=!0,u.updateSilently(i),r(function(){c=!1}),x()},!0),e.$on("$locationChangeSuccess",function(){if(!c&&l.search().hasOwnProperty(d+"Query")){var n=v();t.equals(n,e.validSearchesBuffer)||(t.forEach(e.searches,function(e){e.valid||n.push(e)}),e.validSearchesBuffer=[],e.searches=n)}});var w;e.$watch("validSearchesBuffer",function(){r.cancel(w),w=r(function(){e.validSearches=t.copy(e.validSearchesBuffer)})},!0);var x=function(){var t=h();e.dropdownTypes=t;for(var n=0;n<e.searches.length;n++)e.searches[n].type.values=t};e.$watch("types",function(){t.forEach(e.searches,function(e){e.potentialNames=m(e.type.value.key).potentialNames||[]})},!0),e.dropdownTypes=h()},template:e}}]}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("bpmn-io",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.BpmnJS=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e(2);i.prototype=Object.create(r.prototype),t.exports=i,i.prototype._navigationModules=[e(60),e(58)],i.prototype._modules=[].concat(i.prototype._modules,i.prototype._navigationModules)},{2:2,58:58,60:60}],2:[function(e,t,n){"use strict";function i(e,t){var n=e.get("eventBus");t.forEach(function(e){n.on(e.event,e.handler)})}function r(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=t.exec(e.message);return n&&(e.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),e}function o(e){return e+(u(e)?"px":"")}function a(e){this.options=e=s({},v,e||{});var t=e.container;t.get&&(t=t.get(0)),l(t)&&(t=d(t));var n=this.container=p('<div class="bjs-container"></div>');t.appendChild(n),s(n.style,{width:o(e.width),height:o(e.height),position:e.position});var i="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",r='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+i+'"></a>';n.appendChild(p(r))}var s=e(171),c=e(175),l=e(168),u=e(165),p=e(184),d=e(186),f=e(187),h=e(35),m=e(14),g=e(9),v={width:"100%",height:"100%",position:"relative",container:"body"};a.prototype.importXML=function(e,t){var n=this;this.moddle=this.createModdle(),this.moddle.fromXML(e,"bpmn:Definitions",function(e,i,o){if(e)return e=r(e),t(e);var a=o.warnings;n.importDefinitions(i,function(e,n){return e?t(e):void t(null,a.concat(n||[]))})})},a.prototype.saveXML=function(e,t){t||(t=e,e={});var n=this.definitions;return n?void this.moddle.toXML(n,e,t):t(new Error("no definitions loaded"))},a.prototype.createModdle=function(){return new m(this.options.moddleExtensions)},a.prototype.saveSVG=function(e,t){t||(t=e,e={});var n=this.get("canvas"),i=n.getDefaultLayer(),r=n._svg.select("defs"),o=i.innerSVG(),a=r&&r.outerSVG()||"",s=i.getBBox(),c='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with bpmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+s.width+'" height="'+s.height+'" viewBox="'+s.x+" "+s.y+" "+s.width+" "+s.height+'" version="1.1">'+a+o+"</svg>";t(null,c)},a.prototype.get=function(e){if(!this.diagram)throw new Error("no diagram loaded");return this.diagram.get(e)},a.prototype.invoke=function(e){if(!this.diagram)throw new Error("no diagram loaded");return this.diagram.invoke(e)},a.prototype.importDefinitions=function(e,t){try{this.diagram&&this.clear(),this.definitions=e;var n=this.diagram=this._createDiagram(this.options);this._init(n),g.importBpmnDiagram(n,e,t)}catch(i){t(i)}},a.prototype._init=function(e){i(e,this.__listeners||[])},a.prototype._createDiagram=function(e){var t=[].concat(e.modules||this.getModules(),e.additionalModules||[]);return t.unshift({bpmnjs:["value",this],moddle:["value",this.moddle]}),e=c(e,"additionalModules"),e=s(e,{canvas:{container:this.container},modules:t}),new h(e)},a.prototype.getModules=function(){return this._modules},a.prototype.clear=function(){var e=this.diagram;e&&e.destroy()},a.prototype.destroy=function(){this.clear(),f(this.container)},a.prototype.on=function(e,t){var n=this.diagram,i=this.__listeners=this.__listeners||[];i.push({event:e,handler:t}),n&&n.get("eventBus").on(e,t)},a.prototype._modules=[e(3),e(55),e(51)],t.exports=a},{14:14,165:165,168:168,171:171,175:175,184:184,186:186,187:187,3:3,35:35,51:51,55:55,9:9}],3:[function(e,t,n){t.exports={__depends__:[e(6),e(11)]}},{11:11,6:6}],4:[function(e,t,n){"use strict";function i(e,t,n){function i(e,t){z[e]=t}function m(e){return z[e]}function g(e){function t(e,t){var n=a({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var s=t.element.attr(n).marker(0,0,20,20,r.x,r.y).attr({markerWidth:20*o,markerHeight:20*o});return i(e,s)}t("sequenceflow-end",{element:e.path("M 1 5 L 11 10 L 1 15 Z"),ref:{x:11,y:10},scale:.5}),t("messageflow-start",{element:e.circle(6,6,5),attrs:{fill:"white",stroke:"black"},ref:{x:6,y:6}}),t("messageflow-end",{element:e.path("M 1 5 L 11 10 L 1 15 Z"),attrs:{fill:"white",stroke:"black"},ref:{x:11,y:10}}),t("data-association-end",{element:e.path("M 1 5 L 11 10 L 1 15"),attrs:{fill:"white",stroke:"black"},ref:{x:11,y:10},scale:.5}),t("conditional-flow-marker",{element:e.path("M 0 10 L 8 6 L 16 10 L 8 14 Z"),attrs:{fill:"white",stroke:"black"},ref:{x:-1,y:10},scale:.5}),t("conditional-default-flow-marker",{element:e.path("M 1 4 L 5 16"),attrs:{stroke:"black"},ref:{x:-5,y:10},scale:.5})}function v(e,n,i){return r(n)||(i=n,n=[]),t.style(n||[],a(i,e||{}))}function y(e,t,n,i,r){o(i)&&(r=i,i=0),i=i||0,r=v(r,{stroke:"black",strokeWidth:2,fill:"white"});var a=t/2,s=n/2;return e.circle(a,s,Math.round((t+n)/4-i)).attr(r)}function b(e,t,n,i,r,a){return o(r)&&(a=r,r=0),r=r||0,a=v(a,{stroke:"black",strokeWidth:2,fill:"white"}),e.rect(r,r,t-2*r,n-2*r,i).attr(a)}function w(e,t,n,i){var r=t/2,o=n/2,a=[r,0,t,o,r,n,0,o];return i=v(i,{stroke:"black",strokeWidth:2,fill:"white"}),e.polygon(a).attr(i)}function x(e,t,n){return n=v(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}),h(t,n).appendTo(e)}function _(e,t,n){return n=v(n,["no-fill"],{strokeWidth:2,stroke:"black"}),e.path(t).attr(n)}function E(e){return function(t,n){return Y[e](t,n)}}function C(e){return Y[e]}function T(e,t){var n=L(e),i=B(n);return F(n,"bpmn:MessageEventDefinition")?C("bpmn:MessageEventDefinition")(t,e,i):F(n,"bpmn:TimerEventDefinition")?C("bpmn:TimerEventDefinition")(t,e,i):F(n,"bpmn:ConditionalEventDefinition")?C("bpmn:ConditionalEventDefinition")(t,e):F(n,"bpmn:SignalEventDefinition")?C("bpmn:SignalEventDefinition")(t,e,i):F(n,"bpmn:CancelEventDefinition")&&F(n,"bpmn:TerminateEventDefinition",{
parallelMultiple:!1})?C("bpmn:MultipleEventDefinition")(t,e,i):F(n,"bpmn:CancelEventDefinition")&&F(n,"bpmn:TerminateEventDefinition",{parallelMultiple:!0})?C("bpmn:ParallelMultipleEventDefinition")(t,e,i):F(n,"bpmn:EscalationEventDefinition")?C("bpmn:EscalationEventDefinition")(t,e,i):F(n,"bpmn:LinkEventDefinition")?C("bpmn:LinkEventDefinition")(t,e,i):F(n,"bpmn:ErrorEventDefinition")?C("bpmn:ErrorEventDefinition")(t,e,i):F(n,"bpmn:CancelEventDefinition")?C("bpmn:CancelEventDefinition")(t,e,i):F(n,"bpmn:CompensateEventDefinition")?C("bpmn:CompensateEventDefinition")(t,e,i):F(n,"bpmn:TerminateEventDefinition")?C("bpmn:TerminateEventDefinition")(t,e,i):null}function A(e,t,n){return q.createText(e,t||"",n).addClass("djs-label")}function S(e,t,n){var i=L(t);return A(e,i.name,{box:t,align:n,padding:5})}function k(e,t,n){var i=L(t);return i.name||(t.hidden=!0),A(e,i.name,{box:t,align:n,style:{fontSize:"11px"}})}function D(e,t,n){var i=A(e,t,{box:{height:30,width:n.height},align:"center-middle"}),r=-1*n.height;i.transform("rotate(270) translate("+r+",0)")}function I(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,i=1;i<t.length;i++)n+="L"+t[i].x+","+t[i].y+" ";return n}function N(e,t,n){var i,r=L(t),o=l(n,"SubProcessMarker");return i=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},s(n,function(n){C(n)(e,t,i)}),"bpmn:AdHocSubProcess"===r.$type&&C("AdhocMarker")(e,t,i),r.loopCharacteristics&&void 0===r.loopCharacteristics.isSequential?void C("LoopMarker")(e,t,i):(r.loopCharacteristics&&void 0!==r.loopCharacteristics.isSequential&&!r.loopCharacteristics.isSequential&&C("ParallelMarker")(e,t,i),r.loopCharacteristics&&r.loopCharacteristics.isSequential&&C("SequentialMarker")(e,t,i),void(r.isForCompensation&&C("CompensationMarker")(e,t,i)))}function P(e,t){var n=t.type,i=Y[n];return i?i(e,t):p.prototype.drawShape.apply(this,[e,t])}function R(e,t){var n=t.type,i=Y[n];return i?i(e,t):p.prototype.drawConnection.apply(this,[e,t])}function O(e,t){var i=(t.height-16)/t.height,r=n.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.451,my:i}});_(e,r,{strokeWidth:2})}function M(e,t){return e.isCollection||e.elementObjectRef&&e.elementObjectRef.isCollection}function $(e){return e.businessObject.di}function L(e){return e.businessObject}function F(e,t,n){function i(e,t){return c(t,function(t,n){return e[n]==t})}return u(e.eventDefinitions,function(r){return r.$type===t&&i(e,n)})}function B(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type}p.call(this,t);var j=10,V=3,U={fontFamily:"Arial, sans-serif",fontSize:"12px"},q=new d({style:U,size:{width:100}}),z={},Y={"bpmn:Event":function(e,t,n){return y(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={},i=L(t);i.isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round"});var r=C("bpmn:Event")(e,t,n);return T(t,e),r},"bpmn:MessageEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),o=i?"black":"white",a=i?"white":"black",s=_(e,r,{strokeWidth:1,fill:o,stroke:a});return s},"bpmn:TimerEventDefinition":function(e,t){var i=y(e,t.width,t.height,.2*t.height,{strokeWidth:2}),r=n.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}});_(e,r,{strokeWidth:2,strokeLinecap:"square"});for(var o=0;12>o;o++){var a=n.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),s=t.width/2,c=t.height/2;_(e,a,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*o+","+c+","+s+")"})}return i},"bpmn:EscalationEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.555}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:ConditionalEventDefinition":function(e,t){var i=n.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}});return _(e,i,{strokeWidth:1})},"bpmn:LinkEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:ErrorEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:CancelEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o}).transform("rotate(45)")},"bpmn:CompensateEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.201,my:.472}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:SignalEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:MultipleEventDefinition":function(e,t,i){var r=n.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),o=i?"black":"none";return _(e,r,{strokeWidth:1,fill:o})},"bpmn:ParallelMultipleEventDefinition":function(e,t){var i=n.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}});return _(e,i,{strokeWidth:1})},"bpmn:EndEvent":function(e,t){var n=C("bpmn:Event")(e,t,{strokeWidth:4});return T(t,e,!0),n},"bpmn:TerminateEventDefinition":function(e,t){var n=y(e,t.width,t.height,8,{strokeWidth:4,fill:"black"});return n},"bpmn:IntermediateEvent":function(e,t){var n=C("bpmn:Event")(e,t,{strokeWidth:1});return y(e,t.width,t.height,V,{strokeWidth:1,fill:"none"}),T(t,e),n},"bpmn:IntermediateCatchEvent":E("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":E("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return b(e,t.width,t.height,j,n)},"bpmn:Task":function(e,t){var n=C("bpmn:Activity")(e,t);return S(e,t,"center-middle"),N(e,t),n},"bpmn:ServiceTask":function(e,t){var i=C("bpmn:Task")(e,t),r=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});_(e,r,{strokeWidth:1,fill:"none"});var o=n.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}});_(e,o,{strokeWidth:0,stroke:"none",fill:"white"});var a=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return _(e,a,{strokeWidth:1,fill:"white"}),i},"bpmn:UserTask":function(e,t){var i=C("bpmn:Task")(e,t),r=15,o=12,a=n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:r,y:o}});_(e,a,{strokeWidth:.5,fill:"none"});var s=n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:r,y:o}});_(e,s,{strokeWidth:.5,fill:"none"});var c=n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:r,y:o}});return _(e,c,{strokeWidth:.5,fill:"black"}),i},"bpmn:ManualTask":function(e,t){var i=C("bpmn:Task")(e,t),r=n.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return _(e,r,{strokeWidth:.25,fill:"white",stroke:"black"}),i},"bpmn:SendTask":function(e,t){var i=C("bpmn:Task")(e,t),r=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return _(e,r,{strokeWidth:1,fill:"black",stroke:"white"}),i},"bpmn:ReceiveTask":function(e,t){var i,r=L(t),o=C("bpmn:Task")(e,t);return r.instantiate?(y(e,28,28,4.4,{strokeWidth:1}),i=n.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):i=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),_(e,i,{strokeWidth:1}),o},"bpmn:ScriptTask":function(e,t){var i=C("bpmn:Task")(e,t),r=n.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return _(e,r,{strokeWidth:1}),i},"bpmn:BusinessRuleTask":function(e,t){var i=C("bpmn:Task")(e,t),r=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),o=_(e,r);o.attr({strokeWidth:1,fill:"AAA"});var a=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),s=_(e,a);return s.attr({strokeWidth:1}),i},"bpmn:SubProcess":function(e,t,n){var i=C("bpmn:Activity")(e,t,n),r=L(t),o=f.isExpanded(r),a=!!r.triggeredByEvent;return a&&i.attr({strokeDasharray:"1,2"}),S(e,t,o?"center-top":"center-middle"),o?N(e,t):N(e,t,["SubProcessMarker"]),i},"bpmn:AdHocSubProcess":function(e,t){return C("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,n){var i=C("bpmn:SubProcess")(e,n),r=t.style(["no-fill","no-events"]);return b(e,n.width,n.height,j-2,V,r),i},"bpmn:CallActivity":function(e,t){return C("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n=C("bpmn:Lane")(e,t),i=f.isExpandedPool(L(t));if(i){x(e,[{x:30,y:0},{x:30,y:t.height}]);var r=L(t).name;D(e,r,t)}else{var o=L(t).name;A(e,o,{box:t,align:"center-middle"})}var a=!!L(t).participantMultiplicity;return a&&C("ParticipantMultiplicityMarker")(e,t),n},"bpmn:Lane":function(e,t){var n=b(e,t.width,t.height,0,{fill:"none"}),i=L(t);if("bpmn:Lane"===i.$type){var r=i.name;D(e,r,t)}return n},"bpmn:InclusiveGateway":function(e,t){var n=w(e,t.width,t.height);return y(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:"none"}),n},"bpmn:ExclusiveGateway":function(e,t){var i=w(e,t.width,t.height),r=n.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return $(t).isMarkerVisible&&_(e,r,{strokeWidth:1,fill:"black"}),i},"bpmn:ComplexGateway":function(e,t){var i=w(e,t.width,t.height),r=n.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}});return _(e,r,{strokeWidth:1,fill:"black"}),i},"bpmn:ParallelGateway":function(e,t){var i=w(e,t.width,t.height),r=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}});return _(e,r,{strokeWidth:1,fill:"black"}),i},"bpmn:EventBasedGateway":function(e,t){function i(){var i=n.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}});_(e,i,{strokeWidth:2,fill:"none"})}var r=L(t),o=w(e,t.width,t.height);y(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none"});var a=r.eventGatewayType,s=!!r.instantiate;if("Parallel"===a){var c=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),l=_(e,c);l.attr({strokeWidth:1,fill:"none"})}else if("Exclusive"===a){if(!s){var u=y(e,t.width,t.height,.26*t.height);u.attr({strokeWidth:1,fill:"none"})}i()}return o},"bpmn:Gateway":function(e,t){return w(e,t.width,t.height)},"bpmn:SequenceFlow":function(e,t){var n=I(t),i=_(e,n,{markerEnd:m("sequenceflow-end")}),r=L(t),o=t.source.businessObject;return r.conditionExpression&&o.$instanceOf("bpmn:Task")&&i.attr({markerStart:m("conditional-flow-marker")}),o["default"]&&o.$instanceOf("bpmn:Gateway")&&o["default"]===r&&i.attr({markerStart:m("conditional-default-flow-marker")}),i},"bpmn:Association":function(e,t,n){return n=a({strokeDasharray:"1,6",strokeLinecap:"round"},n||{}),x(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){return C("bpmn:Association")(e,t,{markerEnd:m("data-association-end")})},"bpmn:DataOutputAssociation":function(e,t){return C("bpmn:Association")(e,t,{markerEnd:m("data-association-end")})},"bpmn:MessageFlow":function(e,t){var i=L(t),r=$(t),o=I(t),a=_(e,o,{markerEnd:m("messageflow-end"),markerStart:m("messageflow-start"),strokeDasharray:"10",strokeLinecap:"round",strokeWidth:1});if(i.messageRef){var s=a.getPointAtLength(a.getTotalLength()/2),c=n.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:s.x,y:s.y}}),l={strokeWidth:1};"initiating"===r.messageVisibleKind?(l.fill="white",l.stroke="black"):(l.fill="#888",l.stroke="white"),_(e,c,l)}return a},"bpmn:DataObject":function(e,t){var i=n.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),r=_(e,i,{fill:"white"}),o=L(t);return M(o)&&O(e,t),r},"bpmn:DataObjectReference":E("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var i=n.getRawPath("DATA_ARROW"),r=C("bpmn:DataObject")(e,t);return _(e,i,{strokeWidth:1}),r},"bpmn:DataOutput":function(e,t){var i=n.getRawPath("DATA_ARROW"),r=C("bpmn:DataObject")(e,t);return _(e,i,{strokeWidth:1,fill:"black"}),r},"bpmn:DataStoreReference":function(e,t){var i=n.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),r=_(e,i,{strokeWidth:2,fill:"white"});return r},"bpmn:BoundaryEvent":function(e,t){var n=L(t),i=n.cancelActivity,r={strokeLinecap:"round",strokeWidth:1};i||(r.strokeDasharray="6");var o=C("bpmn:Event")(e,t,r);return y(e,t.width,t.height,V,r),T(t,e),o},"bpmn:Group":function(e,t){return b(e,t.width,t.height,j,{strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(e,t){return k(e,t,"")},"bpmn:TextAnnotation":function(e,t){var i={fill:"none",stroke:"none"},r=b(e,t.width,t.height,0,0,i),o=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}});_(e,o);var a=L(t).text||"";return A(e,a,{box:t,align:"left-middle",padding:5}),r},ParticipantMultiplicityMarker:function(e,t){var i=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}});_(e,i)},SubProcessMarker:function(e,t){var i=b(e,14,14,0,{strokeWidth:1});i.transform("translate("+(t.width/2-7.5)+","+(t.height-20)+")");var r=n.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}});_(e,r)},ParallelMarker:function(e,t,i){var r=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.parallel)/t.width,my:(t.height-20)/t.height}});_(e,r)},SequentialMarker:function(e,t,i){var r=n.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.seq)/t.width,my:(t.height-19)/t.height}});_(e,r)},CompensationMarker:function(e,t,i){var r=n.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.compensation)/t.width,my:(t.height-13)/t.height}});_(e,r,{strokeWidth:1})},LoopMarker:function(e,t,i){var r=n.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.loop)/t.width,my:(t.height-7)/t.height}});_(e,r,{strokeWidth:1,fill:"none",strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,i){var r=n.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.adhoc)/t.width,my:(t.height-15)/t.height}});_(e,r,{strokeWidth:1,fill:"black"})}};e.on("canvas.init",function(e){g(e.svg)}),this.drawShape=P,this.drawConnection=R}var r=e(162),o=e(166),a=e(171),s=e(80),c=e(77),l=e(82),u=e(85),p=e(43),d=e(68),f=e(12),h=p.createLine;i.prototype=Object.create(p.prototype),i.$inject=["eventBus","styles","pathMap"],t.exports=i},{12:12,162:162,166:166,171:171,43:43,68:68,77:77,80:80,82:82,85:85}],5:[function(e,t,n){"use strict";function i(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"m {mx},{my} c -{e.x1},{e.y0} -{e.x3},{e.y1} -{e.x5},{e.y4} {e.x1},-{e.y3} {e.x3},-{e.y5} {e.x5},-{e.y6} {e.x0},{e.y3} {e.x2},{e.y5} {e.x4},{e.y6} -{e.x0},-{e.y0} -{e.x2},-{e.y1} -{e.x4},-{e.y4} z",height:36,width:36,heightElements:[2.382,4.764,4.926,6.589333,7.146,13.178667,19.768],widthElements:[2.463,2.808,4.926,5.616,7.389,8.424]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x0},0 {e.x0},-{e.y0} 0,{e.y1} z",height:36,width:36,heightElements:[5,10],widthElements:[10]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 8,-5 0,10 z m 9,0 8,-5 0,10 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,o=this.pathMap[e];t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my);var a={};if(t.position){for(var s=t.containerHeight/o.height*t.yScaleFactor,c=t.containerWidth/o.width*t.xScaleFactor,l=0;l<o.heightElements.length;l++)a["y"+l]=o.heightElements[l]*s;for(var u=0;u<o.widthElements.length;u++)a["x"+u]=o.widthElements[u]*c}var p=r.format(o.d,{mx:n,my:i,e:a});return p}}var r=e(71);t.exports=i},{71:71}],6:[function(e,t,n){t.exports={renderer:["type",e(4)],pathMap:["type",e(5)]}},{4:4,5:5}],7:[function(e,t,n){"use strict";function i(e,t){return a({id:e.id,type:e.$type,businessObject:e},t)}function r(e){return s(e,function(e){return{x:e.x,y:e.y}})}function o(e,t,n,i){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i}var a=e(171),s=e(83),c=e(13),l=c.hasExternalLabel,u=c.getExternalLabelBounds,p=e(12).isExpanded,d=e(10).elementToString;o.$inject=["eventBus","canvas","elementFactory","elementRegistry"],t.exports=o,o.prototype.add=function(e,t){var n,o=e.di;if(o.$instanceOf("bpmndi:BPMNPlane"))n=this._elementFactory.createRoot(i(e)),this._canvas.setRootElement(n);else if(o.$instanceOf("bpmndi:BPMNShape")){var a=!p(e),s=t&&(t.hidden||t.collapsed),c=e.di.bounds;n=this._elementFactory.createShape(i(e,{collapsed:a,hidden:s,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)})),this._canvas.addShape(n,t)}else{if(!o.$instanceOf("bpmndi:BPMNEdge"))throw new Error("unknown di "+d(o)+" for element "+d(e));var u=this._getSource(e),f=this._getTarget(e);n=this._elementFactory.createConnection(i(e,{source:u,target:f,waypoints:r(e.di.waypoint)})),this._canvas.addConnection(n,t)}return l(e)&&this.addLabel(e,n),this._eventBus.fire("bpmnElement.added",{element:n}),n},o.prototype.addLabel=function(e,t){var n=u(e,t),r=this._elementFactory.createLabel(i(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden,x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}));return this._canvas.addShape(r,t.parent)},o.prototype._getEnd=function(e,t){var n,i,r=e.$type;if(i=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===r&&(i=i&&i[0]),("source"===t&&"bpmn:DataOutputAssociation"===r||"target"===t&&"bpmn:DataInputAssociation"===r)&&(i=e.$parent),n=i&&this._getElement(i))return n;throw i?new Error("element "+d(i)+" referenced by "+d(e)+"#"+t+"Ref not yet drawn"):new Error(d(e)+"#"+t+"Ref not specified")},o.prototype._getSource=function(e){return this._getEnd(e,"source")},o.prototype._getTarget=function(e){return this._getEnd(e,"target")},o.prototype._getElement=function(e){return this._elementRegistry.get(e.id)}},{10:10,12:12,13:13,171:171,83:83}],8:[function(e,t,n){"use strict";function i(e,t){return e.$instanceOf(t)}function r(e){return s(e.rootElements,function(e){return i(e,"bpmn:Process")||i(e,"bpmn:Collaboration")})}function o(e){function t(e,t){return function(n){e(n,t)}}function n(t,n){var i=t.gfx;if(i)throw new Error("already rendered "+u(t));return e.element(t,n)}function o(t,n){return e.root(t,n)}function s(e,t){try{return e.di&&n(e,t)}catch(i){l(i.message,{element:e,error:i}),console.error("failed to import "+u(e)),console.error(i)}}function l(t,n){e.error(t,n)}function d(e){var t=e.bpmnElement;t?t.di?l("multiple DI elements defined for "+u(t),{element:t}):(p.bind(t,"di"),t.di=e):l("no bpmnElement referenced in "+u(e),{element:e})}function f(e){h(e.plane)}function h(e){d(e),c(e.planeElement,m)}function m(e){d(e)}function g(e,t){var n=e.diagrams;if(t&&-1===n.indexOf(t))throw new Error("diagram not part of bpmn:Definitions");if(!t&&n&&n.length&&(t=n[0]),t){f(t);var a=t.plane;if(!a)throw new Error("no plane for "+u(t));var s=a.bpmnElement;if(!s){if(s=r(e),!s)return l("no process or collaboration present to display");l("correcting missing bpmnElement on "+u(a)+" to "+u(s)),a.bpmnElement=s,d(a)}var c=o(s,a);if(i(s,"bpmn:Process"))y(s,c);else{if(!i(s,"bpmn:Collaboration"))throw new Error("unsupported bpmnElement for "+u(a)+" : "+u(s));j(s,c),b(e.rootElements,c)}v(U)}}function v(e){c(e,function(e){e()})}function y(e,t){$(e,t),S(e.ioSpecification,t),A(e.artifacts,t),V.push(e)}function b(e){var n=a(e,function(e){return i(e,"bpmn:Process")&&e.laneSets&&-1===V.indexOf(e)});n.forEach(t(y))}function w(e,t){s(e,t)}function x(e,n){c(e,t(w,n))}function _(e,t){s(e,t)}function E(e,t){s(e,t)}function C(e,t){s(e,t)}function T(e,t){s(e,t)}function A(e,t){c(e,function(e){i(e,"bpmn:Association")?U.push(function(){T(e,t)}):T(e,t)})}function S(e,n){e&&(c(e.dataInputs,t(E,n)),c(e.dataOutputs,t(C,n)))}function k(e,t){$(e,t),A(e.artifacts,t)}function D(e,t){var n=s(e,t);i(e,"bpmn:SubProcess")&&k(e,n||t)}function I(e,t){s(e,t)}function N(e,t){s(e,t)}function P(e,t){s(e,t)}function R(e,t){var n=s(e,t);if(e.childLaneSet)O(e.childLaneSet,n||t);else{var i=a(e.flowNodeRef,function(e){return"bpmn:BoundaryEvent"!==e.$type});F(i,n||t)}}function O(e,n){c(e.lanes,t(R,n))}function M(e,n){c(e,t(O,n))}function $(e,t){e.laneSets?(M(e.laneSets,t),L(e.flowElements)):F(e.flowElements,t)}function L(e,t){c(e,function(e){i(e,"bpmn:SequenceFlow")?U.push(function(){I(e,t)}):i(e,"bpmn:BoundaryEvent")?U.unshift(function(){P(e,t)}):i(e,"bpmn:DataObject")||(i(e,"bpmn:DataStoreReference")?N(e,t):i(e,"bpmn:DataObjectReference")&&N(e,t))})}function F(e,n){c(e,function(e){
i(e,"bpmn:SequenceFlow")?U.push(function(){I(e,n)}):i(e,"bpmn:BoundaryEvent")?U.unshift(function(){P(e,n)}):i(e,"bpmn:FlowNode")?(D(e,n),i(e,"bpmn:Activity")&&(S(e.ioSpecification,n),U.push(function(){c(e.dataInputAssociations,t(_,n)),c(e.dataOutputAssociations,t(_,n))}))):i(e,"bpmn:DataObject")||(i(e,"bpmn:DataStoreReference")?N(e,n):i(e,"bpmn:DataObjectReference")?N(e,n):l("unrecognized flowElement "+u(e)+" in context "+(n?u(n.businessObject):null),{element:e,context:n}))})}function B(e,t){var n=s(e,t),i=e.processRef;i&&y(i,n||t)}function j(e){c(e.participants,t(B)),A(e.artifacts),U.push(function(){x(e.messageFlows)})}var V=[],U=[];return{handleDefinitions:g}}var a=e(78),s=e(79),c=e(80),l=e(196),u=e(10).elementToString,p=new l({name:"bpmnElement",enumerable:!0},{name:"di"});t.exports=o},{10:10,196:196,78:78,79:79,80:80}],9:[function(e,t,n){"use strict";function i(e,t,n){function i(e){var t={root:function(e){return a.add(e)},element:function(e,t){return a.add(e,t)},error:function(e,t){c.push({message:e,context:t})}},n=new r(t);n.handleDefinitions(e)}var o,a=e.get("bpmnImporter"),s=e.get("eventBus"),c=[];s.fire("import.start");try{i(t)}catch(l){o=l}s.fire(o?"import.error":"import.success",{error:o,warnings:c}),n(o,c)}var r=e(8);t.exports.importBpmnDiagram=i},{8:8}],10:[function(e,t,n){"use strict";t.exports.elementToString=function(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}},{}],11:[function(e,t,n){t.exports={bpmnImporter:["type",e(7)]}},{7:7}],12:[function(e,t,n){"use strict";t.exports.isExpandedPool=function(e){return!!e.processRef},t.exports.isExpanded=function(e){var t=!(e.$instanceOf("bpmn:SubProcess")||e.$instanceOf("bpmn:CallActivity")),n=t||e.di.isExpanded;return n}},{}],13:[function(e,t,n){"use strict";var i=e(171),r=t.exports.DEFAULT_LABEL_SIZE={width:90,height:20};t.exports.hasExternalLabel=function(e){return e.$instanceOf("bpmn:Event")||e.$instanceOf("bpmn:Gateway")||e.$instanceOf("bpmn:DataStoreReference")||e.$instanceOf("bpmn:DataObjectReference")||e.$instanceOf("bpmn:SequenceFlow")||e.$instanceOf("bpmn:MessageFlow")};var o=t.exports.getWaypointsMid=function(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}},a=t.exports.getExternalLabelMid=function(e){return e.waypoints?o(e.waypoints):{x:e.x+e.width/2,y:e.y+e.height+r.height/2}};t.exports.getExternalLabelBounds=function(e,t){var n,o,s,c=e.di,l=c.label;return l&&l.bounds?(s=l.bounds,o={width:Math.max(r.width,s.width),height:s.height},n={x:s.x+s.width/2,y:s.y+s.height/2}):(n=a(t),o=r),i({x:n.x-o.width/2,y:n.y-o.height/2},o)}},{171:171}],14:[function(e,t,n){t.exports=e(16)},{16:16}],15:[function(e,t,n){"use strict";function i(e,t){s.call(this,e,t)}var r=e(168),o=e(163),a=e(171),s=e(22),c=e(18),l=e(19);i.prototype=Object.create(s.prototype),t.exports=i,i.prototype.fromXML=function(e,t,n,i){r(t)||(i=n,n=t,t="bpmn:Definitions"),o(n)&&(i=n,n={});var s=new c(a({model:this,lax:!0},n)),l=s.handler(t);s.fromXML(e,l,i)},i.prototype.toXML=function(e,t,n){o(t)&&(n=t,t={});var i=new l(t);try{var r=i.toXML(e);n(null,r)}catch(a){n(a)}}},{163:163,168:168,171:171,18:18,19:19,22:22}],16:[function(e,t,n){"use strict";var i=e(171),r=e(15),o={bpmn:e(31),bpmndi:e(32),dc:e(33),di:e(34)};t.exports=function(e,t){return new r(i({},o,e),t)}},{15:15,171:171,31:31,32:32,33:33,34:34}],17:[function(e,t,n){"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return e.charAt(0).toLowerCase()+e.slice(1)}function o(e){return e.xml&&"lowerCase"===e.xml.tagAlias}t.exports.aliasToName=function(e,t){return o(t)?i(e):e},t.exports.nameToAlias=function(e,t){return o(t)?r(e):e},t.exports.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"},t.exports.XSI_TYPE="xsi:type"},{}],18:[function(e,t,n){"use strict";function i(e){var t=e.attributes;return g(t,function(e,t,n){var i,r;return t.local?(r=C(t.name,t.prefix),i=r.name):i=t.prefix,e[i]=t.value,e},{})}function r(e,t,n){var i,r=C(t.value),o=e.ns[r.prefix||""],a=r.localName,s=o&&n.getPackage(o);s&&(i=s.xml&&s.xml.typePrefix,i&&0===a.indexOf(i)&&(a=a.slice(i.length)),t.value=s.prefix+":"+a)}function o(e,t,n){var i,a;if(i=e.uri||n){var s=t.getPackage(i);a=s?s.prefix:e.prefix,e.prefix=a,e.uri=i}v(e.attributes,function(n){n.uri===I&&"type"===n.local&&r(e,n,t),o(n,t,null)})}function a(e){b(this,e);var t=this.elementsById={},n=this.references=[],i=this.warnings=[];this.addReference=function(e){n.push(e)},this.addElement=function(e,n){if(!e||!n)throw new Error("[xml-reader] id or ctx must not be null");t[e]=n},this.addWarning=function(e){i.push(e)}}function s(){}function c(){}function l(){}function u(e,t){this.property=e,this.context=t}function p(e,t){this.element=t,this.propertyDesc=e}function d(){}function f(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function h(e,t,n){this.model=e,this.context=n}function m(e){e instanceof E&&(e={model:e}),b(this,{lax:!1},e)}var g=e(84),v=e(80),y=e(79),b=e(171),w=e(88),x=e(21),_=e(20).parser,E=e(22),C=e(27).parseName,T=e(30),A=T.coerceType,S=T.isSimple,k=e(17),D=k.XSI_TYPE,I=k.DEFAULT_NS_MAP.xsi,N=k.aliasToName;s.prototype.handleEnd=function(){},s.prototype.handleText=function(){},s.prototype.handleNode=function(){},c.prototype=new s,c.prototype.handleNode=function(){return this},l.prototype=new s,l.prototype.handleText=function(e){this.body=(this.body||"")+e},u.prototype=new l,u.prototype.handleNode=function(e){if(this.element)throw new Error("expected no sub nodes");return this.element=this.createReference(e),this},u.prototype.handleEnd=function(){this.element.id=this.body},u.prototype.createReference=function(){return{property:this.property.ns.name,id:""}},p.prototype=new l,p.prototype.handleEnd=function(){var e=this.body,t=this.element,n=this.propertyDesc;e=A(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},d.prototype=Object.create(l.prototype),d.prototype.handleNode=function(e){var t,n=this,i=this.element;return i?n=this.handleChild(e):(i=this.element=this.createElement(e),t=i.id,t&&this.context.addElement(t,i)),n},f.prototype=new d,f.prototype.addReference=function(e){this.context.addReference(e)},f.prototype.handleEnd=function(){var e=this.body,t=this.element,n=t.$descriptor,i=n.bodyProperty;i&&void 0!==e&&(e=A(i.type,e),t.set(i.name,e))},f.prototype.createElement=function(e){var t=i(e),n=this.type,r=n.$descriptor,o=this.context,a=new n({});return v(t,function(e,t){var n=r.propertiesByName[t];n&&n.isReference?o.addReference({element:a,property:n.ns.name,id:e}):(n&&(e=A(n.type,e)),a.set(t,e))}),a},f.prototype.getPropertyForNode=function(e){var t,n,i,r=C(e.local,e.prefix),o=this.type,a=this.model,s=o.$descriptor,c=r.name,l=s.propertiesByName[c];if(l)return l.serialize===D&&(i=e.attributes[D])?(t=i.value,n=a.getType(t),b({},l,{effectiveType:n.$descriptor.name})):l;var u=a.getPackage(r.prefix);if(u){if(t=r.prefix+":"+N(r.localName,s.$pkg),n=a.getType(t),l=y(s.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)}))return b({},l,{effectiveType:n.$descriptor.name})}else if(l=y(s.properties,function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type}))return l;throw new Error("unrecognized element <"+r.name+">")},f.prototype.toString=function(){return"ElementDescriptor["+this.type.$descriptor.name+"]"},f.prototype.valueHandler=function(e,t){return new p(e,t)},f.prototype.referenceHandler=function(e){return new u(e,this.context)},f.prototype.handler=function(e){return"Element"===e?new h(this.model,e,this.context):new f(this.model,e,this.context)},f.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,S(n))return this.valueHandler(t,i);r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e);var o=r.element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(b(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},h.prototype=Object.create(d.prototype),h.prototype.createElement=function(e){var t=e.name,n=e.prefix,i=e.ns[n],r=e.attributes;return this.model.createAny(t,i,r)},h.prototype.handleChild=function(e){var t,n=new h(this.model,"Element",this.context).handleNode(e),i=this.element,r=n.element;return void 0!==r&&(t=i.$children=i.$children||[],t.push(r),r.$parent=i),n},h.prototype.handleText=function(e){this.body=this.body||""+e},h.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},m.prototype.fromXML=function(e,t,n){function i(){var e,t,n=d.elementsById,i=d.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],a=r.$descriptor.propertiesByName[t.property];if(o||d.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),a.isMany){var s=r.get(a.name),c=s.indexOf(t);o?s[c]=o:s.splice(c,1)}else r.set(a.name,o)}}function r(e){h.pop().handleEnd()}function s(e){var t=h.peek();o(e,u);try{h.push(t.handleNode(e))}catch(n){var i=this.line,r=this.column,a="unparsable content <"+e.name+"> detected\n	line: "+i+"\n	column: "+r+"\n	nested error: "+n.message;if(!p)throw console.error("could not parse document"),console.error(n),new Error(a);d.addWarning({message:a,error:n}),console.warn("could not parse node"),console.warn(n),h.push(new c)}}function l(e){h.peek().handleText(e)}var u=this.model,p=this.lax,d=new a({parseRoot:t}),f=new _(!0,{xmlns:!0,trim:!0}),h=new x;t.context=d,h.push(t),f.onopentag=s,f.oncdata=f.ontext=l,f.onclosetag=r,f.onend=i,w(function(){var i;try{f.write(e).close()}catch(r){i=r}n(i,i?void 0:t.element,d)})},m.prototype.handler=function(e){return new f(this.model,e)},t.exports=m,t.exports.ElementHandler=f},{17:17,171:171,20:20,21:21,22:22,27:27,30:30,79:79,80:80,84:84,88:88}],19:[function(e,t,n){"use strict";function i(e){return w(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function r(e,t){return t.isGeneric?t.name:_({localName:A(t.ns.localName,t.$pkg)},e)}function o(e,t){return _({localName:t.ns.localName},e)}function a(e){var t=e.$descriptor;return x(t.properties,function(t){var n=t.name;if(!e.hasOwnProperty(n))return!1;var i=e[n];return i===t["default"]?!1:t.isMany?i.length:!0})}function s(e){return e=w(e)?e:""+e,e.replace(k,function(e){return"&#"+N[e]+";"})}function c(e){return x(e,function(e){return e.isAttr})}function l(e){return x(e,function(e){return!e.isAttr})}function u(e,t){this.ns=t}function p(){}function d(e){this.ns=e}function f(e,t){this.body=[],this.attrs=[],this.parent=e,this.ns=t}function h(e,t){f.call(this,e,t)}function m(){this.value="",this.write=function(e){this.value+=e}}function g(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function v(e){function t(t,n){var i=n||new m,r=new g(i,e.format);return e.preamble&&r.append(S),(new f).build(t).serializeTo(r),n?void 0:i.value}return e=_({format:!1,preamble:!0},e||{}),{toXML:t}}var y=e(83),b=e(80),w=e(168),x=e(78),_=e(171),E=e(30),C=e(27).parseName,T=e(17),A=T.nameToAlias,S='<?xml version="1.0" encoding="UTF-8"?>\n',k=/(<|>|'|"|&|\n\r|\n)/g,D=T.DEFAULT_NS_MAP,I=T.XSI_TYPE,N={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};u.prototype.build=function(e){return this.element=e,this},u.prototype.serializeTo=function(e){e.appendIndent().append("<"+i(this.ns)+">"+this.element.id+"</"+i(this.ns)+">").appendNewLine()},p.prototype.serializeValue=p.prototype.serializeTo=function(e){var t=this.escape;t&&e.append("<![CDATA["),e.append(this.value),t&&e.append("]]>")},p.prototype.build=function(e,t){return this.value=t,"String"===e.type&&k.test(t)&&(this.escape=!0),this},d.prototype=new p,d.prototype.serializeTo=function(e){e.appendIndent().append("<"+i(this.ns)+">"),this.serializeValue(e),e.append("</"+i(this.ns)+">").appendNewLine()},f.prototype.build=function(e){this.element=e;var t=this.parseNsAttributes(e);if(this.ns||(this.ns=this.nsTagName(e.$descriptor)),e.$descriptor.isGeneric)this.parseGeneric(e);else{var n=a(e);this.parseAttributes(c(n)),this.parseContainments(l(n)),this.parseGenericAttributes(e,t)}return this},f.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return r(t,e)},f.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return o(t,e)},f.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},f.prototype.nsAttributeName=function(e){var t;w(e)?t=C(e):e.ns&&(t=e.ns);var n=this.logNamespaceUsed(t);return this.isLocalNs(n)?{localName:t.localName}:_({localName:t.localName},n)},f.prototype.parseGeneric=function(e){var t=this,n=this.body,i=this.attrs;b(e,function(e,r){"$body"===r?n.push((new p).build({type:"String"},e)):"$children"===r?b(e,function(e){n.push(new f(t).build(e))}):0!==r.indexOf("$")&&i.push({name:r,value:s(e)})})},f.prototype.parseNsAttributes=function(e){var t=this,n=e.$attrs,i=[];return b(n,function(e,n){var r=C(n);"xmlns"===r.prefix?t.logNamespace({prefix:r.localName,uri:e}):r.prefix||"xmlns"!==r.localName?i.push({name:n,value:e}):t.logNamespace({uri:e})}),i},f.prototype.parseGenericAttributes=function(e,t){var n=this;b(t,function(t){if(t.name!==I)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(i){console.warn("[writer] missing namespace information for ",t.name,"=",t.value,"on",e,i)}})},f.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;b(e,function(e){var r=i.get(e.name),o=e.isReference,a=e.isMany,s=t.nsPropertyTagName(e);if(a||(r=[r]),e.isBody)n.push((new p).build(e,r[0]));else if(E.isSimple(e.type))b(r,function(t){n.push(new d(s).build(e,t))});else if(o)b(r,function(e){n.push(new u(t,s).build(e))});else{var c=e.serialize===I;b(r,function(e){var i;i=c?new h(t,s):new f(t),n.push(i.build(e))})}})},f.prototype.getNamespaces=function(){return this.parent?this.namespaces=this.parent.getNamespaces():this.namespaces||(this.namespaces={prefixMap:{},uriMap:{},used:{}}),this.namespaces},f.prototype.logNamespace=function(e){var t=this.getNamespaces(),n=t.uriMap[e.uri];return n||(t.uriMap[e.uri]=e),t.prefixMap[e.prefix]=e.uri,e},f.prototype.logNamespaceUsed=function(e){var t=this.element,n=t.$model,i=this.getNamespaces(),r=e.prefix,o=e.uri||D[r]||i.prefixMap[r]||(n?(n.getPackage(r)||{}).uri:null);if(!o)throw new Error("no namespace uri given for prefix <"+e.prefix+">");return e=i.uriMap[o],e||(e=this.logNamespace({prefix:r,uri:o})),i.used[e.uri]||(i.used[e.uri]=e),e},f.prototype.parseAttributes=function(e){var t=this,n=this.element;b(e,function(e){t.logNamespaceUsed(e.ns);var i=n.get(e.name);e.isReference&&(i=i.id),t.addAttribute(t.nsAttributeName(e),i)})},f.prototype.addAttribute=function(e,t){var n=this.attrs;w(t)&&(t=s(t)),n.push({name:e,value:t})},f.prototype.serializeAttributes=function(e){function t(){return y(o.used,function(e){var t="xmlns"+(e.prefix?":"+e.prefix:"");return{name:t,value:e.uri}})}var n=this.attrs,r=!this.parent,o=this.namespaces;r&&(n=t().concat(n)),b(n,function(t){e.append(" ").append(i(t.name)).append('="').append(t.value).append('"')})},f.prototype.serializeTo=function(e){var t=this.body.length,n=!(1===this.body.length&&this.body[0]instanceof p);e.appendIndent().append("<"+i(this.ns)),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),b(this.body,function(t){t.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+i(this.ns)+">")),e.appendNewLine()},h.prototype=new f,h.prototype.build=function(e){var t=e.$descriptor;this.element=e,this.typeNs=this.nsTagName(t);var n=this.typeNs,i=e.$model.getPackage(n.uri),r=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(I),(n.prefix?n.prefix+":":"")+r+t.ns.localName),f.prototype.build.call(this,e)},h.prototype.isLocalNs=function(e){return e.uri===this.typeNs.uri},t.exports=v},{168:168,17:17,171:171,27:27,30:30,78:78,80:80,83:83}],20:[function(e,t,n){(function(t){!function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);var r=this;o(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=z.BEGIN,r.ENTITIES=Object.create(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(V)),r.trackPosition=r.opt.position!==!1,r.trackPosition&&(r.position=r.line=r.column=0),f(r,"onready")}function r(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),i=0,r=0,o=S.length;o>r;r++){var a=e[S[r]].length;if(a>t)switch(S[r]){case"textNode":m(e);break;case"cdata":h(e,"oncdata",e.cdata),e.cdata="";break;case"script":h(e,"onscript",e.script),e.script="";break;default:v(e,"Max buffer length exceeded: "+S[r])}i=Math.max(i,a)}e.bufferCheckPosition=n.MAX_BUFFER_LENGTH-i+e.position}function o(e){for(var t=0,n=S.length;n>t;t++)e[S[t]]=""}function a(e){m(e),""!==e.cdata&&(h(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(h(e,"onscript",e.script),e.script="")}function s(e,t){return new c(e,t)}function c(e,t){if(!(this instanceof c))return new c(e,t);k.apply(this),this._parser=new i(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,I.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){return t?void n.on(e,t):(n.removeAllListeners(e),n._parser["on"+e]=t)},enumerable:!0,configurable:!1})})}function l(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function u(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(e,t){return u(e)?!!t.match(e):e[t]}function d(e,t){return!p(e,t)}function f(e,t,n){e[t]&&e[t](n)}function h(e,t,n){e.textNode&&m(e),f(e,t,n)}function m(e){e.textNode=g(e.opt,e.textNode),e.textNode&&f(e,"ontext",e.textNode),e.textNode=""}function g(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function v(e,t){return m(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,f(e,"onerror",t),e}function y(e){return e.closedRoot||b(e,"Unclosed root tag"),e.state!==z.BEGIN&&e.state!==z.TEXT&&v(e,"Unexpected end"),m(e),e.c="",e.closed=!0,f(e,"onend"),i.call(e,e.strict,e.opt),e}function b(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&v(e,t)}function w(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0}function x(e,t){var n=e.indexOf(":"),i=0>n?["",e]:e.split(":"),r=i[0],o=i[1];return t&&"xmlns"===e&&(r="xmlns",o=""),{prefix:r,local:o}}function _(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return e.attribName=e.attribValue="";if(e.opt.xmlns){var t=x(e.attribName,!0),n=t.prefix,i=t.local;if("xmlns"===n)if("xml"===i&&e.attribValue!==B)b(e,"xml: prefix must be bound to "+B+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==j)b(e,"xmlns: prefix must be bound to "+j+"\nActual: "+e.attribValue);else{var r=e.tag,o=e.tags[e.tags.length-1]||e;r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,h(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function E(e,t){if(e.opt.xmlns){var n=e.tag,i=x(e.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(b(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=i.prefix);var r=e.tags[e.tags.length-1]||e;n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){h(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,a=e.attribList.length;a>o;o++){var s=e.attribList[o],c=s[0],l=s[1],u=x(c,!0),p=u.prefix,d=u.local,f=""==p?"":n.ns[p]||"",m={name:c,value:l,prefix:p,local:d,uri:f};p&&"xmlns"!=p&&!f&&(b(e,"Unbound namespace prefix: "+JSON.stringify(p)),m.uri=p),e.tag.attributes[c]=m,h(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),h(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=z.TEXT:e.state=z.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function C(e){if(!e.tagName)return b(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=z.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=z.SCRIPT);h(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var i=n;t--;){var r=e.tags[t];if(r.name===i)break;b(e,"Unexpected close tag")}if(0>t)return b(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=z.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,h(e,"onclosetag",e.tagName);var s={};for(var c in a.ns)s[c]=a.ns[c];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(t){var n=a.ns[t];h(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=z.TEXT}function T(e){var t,n=e.entity,i=n.toLowerCase(),r="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[i]?e.ENTITIES[i]:(n=i,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),r=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),r=t.toString(10))),n=n.replace(/^0+/,""),r.toLowerCase()!==n?(b(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function A(e){var t=this;if(this.error)throw this.error;if(t.closed)return v(t,"Cannot write after close. Assign an onready handler.");if(null===e)return y(t);for(var n=0,i="";t.c=i=e.charAt(n++);)switch(t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++),t.state){case z.BEGIN:"<"===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):d(N,i)&&(b(t,"Non-whitespace before first tag."),t.textNode=i,t.state=z.TEXT);continue;case z.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)i=e.charAt(n++),i&&t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):(!d(N,i)||t.sawRoot&&!t.closedRoot||b(t,"Text data outside of root node."),"&"===i?t.state=z.TEXT_ENTITY:t.textNode+=i);continue;case z.SCRIPT:"<"===i?t.state=z.SCRIPT_ENDING:t.script+=i;continue;case z.SCRIPT_ENDING:"/"===i?t.state=z.CLOSE_TAG:(t.script+="<"+i,t.state=z.SCRIPT);continue;case z.OPEN_WAKA:if("!"===i)t.state=z.SGML_DECL,t.sgmlDecl="";else if(p(N,i));else if(p(U,i))t.state=z.OPEN_TAG,t.tagName=i;else if("/"===i)t.state=z.CLOSE_TAG,t.tagName="";else if("?"===i)t.state=z.PROC_INST,t.procInstName=t.procInstBody="";else{if(b(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;i=new Array(a).join(" ")+i}t.textNode+="<"+i,t.state=z.TEXT}continue;case z.SGML_DECL:(t.sgmlDecl+i).toUpperCase()===L?(h(t,"onopencdata"),t.state=z.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+i==="--"?(t.state=z.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+i).toUpperCase()===F?(t.state=z.DOCTYPE,(t.doctype||t.sawRoot)&&b(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===i?(h(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=z.TEXT):p(O,i)?(t.state=z.SGML_DECL_QUOTED,t.sgmlDecl+=i):t.sgmlDecl+=i;continue;case z.SGML_DECL_QUOTED:i===t.q&&(t.state=z.SGML_DECL,t.q=""),t.sgmlDecl+=i;continue;case z.DOCTYPE:">"===i?(t.state=z.TEXT,h(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=i,"["===i?t.state=z.DOCTYPE_DTD:p(O,i)&&(t.state=z.DOCTYPE_QUOTED,t.q=i));continue;case z.DOCTYPE_QUOTED:t.doctype+=i,i===t.q&&(t.q="",t.state=z.DOCTYPE);continue;case z.DOCTYPE_DTD:t.doctype+=i,"]"===i?t.state=z.DOCTYPE:p(O,i)&&(t.state=z.DOCTYPE_DTD_QUOTED,t.q=i);continue;case z.DOCTYPE_DTD_QUOTED:t.doctype+=i,i===t.q&&(t.state=z.DOCTYPE_DTD,t.q="");continue;case z.COMMENT:"-"===i?t.state=z.COMMENT_ENDING:t.comment+=i;continue;case z.COMMENT_ENDING:"-"===i?(t.state=z.COMMENT_ENDED,t.comment=g(t.opt,t.comment),t.comment&&h(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+i,t.state=z.COMMENT);continue;case z.COMMENT_ENDED:">"!==i?(b(t,"Malformed comment"),t.comment+="--"+i,t.state=z.COMMENT):t.state=z.TEXT;continue;case z.CDATA:"]"===i?t.state=z.CDATA_ENDING:t.cdata+=i;continue;case z.CDATA_ENDING:"]"===i?t.state=z.CDATA_ENDING_2:(t.cdata+="]"+i,t.state=z.CDATA);continue;case z.CDATA_ENDING_2:">"===i?(t.cdata&&h(t,"oncdata",t.cdata),h(t,"onclosecdata"),t.cdata="",t.state=z.TEXT):"]"===i?t.cdata+="]":(t.cdata+="]]"+i,t.state=z.CDATA);continue;case z.PROC_INST:"?"===i?t.state=z.PROC_INST_ENDING:p(N,i)?t.state=z.PROC_INST_BODY:t.procInstName+=i;continue;case z.PROC_INST_BODY:if(!t.procInstBody&&p(N,i))continue;"?"===i?t.state=z.PROC_INST_ENDING:t.procInstBody+=i;continue;case z.PROC_INST_ENDING:">"===i?(h(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=z.TEXT):(t.procInstBody+="?"+i,t.state=z.PROC_INST_BODY);continue;case z.OPEN_TAG:p(q,i)?t.tagName+=i:(w(t),">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:(d(N,i)&&b(t,"Invalid character in tag name"),t.state=z.ATTRIB));continue;case z.OPEN_TAG_SLASH:">"===i?(E(t,!0),C(t)):(b(t,"Forward-slash in opening tag not followed by >"),t.state=z.ATTRIB);continue;case z.ATTRIB:if(p(N,i))continue;">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:p(U,i)?(t.attribName=i,t.attribValue="",t.state=z.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case z.ATTRIB_NAME:"="===i?t.state=z.ATTRIB_VALUE:">"===i?(b(t,"Attribute without value"),t.attribValue=t.attribName,_(t),E(t)):p(N,i)?t.state=z.ATTRIB_NAME_SAW_WHITE:p(q,i)?t.attribName+=i:b(t,"Invalid attribute name");continue;case z.ATTRIB_NAME_SAW_WHITE:if("="===i)t.state=z.ATTRIB_VALUE;else{if(p(N,i))continue;b(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",h(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===i?E(t):p(U,i)?(t.attribName=i,t.state=z.ATTRIB_NAME):(b(t,"Invalid attribute name"),t.state=z.ATTRIB)}continue;case z.ATTRIB_VALUE:if(p(N,i))continue;p(O,i)?(t.q=i,t.state=z.ATTRIB_VALUE_QUOTED):(b(t,"Unquoted attribute value"),t.state=z.ATTRIB_VALUE_UNQUOTED,t.attribValue=i);continue;case z.ATTRIB_VALUE_QUOTED:if(i!==t.q){"&"===i?t.state=z.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=i;continue}_(t),t.q="",t.state=z.ATTRIB_VALUE_CLOSED;continue;case z.ATTRIB_VALUE_CLOSED:p(N,i)?t.state=z.ATTRIB:">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:p(U,i)?(b(t,"No whitespace between attributes"),t.attribName=i,t.attribValue="",t.state=z.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case z.ATTRIB_VALUE_UNQUOTED:if(d($,i)){"&"===i?t.state=z.ATTRIB_VALUE_ENTITY_U:t.attribValue+=i;continue}_(t),">"===i?E(t):t.state=z.ATTRIB;continue;case z.CLOSE_TAG:if(t.tagName)">"===i?C(t):p(q,i)?t.tagName+=i:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=z.SCRIPT):(d(N,i)&&b(t,"Invalid tagname in closing tag"),t.state=z.CLOSE_TAG_SAW_WHITE);else{if(p(N,i))continue;d(U,i)?t.script?(t.script+="</"+i,t.state=z.SCRIPT):b(t,"Invalid tagname in closing tag."):t.tagName=i}continue;case z.CLOSE_TAG_SAW_WHITE:if(p(N,i))continue;">"===i?C(t):b(t,"Invalid characters in closing tag");continue;case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:switch(t.state){case z.TEXT_ENTITY:var s=z.TEXT,c="textNode";break;case z.ATTRIB_VALUE_ENTITY_Q:var s=z.ATTRIB_VALUE_QUOTED,c="attribValue";break;case z.ATTRIB_VALUE_ENTITY_U:var s=z.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===i?(t[c]+=T(t),t.entity="",t.state=s):p(M,i)?t.entity+=i:(b(t,"Invalid character entity"),t[c]+="&"+t.entity+i,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&r(t),t}n.parser=function(e,t){return new i(e,t)},n.SAXParser=i,n.SAXStream=c,n.createStream=s,n.MAX_BUFFER_LENGTH=65536;var S=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){this.__proto__=e}return t.prototype=e,new t}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.prototype={end:function(){y(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};try{var k=e("stream").Stream}catch(D){var k=function(){}}var I=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});c.prototype=Object.create(k.prototype,{constructor:{value:c}}),c.prototype.write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var i=e("string_decoder").StringDecoder;this._decoder=new i("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},c.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},c.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===I.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),k.prototype.on.call(n,e,t)};var N="\r\n	 ",P="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",O="'\"",M=P+R+"#",$=N+">",L="[CDATA[",F="DOCTYPE",B="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",V={xml:B,xmlns:j};N=l(N),P=l(P),R=l(R);var U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;O=l(O),M=l(M),$=l($);var z=0;n.STATE={BEGIN:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,
shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],i="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=i});for(var z in n.STATE)n.STATE[n.STATE[z]]=z;z=n.STATE,String.fromCodePoint||!function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,i,r=16384,o=[],a=-1,s=arguments.length;if(!s)return"";for(var c="";++a<s;){var l=Number(arguments[a]);if(!isFinite(l)||0>l||l>1114111||t(l)!=l)throw RangeError("Invalid code point: "+l);65535>=l?o.push(l):(l-=65536,n=(l>>10)+55296,i=l%1024+56320,o.push(n,i)),(a+1==s||o.length>r)&&(c+=e.apply(null,o),o.length=0)}return c};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}("undefined"==typeof n?sax={}:n)}).call(this,void 0)},{undefined:void 0}],21:[function(t,n,i){!function(t){function r(){this.data=[null],this.top=0}function o(){return new r}r.prototype.clear=function(){return this.data=[null],this.top=0,this},r.prototype.length=function(){return this.top},r.prototype.peek=function(){return this.data[this.top]},r.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},r.prototype.push=function(e){return this.data[++this.top]=e,this},"undefined"!=typeof i?n.exports=o:"function"==typeof e?e(function(){return o}):t.stack=o}(this)},{}],22:[function(e,t,n){t.exports=e(26)},{26:26}],23:[function(e,t,n){"use strict";function i(){}i.prototype.get=function(e){return this.$model.properties.get(this,e)},i.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},t.exports=i},{}],24:[function(e,t,n){"use strict";function i(e){this.ns=e,this.name=e.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var r=e(177),o=e(171),a=e(80),s=e(27).parseName;t.exports=i,i.prototype.build=function(){return r(this,["ns","name","allTypes","properties","propertiesByName","bodyProperty"])},i.prototype.addProperty=function(e,t){this.addNamedProperty(e,!0);var n=this.properties;void 0!==t?n.splice(t,0,e):n.push(e)},i.prototype.replaceProperty=function(e,t){var n=e.ns,i=this.properties,r=this.propertiesByName,o=e.name!==t.name;if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}this.addNamedProperty(t,o);var a=i.indexOf(e);if(-1===a)throw new Error("property <"+n.name+"> not found in property list");i[a]=t,r[n.name]=r[n.localName]=t},i.prototype.redefineProperty=function(e){var t=e.ns.prefix,n=e.redefines.split("#"),i=s(n[0],t),r=s(n[1],i.prefix).name,o=this.propertiesByName[r];if(!o)throw new Error("refined property <"+r+"> not found");this.replaceProperty(o,e),delete e.redefines},i.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},i.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},i.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},i.prototype.addIdProperty=function(e){var t=s(e,this.ns.prefix),n={name:t.localName,type:"String",isAttr:!0,ns:t};this.addProperty(n,0)},i.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},i.prototype.hasProperty=function(e){return this.propertiesByName[e]},i.prototype.addTrait=function(e){var t=this.allTypes;-1===t.indexOf(e)&&(a(e.properties,function(t){t=o({},t,{name:t.ns.localName}),Object.defineProperty(t,"definedBy",{value:e}),t.redefines?this.redefineProperty(t):(t.isBody&&this.setBodyProperty(t),this.addProperty(t))},this),t.push(e))}},{171:171,177:177,27:27,80:80}],25:[function(e,t,n){"use strict";function i(e,t){this.model=e,this.properties=t}var r=e(80),o=e(23);t.exports=i,i.prototype.createType=function(e){function t(e){i.define(this,"$type",{value:s,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),r(e,function(e,t){this.set(t,e)},this)}var n=this.model,i=this.properties,a=Object.create(o.prototype);r(e.properties,function(e){e.isMany||void 0===e["default"]||(a[e.name]=e["default"])}),i.defineModel(a,n),i.defineDescriptor(a,e);var s=e.ns.name;return t.prototype=a,t.hasType=a.$instanceOf=this.model.hasType,i.defineModel(t,n),i.defineDescriptor(t,e),t}},{23:23,80:80}],26:[function(e,t,n){"use strict";function i(e,t){t=t||{},this.properties=new u(this),this.factory=new c(this,this.properties),this.registry=new l(e,this.properties,t),this.typeCache={}}var r=e(168),o=e(166),a=e(80),s=e(79),c=e(25),l=e(29),u=e(28),p=e(27).parseName;t.exports=i,i.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},i.prototype.getType=function(e){var t=this.typeCache,n=r(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},i.prototype.createAny=function(e,t,n){var i=p(e),r={$type:e},s={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,s),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),a(n,function(e,t){o(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e}),r},i.prototype.getPackage=function(e){return this.registry.getPackage(e)},i.prototype.getPackages=function(){return this.registry.getPackages()},i.prototype.getElementDescriptor=function(e){return e.$descriptor},i.prototype.hasType=function(e,t){void 0===t&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return!!s(n.allTypes,function(e){return e.name===t})},i.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]}},{166:166,168:168,25:25,27:27,28:28,29:29,79:79,80:80}],27:[function(e,t,n){"use strict";t.exports.parseName=function(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return e=(i?i+":":"")+n,{name:e,prefix:i,localName:n}}},{}],28:[function(e,t,n){"use strict";function i(e){this.model=e}t.exports=i,i.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t);i?Object.defineProperty(e,i.name,{enumerable:!i.isReference,writable:!0,value:n}):e.$attrs[t]=n},i.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&Object.defineProperty(e,i,{enumerable:!n.isReference,writable:!0,value:[]}),e[i]},i.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},i.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},i.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})}},{}],29:[function(e,t,n){"use strict";function i(e,t,n){this.options=r({generateId:"id"},n||{}),this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,o(e,this.registerPackage,this)}var r=e(171),o=e(80),a=e(30),s=e(24),c=e(27).parseName,l=a.isBuiltIn;t.exports=i,i.prototype.getPackage=function(e){return this.packageMap[e]},i.prototype.getPackages=function(){return this.packages},i.prototype.registerPackage=function(e){e=r({},e),o(e.types,function(t){this.registerType(t,e)},this),this.packageMap[e.uri]=this.packageMap[e.prefix]=e,this.packages.push(e)},i.prototype.registerType=function(e,t){e=r({},e,{superClass:(e.superClass||[]).slice(),"extends":(e["extends"]||[]).slice(),properties:(e.properties||[]).slice()});var n=c(e.name,t.prefix),i=n.name,a={};o(e.properties,function(e){var t=c(e.name,n.prefix),i=t.name;l(e.type)||(e.type=c(e.type,t.prefix).name),r(e,{ns:t,name:i}),a[i]=e}),r(e,{ns:n,name:i,propertiesByName:a}),o(e["extends"],function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)},this),this.definePackage(e,t),this.typeMap[i]=e},i.prototype.mapTypes=function(e,t){function n(n){var i=c(n,l(n)?"":e.prefix);r.mapTypes(i,t)}var i=l(e.name)?{name:e.name}:this.typeMap[e.name],r=this;if(!i)throw new Error("unknown type <"+e.name+">");o(i.superClass,n),t(i),o(i.traits,n)},i.prototype.getEffectiveDescriptor=function(e){var t=c(e),n=new s(t);this.mapTypes(t,function(e){n.addTrait(e)});var i=this.options.generateId;i&&!n.hasProperty(i)&&n.addIdProperty(i);var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},i.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})}},{171:171,24:24,27:27,30:30,80:80}],30:[function(e,t,n){"use strict";var i={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};t.exports.coerceType=function(e,t){var n=r[e];return n?n(t):t},t.exports.isBuiltIn=function(e){return!!i[e]},t.exports.isSimple=function(e){return!!r[e]}},{}],31:[function(e,t,n){t.exports={name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isAttr:!0,isReference:!0},{name:"outMessageRef",type:"Message",isAttr:!0,isReference:!0},{name:"errorRefs",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"childLaneSet",type:"LaneSet",serialize:"xsi:type"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection","default":"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate","default":!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,"default":"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",serialize:"xsi:type"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String"},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand","default":!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition"}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference","default":!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting","default":!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"inputSet",type:"InputSet"},{name:"eventDefinitionRefs",type:"EventDefinition",isMany:!0,isReference:!0},{name:"dataInputAssociation",type:"DataInputAssociation",isMany:!0},{name:"dataInputs",type:"DataInput",isMany:!0},{name:"eventDefinitions",type:"EventDefinition",isMany:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean","default":!1},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitionRefs",type:"EventDefinition",isMany:!0,isReference:!0},{name:"dataOutputAssociation",type:"DataOutputAssociation",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"eventDefinitions",type:"EventDefinition",isMany:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity","default":!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean"},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",serialize:"xsi:type"},{name:"timeCycle",type:"Expression",serialize:"xsi:type"},{name:"timeDuration",type:"Expression",serialize:"xsi:type"}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",serialize:"xsi:type"}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"transformation",type:"FormalExpression"},{name:"assignment",type:"Assignment",isMany:!0},{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"inputSetRefs",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"outputSetRefs",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0},{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",serialize:"xsi:type"},{name:"to",type:"Expression",serialize:"xsi:type"}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited","default":!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!0},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"body",type:"String",isBody:!0},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",serialize:"xsi:type"},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification"},{name:"supportedInterfaceRefs",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRefs",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum","default":0,isAttr:!0,type:"Integer"},{name:"maximum","default":1,isAttr:!0,type:"Integer"}]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType","default":"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["FlowElementsContainer","Collaboration"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",
isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isVirtual:!0,isMany:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation","default":!1,isAttr:!0,type:"Boolean"},{name:"loopCharacteristics",type:"LoopCharacteristics"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"ioSpecification",type:"InputOutputSpecification"},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity","default":1,isAttr:!0,type:"Integer"},{name:"completionQuantity","default":1,isAttr:!0,type:"Integer"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent","default":!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential","default":!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior","default":"All",isAttr:!0},{name:"loopCardinality",type:"Expression",serialize:"xsi:type"},{name:"loopDataInputRef",type:"ItemAwareElement",isAttr:!0,isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isAttr:!0,isReference:!0},{name:"inputDataItem",type:"DataInput"},{name:"outputDataItem",type:"DataOutput"},{name:"completionCondition",type:"Expression",serialize:"xsi:type"},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore","default":!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",serialize:"xsi:type"},{name:"loopMaximum",type:"Expression",serialize:"xsi:type"}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate","default":!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",serialize:"xsi:type"},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances","default":!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",serialize:"xsi:type"},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",serialize:"xsi:type"}]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage","default":"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage","default":"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],emumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],prefix:"bpmn",xml:{tagAlias:"lowerCase",typePrefix:"t"}}},{}],32:[function(e,t,n){t.exports={name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,"default":"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],emumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[],prefix:"bpmndi"}},{}],33:[function(e,t,n){t.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],34:[function(e,t,n){t.exports={name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",serialize:"xsi:type"}]},{name:"Diagram",isAbstract:!0,properties:[{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},{}],35:[function(e,t,n){t.exports=e(36)},{36:36}],36:[function(e,t,n){"use strict";function i(e){function t(e){return r.indexOf(e)>=0}function n(e){r.push(e)}function i(e){t(e)||((e.__depends__||[]).forEach(i),t(e)||(n(e),(e.__init__||[]).forEach(function(e){o.push(e)})))}var r=[],o=[];e.forEach(i);var s=new a.Injector(r);return o.forEach(function(e){try{s["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),s}function r(t){t=t||{};var n={config:["value",t]},r=e(42),o=[n,r].concat(t.modules||[]);return i(o)}function o(e,t){this.injector=t=t||r(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}var a=e(73);t.exports=o,o.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")}},{42:42,73:73}],37:[function(e,t,n){"use strict";function i(e,t){return Math.round(e*t)/t}function r(e){return l(e)?e+"px":e}function o(e){e=u({},{width:"100%",height:"100%"},e);var t=e.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),u(n.style,{position:"relative",overflow:"hidden",width:r(e.width),height:r(e.height)}),t.appendChild(n),n}function a(e,t){return e.group().attr({"class":t})}function s(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function c(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}var l=e(165),u=e(171),p=e(80),d=e(62),f=e(71),h="base";s.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],t.exports=s,s.prototype._init=function(e){var t=this._eventBus,n=o(e),i=f.createSnapAt("100%","100%",n),r=a(i,"viewport"),s=this;this._container=n,this._svg=i,this._viewport=r,this._layers={},t.on("diagram.init",function(e){t.fire("canvas.init",{svg:i,viewport:r})}),t.on("diagram.destroy",function(){var e=s._container.parentNode;e&&e.removeChild(n),t.fire("canvas.destroy",{svg:s._svg,viewport:s._viewport}),s._svg.remove(),s._svg=s._container=s._layers=s._viewport=null})},s.prototype.getDefaultLayer=function(){return this.getLayer(h)},s.prototype.getLayer=function(e){if(!e)throw new Error("must specify a name");var t=this._layers[e];return t||(t=this._layers[e]=a(this._viewport,"layer-"+e)),t},s.prototype.getContainer=function(){return this._container},s.prototype._updateMarker=function(e,t,n){var i;e.id||(e=this._elementRegistry.get(e)),i=this.getGraphics(e),i&&(i[n?"addClass":"removeClass"](t),this._eventBus.fire("element.marker.update",{element:e,gfx:i,marker:t,add:!!n}))},s.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},s.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},s.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return n&&n.hasClass(t)},s.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},s.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot"}),this._rootElement},s.prototype.setRootElement=function(e,t){var n=this._rootElement,i=this._elementRegistry;if(n){if(!t)throw new Error("rootElement already defined");i.remove(n)}return i.add(e,this.getDefaultLayer(),this._svg),this._rootElement=e,e},s.prototype._ensureValidId=function(e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element with id "+e.id+" already exists")},s.prototype._setParent=function(e,t){d.add(t.children,e),e.parent=t},s.prototype._addElement=function(e,t,n){n=n||this.getRootElement();var i=this._eventBus,r=this._graphicsFactory;this._ensureValidId(t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n);var o=r.create(e,t);return this._elementRegistry.add(t,o),r.update(e,t,o),i.fire(e+".added",{element:t,gfx:o}),t},s.prototype.addShape=function(e,t){return this._addElement("shape",e,t)},s.prototype.addConnection=function(e,t){return this._addElement("connection",e,t)},s.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;return(e=n.get(e.id||e))?(r.fire(t+".remove",{element:e}),i.remove(e),d.remove(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e):void 0},s.prototype.removeShape=function(e){return this._removeElement(e,"shape")},s.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},s.prototype.sendToFront=function(e,t){t!==!1&&(t=!0),t&&e.parent&&this.sendToFront(e.parent),p(e.children,function(e){this.sendToFront(e,!1)},this);var n=this.getGraphics(e),i=n.parent();n.remove().appendTo(i)},s.prototype.getGraphics=function(e){return this._elementRegistry.getGraphics(e)},s.prototype._fireViewboxChange=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox(!1)})},s.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,r,o,a,s=this._viewport,c=this.getSize();return e?(r=Math.min(c.width/e.width,c.height/e.height),n=(new f.Matrix).scale(r).translate(-e.x,-e.y),s.transform(n),this._fireViewboxChange(),e):(t=this.getDefaultLayer().getBBox(!0),n=s.transform().localMatrix,r=i(n.a,1e3),o=i(-n.e||0,1e3),a=i(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/r:0,y:a?a/r:0,width:c.width/r,height:c.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:c})},s.prototype.scroll=function(e){var t=this._viewport.node,n=t.getCTM();return e&&(e=u({dx:0,dy:0},e||{}),n=this._svg.node.createSVGMatrix().translate(e.dx,e.dy).multiply(n),c(t,n),this._fireViewboxChange()),{x:n.e,y:n.f}},s.prototype.zoom=function(e,t){if("fit-viewport"===e)return this._fitViewport(t);var n=this.viewbox();if(void 0===e)return n.scale;var r=n.outer;"auto"===t&&(t={x:r.width/2,y:r.height/2});var o=this._setZoom(e,t);return this._fireViewboxChange(),i(o.a,1e3)},s.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,o=i.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=r.width&&o.y+o.height<=r.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,r.width),height:Math.max(o.height+o.y,r.height)}:(t=Math.min(1,r.width/o.width,r.height/o.height),n={x:o.x+(e?o.width/2-r.width/t/2:0),y:o.y+(e?o.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox().scale},s.prototype._setZoom=function(e,t){var n,i,r,o,a,s=this._svg.node,l=this._viewport.node,p=s.createSVGMatrix(),d=s.createSVGPoint();r=l.getCTM();var f=r.a;return t?(n=u(d,t),i=n.matrixTransform(r.inverse()),o=p.translate(i.x,i.y).scale(1/f*e).translate(-i.x,-i.y),a=r.multiply(o)):a=p.scale(e),c(this._viewport.node,a),a},s.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},s.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();if(e.waypoints){var i=this.getGraphics(e),r=i.getBBox(!0);t=i.getBBox(),t.x-=r.x,t.y-=r.y,t.width+=2*r.x,t.height+=2*r.y}else t=e;var o=t.x*n.scale-n.x*n.scale,a=t.y*n.scale-n.y*n.scale,s=t.width*n.scale,c=t.height*n.scale;return{x:o,y:a,width:s,height:c}}},{165:165,171:171,62:62,71:71,80:80}],38:[function(e,t,n){"use strict";function i(){this._uid=12}var r=e(56);t.exports=i,i.prototype.createRoot=function(e){return this.create("root",e)},i.prototype.createLabel=function(e){return this.create("label",e)},i.prototype.createShape=function(e){return this.create("shape",e)},i.prototype.createConnection=function(e){return this.create("connection",e)},i.prototype.create=function(e,t){return t=t||{},t.id||(t.id=e+"_"+this._uid++),r.create(e,t)}},{56:56}],39:[function(e,t,n){"use strict";function i(){this._elements={}}var r="data-element-id";t.exports=i,i.prototype.add=function(e,t,n){var i=e.id;if(!i)throw new Error("element must have an id");if(this._elements[i])throw new Error("element with id "+i+" already added");t.attr(r,i),n&&n.attr(r,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},i.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(i.gfx.attr(r,null),i.secondaryGfx&&i.secondaryGfx.attr(r,null),delete t[n])},i.prototype.get=function(e){var t;t="string"==typeof e?e:e&&e.attr(r);var n=this._elements[t];return n&&n.element},i.prototype.filter=function(e){var t=this._elements,n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=r.element,a=r.gfx;e(o,a)&&n.push(o)}),n},i.prototype.getGraphics=function(e){var t=e.id||e,n=this._elements[t];return n&&n.gfx}},{}],40:[function(e,t,n){"use strict";function i(){}function r(){this._listeners={};var e=this;this.on("diagram.destroy",1,function(){e._listeners=null})}var o=e(163),a=e(162),s=e(165),c=e(171),l=1e3;i.prototype={stopPropagation:function(){this.propagationStopped=!0},preventDefault:function(){this.defaultPrevented=!0},init:function(e){c(this,e||{})}},t.exports=r,t.exports.Event=i,r.prototype.on=function(e,t,n){if(e=a(e)?e:[e],o(t)&&(n=t,t=l),!s(t))throw new Error("priority must be a number");var i=this,r={priority:t,callback:n};e.forEach(function(e){i._addListener(e,r)})},r.prototype.once=function(e,t){function n(){t.apply(i,arguments),i.off(e,n)}var i=this;this.on(e,n)},r.prototype.off=function(e,t){var n,i,r=this._getListeners(e);if(t)for(i=r.length-1;n=r[i];i--)n.callback===t&&r.splice(i,1);else r.length=0},r.prototype.fire=function(e,t){var n,r,o,a,s,c;if(c=Array.prototype.slice.call(arguments),"string"==typeof e?c.shift():(n=e,e=n.type),!e)throw new Error("no event type specified");if(o=this._listeners[e],!o)return!0;t instanceof i?n=t:(n=Object.create(i.prototype),n.init(t)),c[0]=n,r=n.type;try{for(e!==r&&(n.type=e),a=0,s;(s=o[a])&&!n.propagationStopped;a++)try{s.callback.apply(null,c)===!1&&n.preventDefault()}catch(l){if(!this.handleError(l))throw console.error("unhandled error in event listener"),console.error(l.stack),l}}finally{e!==r&&(n.type=r)}return n.defaultPrevented?!1:n.propagationStopped?null:!0},r.prototype.handleError=function(e){return!this.fire("error",{error:e})},r.prototype._addListener=function(e,t){var n,i,r=this._getListeners(e);for(n=0;i=r[n];n++)if(i.priority<t.priority)return void r.splice(n,0,t);r.push(t)},r.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}},{162:162,163:163,165:165,171:171}],41:[function(e,t,n){"use strict";function i(e,t){this._renderer=e,this._elementRegistry=t}var r=e(80),o=e(84),a=e(66),s=e(182);i.$inject=["renderer","elementRegistry"],t.exports=i,i.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=a.getChildren(n),t||(t=n.parent().group().attr("class","djs-children"))):t=n,t},i.prototype._clear=function(e){var t=a.getVisual(e);return s(t.node),t},i.prototype._createContainer=function(e,t){var n=t.group().attr("class","djs-group"),i=n.group().attr("class","djs-element djs-"+e);return i.group().attr("class","djs-visual"),i},i.prototype.create=function(e,t){var n=this._getChildren(t.parent);return this._createContainer(e,n)},i.prototype.updateContainments=function(e){var t,n=this,i=this._elementRegistry;t=o(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{}),r(t,function(e){var t=n._getChildren(e),o=e.children;o&&r(o.slice().reverse(),function(e){var n=i.getGraphics(e);n.parent().prependTo(t)})})},i.prototype.update=function(e,t,n){var i=this._clear(n);if("shape"===e)this._renderer.drawShape(i,t),n.translate(t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this._renderer.drawConnection(i,t)}n.attr("display",t.hidden?"none":"block")},i.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);t.parent().remove()}},{182:182,66:66,80:80,84:84}],42:[function(e,t,n){t.exports={__depends__:[e(45)],__init__:["canvas"],canvas:["type",e(37)],elementRegistry:["type",e(39)],elementFactory:["type",e(38)],eventBus:["type",e(40)],graphicsFactory:["type",e(41)]}},{37:37,38:38,39:39,40:40,41:41,45:45}],43:[function(e,t,n){"use strict";function i(e){this.CONNECTION_STYLE=e.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=e.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}function r(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}function o(e,t){return s.create("polyline",{points:r(e)}).attr(t||{})}function a(e,t){return e.attr({points:r(t)})}var s=e(71);t.exports=i,i.$inject=["styles"],i.prototype.drawShape=function(e,t){return e.rect(0,0,t.width||0,t.height||0,10,10).attr(this.SHAPE_STYLE)},i.prototype.drawConnection=function(e,t){return o(t.waypoints,this.CONNECTION_STYLE).appendTo(e)},t.exports.createLine=o,t.exports.updateLine=a},{71:71}],44:[function(e,t,n){"use strict";function i(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}};this.cls=function(e,t,n){var i=this.style(t,n);return o(i,{"class":e})},this.style=function(t,n){r(t)||n||(n=t,t=[]);var i=a(t,function(t,n){return o(t,e[n]||{})},{});return n?o(i,n):i}}var r=e(162),o=e(171),a=e(84);t.exports=i},{162:162,171:171,84:84}],45:[function(e,t,n){t.exports={renderer:["type",e(43)],styles:["type",e(44)]}},{43:43,44:44}],46:[function(e,t,n){"use strict";function i(e,t,n){function i(n,i){var r,o=i.delegateTarget||i.target,a=o&&new l(o),s=t.get(a);a&&s&&(r=!e.fire(n,{element:s,gfx:a,originalEvent:i}),r&&i.preventDefault())}function a(e){var t=m[e];return t||(t=m[e]=function(t){t.button||i(e,t)}),t}function u(e,t,n){var i=a(n);i.$delegate=o.bind(e,v,t,i)}function p(e,t,n){o.unbind(e,t,a(n).$delegate)}function d(e){r(g,function(t,n){u(e.node,n,t)})}function f(e){r(g,function(t,n){p(e.node,n,t)})}var h=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),m={},g={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup"},v="svg, .djs-element";e.on("canvas.destroy",function(e){f(e.svg)}),e.on("canvas.init",function(e){d(e.svg)}),e.on(["shape.added","connection.added"],function(e){var t,n,i=e.element,r=e.gfx;i.waypoints?(t=s(i.waypoints),n="connection"):(t=l.create("rect",{x:0,y:0,width:i.width,height:i.height}),n="shape"),t.attr(h).appendTo(r.node)}),e.on("shape.changed",function(e){var t=e.element,n=e.gfx,i=n.select(".djs-hit");i.attr({width:t.width,height:t.height})}),e.on("connection.changed",function(e){var t=e.element,n=e.gfx,i=n.select(".djs-hit");c(i,t.waypoints)}),this.fire=i,this.mouseHandler=a,this.registerEvent=u,this.unregisterEvent=p}var r=e(80),o=e(183),a=e(43),s=a.createLine,c=a.updateLine,l=e(71);i.$inject=["eventBus","elementRegistry","styles"],t.exports=i},{183:183,43:43,71:71,80:80}],47:[function(e,t,n){t.exports={__init__:["interactionEvents"],interactionEvents:["type",e(46)]}},{46:46}],48:[function(e,t,n){"use strict";function i(e,t,n){function i(e,t){return r.create("rect",l).prependTo(e)}function a(e,t){e.attr({x:-c,y:-c,width:t.width+2*c,height:t.height+2*c})}function s(e,t){var n=o(t);e.attr({x:n.x-c,y:n.y-c,width:n.width+2*c,height:n.height+2*c})}var c=6,l=t.cls("djs-outline",["no-fill"]);e.on(["shape.added","shape.changed"],function(e){var t=e.element,n=e.gfx,r=n.select(".djs-outline");r||(r=i(n,t)),a(r,t)}),e.on(["connection.added","connection.changed"],function(e){var t=e.element,n=e.gfx,r=n.select(".djs-outline");r||(r=i(n,t)),s(r,t)})}var r=e(71),o=e(64).getBBox;i.$inject=["eventBus","styles","elementRegistry"],t.exports=i},{64:64,71:71}],49:[function(e,t,n){"use strict";t.exports={__init__:["outline"],outline:["type",e(48)]}},{48:48}],50:[function(e,t,n){"use strict";function i(e){var t=h('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(t,e.firstChild),t}function r(e,t,n){u(e.style,{left:t+"px",top:n+"px"})}function o(e,t){e.style.display=t===!1?"none":""}function a(e,t,n,r){this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=y,this._overlayDefaults={show:{trigger:"automatic",minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers={},this._overlayRoot=i(n.getContainer()),this._init(e)}var s=e(162),c=e(168),l=e(166),u=e(171),p=e(80),d=e(78),f=e(87),h=e(184),m=e(181),g=e(187),v=e(64).getBBox,y=new(e(67))("ov");a.$inject=["config.overlays","eventBus","canvas","elementRegistry"],t.exports=a,a.prototype.get=function(e){if(c(e)&&(e={id:e}),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?d(t.overlays,{type:e.type}):t.overlays.slice():[]}return e.type?d(this._overlays,{type:e.type}):e.id?this._overlays[e.id]:null},a.prototype.add=function(e,t,n){if(l(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=u({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},a.prototype.remove=function(e){var t=this.get(e)||[];s(t)||(t=[t]);var n=this;p(t,function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(g(e.html),g(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}})},a.prototype.show=function(){o(this._overlayRoot)},a.prototype.hide=function(){o(this._overlayRoot,!1)},a.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,o=t.y;if(t.waypoints){var a=v(t);i=a.x,o=a.y}r(n,i,o)},a.prototype._updateOverlay=function(e){var t=e.position,n=e.htmlContainer,i=e.element,o=t.left,a=t.top;if(void 0!==t.right){var s;s=i.waypoints?v(i).width:i.width,o=-1*t.right+s}if(void 0!==t.bottom){var c;c=i.waypoints?v(i).height:i.height,a=-1*t.bottom+c}r(n,o||0,a||0)},a.prototype._createOverlayContainer=function(e){var t=h('<div class="djs-overlays djs-overlays-'+e.id+'" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),n},a.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._overlayRoot.style.transform=i,this._overlayRoot.style["-ms-transform"]=i},a.prototype._getOverlayContainer=function(e,t){var n=e&&e.id||e,i=this._overlayContainers[n];return i||t||(i=this._overlayContainers[n]=this._createOverlayContainer(e)),i},a.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html;o.get&&(o=o.get(0)),c(o)&&(o=h(o)),n=this._getOverlayContainer(r),t=h('<div id="'+i+'" class="djs-overlay" style="position: absolute">'),t.appendChild(o),e.type&&m(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e)},a.prototype._updateOverlayVisibilty=function(e){p(this._overlays,function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),o(i,r))})},a.prototype._init=function(e){var t=this._eventBus,n=this,i=function(e){n._updateRoot(e),n._updateOverlayVisibilty(e),n.show()};e&&e.deferUpdate===!1||(i=f(i,300)),t.on("canvas.viewbox.changed",function(e){n.hide(),i(e.viewbox)}),t.on(["shape.remove","connection.remove"],function(e){var t=n.get({element:e.element});p(t,function(e){n.remove(e.id)})}),t.on(["element.changed"],function(e){var t=e.element,i=n._getOverlayContainer(t,!0);i&&(p(i.overlays,function(e){n._updateOverlay(e)}),n._updateOverlayContainer(i))}),t.on("element.marker.update",function(e){var t=n._getOverlayContainer(e.element,!0);t&&m(t.html)[e.add?"add":"remove"](e.marker)})}},{162:162,166:166,168:168,171:171,181:181,184:184,187:187,64:64,67:67,78:78,80:80,87:87}],51:[function(e,t,n){"use strict";t.exports={__init__:["overlays"],overlays:["type",e(50)]}},{50:50}],52:[function(e,t,n){"use strict";function i(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],function(e){var n=e.element;t.deselect(n)})}var r=e(162),o=e(80);i.$inject=["eventBus"],t.exports=i,i.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{
oldSelection:i,newSelection:t})}},i.prototype.get=function(){return this._selectedElements},i.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},i.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();r(e)||(e=e?[e]:[]),t?o(e,function(e){-1===n.indexOf(e)&&n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})}},{162:162,80:80}],53:[function(e,t,n){"use strict";function i(e,t,n){e.on("create.end",500,function(e){e.context.canExecute&&t.select(e.shape)}),e.on("connect.end",500,function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)}),e.on("shape.move.end",500,function(e){t.select(e.context.shapes)}),e.on("element.click",function(e){var i=e.element;if(i===n.getRootElement()&&(i=null),t.isSelected(i))t.deselect(i);else{var o=r(e)||e,a=o.shiftKey;o.altKey||t.select(i,a)}})}var r=e(65).getOriginal;i.$inject=["eventBus","selection","canvas"],t.exports=i},{65:65}],54:[function(e,t,n){"use strict";function i(e,t,n,i,s){function c(e,n){t.addMarker(e,n)}function l(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",function(e){c(e.element,o)}),e.on("element.out",function(e){l(e.element,o)}),e.on("selection.changed",function(e){function t(e){l(e,a)}function n(e){c(e,a)}var i=e.oldSelection,o=e.newSelection;r(i,function(e){-1===o.indexOf(e)&&t(e)}),r(o,function(e){-1===i.indexOf(e)&&n(e)})})}var r=e(80),o="hover",a="selected";i.$inject=["eventBus","canvas","selection","graphicsFactory","styles"],t.exports=i},{80:80}],55:[function(e,t,n){t.exports={__init__:["selectionVisuals","selectionBehavior"],__depends__:[e(47),e(49)],selection:["type",e(52)],selectionVisuals:["type",e(54)],selectionBehavior:["type",e(53)]}},{47:47,49:49,52:52,53:53,54:54}],56:[function(e,t,n){"use strict";function i(){Object.defineProperty(this,"businessObject",{writable:!0}),u.bind(this,"parent"),p.bind(this,"label"),d.bind(this,"outgoing"),f.bind(this,"incoming")}function r(){i.call(this),u.bind(this,"children")}function o(){r.call(this)}function a(){r.call(this),p.bind(this,"labelTarget")}function s(){i.call(this),d.bind(this,"source"),f.bind(this,"target")}var c=e(171),l=e(196),u=new l({name:"children",enumerable:!0,collection:!0},{name:"parent"}),p=new l({name:"label",enumerable:!0},{name:"labelTarget"}),d=new l({name:"outgoing",collection:!0},{name:"source"}),f=new l({name:"incoming",collection:!0},{name:"target"});r.prototype=Object.create(i.prototype),o.prototype=Object.create(r.prototype),a.prototype=Object.create(r.prototype),s.prototype=Object.create(i.prototype);var h={connection:s,shape:r,label:a,root:o};t.exports.create=function(e,t){var n=h[e];if(!n)throw new Error("unknown type: <"+e+">");return c(new n,t)},t.exports.Base=i,t.exports.Root=o,t.exports.Shape=r,t.exports.Connection=s,t.exports.Label=a},{171:171,196:196}],57:[function(e,t,n){"use strict";function i(e,t){return{x:e.x-t.x,y:e.y-t.y}}function r(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function o(e,t){function n(e){var n=d.start,o=l.toPoint(e),c=i(o,n);if(!d.dragging&&r(c)>u&&(d.dragging=!0,s.install(),a.set("move")),d.dragging){var p=d.last||d.start;c=i(o,p),t.scroll({dx:c.x,dy:c.y}),d.last=o}e.preventDefault()}function o(e){c.unbind(document,"mousemove",n),c.unbind(document,"mouseup",o),d=null,a.unset(),l.stopEvent(e)}function p(e){e.button||e.altKey||(d={start:l.toPoint(e)},c.bind(document,"mousemove",n),c.bind(document,"mouseup",o),l.stopEvent(e))}var d,f=t._container;c.bind(f,"mousedown",p)}var a=e(63),s=e(61),c=e(185),l=e(65),u=15;o.$inject=["eventBus","canvas"],t.exports=o},{185:185,61:61,63:63,65:65}],58:[function(e,t,n){t.exports={__init__:["moveCanvas"],moveCanvas:["type",e(57)]}},{57:57}],59:[function(e,t,n){"use strict";function i(e,t){function n(e){return Math.max(s.min,Math.min(s.max,e))}function i(){t.zoom("fit-viewport")}function o(e,i){var r=t.zoom(),o=Math.pow(1+Math.abs(e/c),e>0?1:-1);t.zoom(n(r*o),i)}function a(e){r.bind(e,"wheel",function(e){var n=0===e.deltaMode?.025:.5,i=e.shiftKey,r=e.ctrlKey,a=e.deltaX*n,s=e.deltaY*n;if(i||r){var c={};r?c.dx=l*(a||s):c.dy=l*(a||s),t.scroll(c)}else{var u={};u=isNaN(e.offsetX)?{x:e.layerX,y:e.layerY}:{x:e.offsetX,y:e.offsetY},o(-1*s,u)}e.preventDefault()})}var s={min:.2,max:4},c=5,l=50;e.on("canvas.init",function(e){a(e.svg.node)}),this.zoom=o,this.reset=i}var r=e(185);i.$inject=["eventBus","canvas"],t.exports=i},{185:185}],60:[function(e,t,n){t.exports={__init__:["zoomScroll"],zoomScroll:["type",e(59)]}},{59:59}],61:[function(e,t,n){"use strict";function i(e){s(e),r(!1)}function r(e){a[e?"bind":"unbind"](document.body,"click",i,!0)}function o(){return r(!0),function(){r(!1)}}var a=e(185),s=e(65).stopEvent;t.exports.install=o},{185:185,65:65}],62:[function(e,t,n){"use strict";t.exports.remove=function(e,t){if(e&&t){var n=e.indexOf(t);if(-1!==n)return e.splice(n,1),t}},t.exports.add=function(e,t,n){if(e&&t){isNaN(n)&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}},t.exports.indexOf=function(e,t){return e&&t?e.indexOf(t):-1}},{}],63:[function(e,t,n){"use strict";var i=e(181),r=/^djs-cursor-.*$/;t.exports.set=function(e){var t=i(document.body);t.removeMatching(r),e&&t.add("djs-cursor-"+e)},t.exports.unset=function(){this.set(null)}},{181:181}],64:[function(e,t,n){"use strict";function i(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function r(e,t,n){n=n||0,h(e,function(e,i){var o=t(e,i,n);p(o)&&o.length&&r(o,t,n+1)})}function o(e,t,n){var o=[],a=[];return r(e,function(e,r,s){i(o,e,t);var c=e.children;return(-1===n||n>s)&&c&&i(a,c,t)?c:void 0}),o}function a(e,t){return o(e,!t,1)}function s(e,t){return o(e,!t,-1)}function c(e){function t(e){i[e.source.id]&&i[e.target.id]&&(i[e.id]=e),o[e.source.id]&&o[e.target.id]&&(c[e.id]=s[e.id]=e),a[e.id]=e}function n(e){return s[e.id]=e,e.waypoints?void(c[e.id]=a[e.id]=e):(o[e.id]=e,h(e.incoming,t),h(e.outgoing,t),e.children)}var i=f(e,function(e){return e.id}),o={},a={},s={},c={};return r(e,n),{allShapes:o,allConnections:a,topLevel:i,enclosedConnections:c,enclosedElements:s}}function l(e,t){t=!!t,p(e)||(e=[e]);var n,i,r,o;return h(e,function(e){var a=e;e.waypoints&&!t&&(a=l(e.waypoints,!0));var s=a.x,c=a.y,u=a.height||0,p=a.width||0;(n>s||void 0===n)&&(n=s),(i>c||void 0===i)&&(i=c),(s+p>r||void 0===r)&&(r=s+p),(c+u>o||void 0===o)&&(o=c+u)}),{x:n,y:i,height:o-i,width:r-n}}function u(e,t){var n={};return h(e,function(e){var i=e;i.waypoints&&(i=l(i)),!d(t.y)&&i.x>t.x&&(n[e.id]=e),!d(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(d(t.width)&&d(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:d(t.width)&&d(t.height)||(n[e.id]=e))}),n}var p=e(162),d=e(165),f=e(81),h=e(80);t.exports.eachElement=r,t.exports.selfAndDirectChildren=a,t.exports.selfAndAllChildren=s,t.exports.getBBox=l,t.exports.getEnclosedElements=u,t.exports.getClosure=c},{162:162,165:165,80:80,81:81}],65:[function(e,t,n){"use strict";function i(e){return e&&e.preventDefault()}function r(e,t){e&&(e.stopPropagation&&e.stopPropagation(),t&&e.stopImmediatePropagation&&e.stopImmediatePropagation())}function o(e){return e.originalEvent||e.srcEvent}function a(e,t){c(e,t),s(e)}function s(e){i(e),i(o(e))}function c(e,t){r(e,t),r(o(e),t)}function l(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}t.exports.getOriginal=o,t.exports.stopEvent=a,t.exports.preventDefault=s,t.exports.stopPropagation=c,t.exports.toPoint=l},{}],66:[function(e,t,n){"use strict";function i(e){return e.select(".djs-visual")}function r(e){return e.parent().children()[1]}function o(e){return i(e).select("*").getBBox()}t.exports.getVisual=i,t.exports.getChildren=r,t.exports.getBBox=o},{}],67:[function(e,t,n){"use strict";function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}t.exports=i,i.prototype.next=function(){return this._prefix+ ++this._counter}},{}],68:[function(e,t,n){"use strict";function i(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function r(e){return a(e)?s({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function o(e){this._config=s({},{size:f,padding:d,style:{},align:"center-top"},e||{})}var a=e(166),s=e(171),c=e(80),l=e(84),u=e(174),p=e(71),d=0,f={width:150,height:50};o.prototype.createText=function(e,t,n){function o(e){function t(){if(s.length<a.length){var t=e[0]||"",n=a.slice(s.length);t=/-\s*$/.test(n)?n.replace(/-\s*$/,"")+t.replace(/^\s+/,""):n+" "+t,e[0]=t}return{width:o.width,height:o.height,text:s}}function n(e){return v.textContent=e,v.getBBox()}function i(e,t){var n,i=e.split(/(\s|-)/g),r=[],o=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+o<t)){"-"===n&&r.pop();break}r.push(n),o+=n.length}return r.join("")}function r(e,t,n){var r=e.length*(n/t),o=i(e,r);return o||(o=e.slice(0,Math.floor(r-1))),o}for(var o,a=e.shift(),s=a;;){if(o=n(s),o.width<g)return t();s=r(s,o.width,g)}}var a=u({},this._config.size,n.box||{}),s=u({},this._config.style,n.style||{}),d=i(n.align||this._config.align),f=r(void 0!==n.padding?n.padding:this._config.padding),h=t.split(/\r?\n/g),m=[],g=a.width-f.left-f.right,v=e.text(0,0,"").attr(s).node;for(v.ownerSVGElement.appendChild(v);h.length;)m.push(o(h));var y,b,w=l(m,function(e,t,n){return e+t.height},0);switch(d.vertical){case"middle":y=(a.height-w)/2-m[0].height/4;break;default:y=f.top}var x=e.text().attr(s);return c(m,function(e){switch(y+=e.height,d.horizontal){case"left":b=f.left;break;case"right":b=g-f.right-e.width;break;default:b=(g-e.width)/2+f.left}var t=p.create("tspan",{x:b,y:y}).node;t.textContent=e.text,x.append(t)}),v.parentNode.removeChild(v),x},t.exports=o},{166:166,171:171,174:174,71:71,80:80,84:84}],69:[function(t,n,i){!function(t){var i,r,o="0.4.2",a="hasOwnProperty",s=/[\.\/]/,c=/\s*,\s*/,l="*",u=function(e,t){return e-t},p={n:{}},d=function(){for(var e=0,t=this.length;t>e;e++)if("undefined"!=typeof this[e])return this[e]},f=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},h=function(e,t){e=String(e);var n,o=r,a=Array.prototype.slice.call(arguments,2),s=h.listeners(e),c=0,l=[],p={},m=[],g=i;m.firstDefined=d,m.lastDefined=f,i=e,r=0;for(var v=0,y=s.length;y>v;v++)"zIndex"in s[v]&&(l.push(s[v].zIndex),s[v].zIndex<0&&(p[s[v].zIndex]=s[v]));for(l.sort(u);l[c]<0;)if(n=p[l[c++]],m.push(n.apply(t,a)),r)return r=o,m;for(v=0;y>v;v++)if(n=s[v],"zIndex"in n)if(n.zIndex==l[c]){if(m.push(n.apply(t,a)),r)break;do if(c++,n=p[l[c]],n&&m.push(n.apply(t,a)),r)break;while(n)}else p[n.zIndex]=n;else if(m.push(n.apply(t,a)),r)break;return r=o,i=g,m};h._events=p,h.listeners=function(e){var t,n,i,r,o,a,c,u,d=e.split(s),f=p,h=[f],m=[];for(r=0,o=d.length;o>r;r++){for(u=[],a=0,c=h.length;c>a;a++)for(f=h[a].n,n=[f[d[r]],f[l]],i=2;i--;)t=n[i],t&&(u.push(t),m=m.concat(t.f||[]));h=u}return m},h.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(c),i=0,r=n.length;r>i;i++)!function(e){for(var n,i=e.split(s),r=p,o=0,a=i.length;a>o;o++)r=r.n,r=r.hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,a=r.f.length;a>o;o++)if(r.f[o]==t){n=!0;break}!n&&r.f.push(t)}(n[i]);return function(e){+e==+e&&(t.zIndex=+e)}},h.f=function(e){var t=[].slice.call(arguments,1);return function(){h.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},h.stop=function(){r=1},h.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(i):i},h.nts=function(){return i.split(s)},h.off=h.unbind=function(e,t){if(!e)return void(h._events=p={n:{}});var n=e.split(c);if(n.length>1)for(var i=0,r=n.length;r>i;i++)h.off(n[i],t);else{n=e.split(s);var o,u,d,i,r,f,m,g=[p];for(i=0,r=n.length;r>i;i++)for(f=0;f<g.length;f+=d.length-2){if(d=[f,1],o=g[f].n,n[i]!=l)o[n[i]]&&d.push(o[n[i]]);else for(u in o)o[a](u)&&d.push(o[u]);g.splice.apply(g,d)}for(i=0,r=g.length;r>i;i++)for(o=g[i];o.n;){if(t){if(o.f){for(f=0,m=o.f.length;m>f;f++)if(o.f[f]==t){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[a](u)&&o.n[u].f){var v=o.n[u].f;for(f=0,m=v.length;m>f;f++)if(v[f]==t){v.splice(f,1);break}!v.length&&delete o.n[u].f}}else{delete o.f;for(u in o.n)o.n[a](u)&&o.n[u].f&&delete o.n[u].f}o=o.n}}},h.once=function(e,t){var n=function(){return h.unbind(e,n),t.apply(this,arguments)};return h.on(e,n)},h.version=o,h.toString=function(){return"You are running Eve "+o},"undefined"!=typeof n&&n.exports?n.exports=h:"function"==typeof e&&e.amd?e("eve",[],function(){return h}):t.eve=h}(this)},{}],70:[function(t,n,i){!function(r,o){if("function"==typeof e&&e.amd)e(["eve"],function(e){return o(r,e)});else if("undefined"!=typeof i){var a=t(69);n.exports=o(r,a)}else o(r,r.eve)}(window||this,function(e,t){var n=function(t){var n={},i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},r=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},o=0,a="M"+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},c=Date.now||function(){return+new Date},l=function(e){var t=this;if(null==e)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},u=function(e){var t=this;return null==e?t.spd:void(t.spd=e)},p=function(e){var t=this;return null==e?t.dur:(t.s=t.s*e/t.dur,void(t.dur=e))},d=function(){var e=this;delete n[e.id],e.update(),t("mina.stop."+e.id,e)},f=function(){var e=this;e.pdif||(delete n[e.id],e.update(),e.pdif=e.get()-e.b)},h=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e)},m=function(){var e,t=this;if(r(t.start)){e=[];for(var n=0,i=t.start.length;i>n;n++)e[n]=+t.start[n]+(t.end[n]-t.start[n])*t.easing(t.s)}else e=+t.start+(t.end-t.start)*t.easing(t.s);t.set(e)},g=function(){var e=0;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r],a=o.get();e++,o.s=(a-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[r],o.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(o)),o.update()}e&&i(g)},v=function(e,t,r,o,a,c,y){var b={id:s(),start:e,end:t,b:r,s:0,dur:o-r,spd:1,get:a,set:c,easing:y||v.linear,status:l,speed:u,duration:p,stop:d,pause:f,resume:h,update:m};n[b.id]=b;var w,x=0;for(w in n)if(n.hasOwnProperty(w)&&(x++,2==x))break;return 1==x&&i(g),b};return v.time=c,v.getById=function(e){return n[e]||null},v.linear=function(e){return e},v.easeout=function(e){return Math.pow(e,1.7)},v.easein=function(e){return Math.pow(e,.48)},v.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),i=n-t,r=Math.pow(Math.abs(i),1/3)*(0>i?-1:1),o=-n-t,a=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),s=r+a+.5;return 3*(1-s)*s*s+s*s*s},v.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},v.backout=function(e){if(0==e)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},v.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1},v.bounce=function(e){var t,n=7.5625,i=2.75;return 1/i>e?t=n*e*e:2/i>e?(e-=1.5/i,t=n*e*e+.75):2.5/i>e?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t},e.mina=v,v}("undefined"==typeof t?function(){}:t),i=function(e){function n(e,t){if(e){if(e.tagName)return _(e);if(r(e,"array")&&n.set)return n.set.apply(n,e);if(e instanceof y)return e;if(null==t)return e=E.doc.querySelector(e),_(e)}return e=null==e?"100%":e,t=null==t?"100%":t,new x(e,t)}function i(e,t){if(t){if("#text"==e&&(e=E.doc.createTextNode(t.text||"")),"string"==typeof e&&(e=i(e)),"string"==typeof t)return"xlink:"==t.substring(0,6)?e.getAttributeNS(z,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(Y,t.substring(4)):e.getAttribute(t);for(var n in t)if(t[C](n)){var r=T(t[n]);r?"xlink:"==n.substring(0,6)?e.setAttributeNS(z,n.substring(6),r):"xml:"==n.substring(0,4)?e.setAttributeNS(Y,n.substring(4),r):e.setAttribute(n,r):e.removeAttribute(n)}}else e=E.doc.createElementNS(Y,e);return e}function r(e,t){return t=T.prototype.toLowerCase.call(t),"finite"==t?isFinite(e):"array"==t&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||O.call(e).slice(8,-1).toLowerCase()==t}function o(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[C](n)&&(t[n]=o(e[n]));return t}function a(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function s(e,t,n){function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),s=i.cache=i.cache||{},c=i.count=i.count||[];return s[C](o)?(a(c,o),n?n(s[o]):s[o]):(c.length>=1e3&&delete s[c.shift()],c.push(o),s[o]=e.apply(t,r),n?n(s[o]):s[o])}return i}function c(e,t,n,i,r,o){if(null==r){var a=e-n,s=t-i;return a||s?(180+180*k.atan2(-s,-a)/P+360)%360:0}return c(e,t,r,o)-c(n,i,r,o)}function l(e){return e%360*P/180}function u(e){return 180*e/P%360}function p(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,i){return i=i.split(/\s*,\s*|\s+/),"rotate"==n&&1==i.length&&i.push(0,0),"scale"==n&&(i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0),1==i.length&&i.push(i[0],0,0)),"skewX"==n?t.push(["m",1,0,k.tan(l(i[0])),1,0,0]):"skewY"==n?t.push(["m",1,k.tan(l(i[0])),0,1,0,0]):t.push([n.charAt(0)].concat(i)),e}),t}function d(e,t){var i=J(e),r=new n.Matrix;if(i)for(var o=0,a=i.length;a>o;o++){var s,c,l,u,p,d=i[o],f=d.length,h=T(d[0]).toLowerCase(),m=d[0]!=h,g=m?r.invert():0;"t"==h&&2==f?r.translate(d[1],0):"t"==h&&3==f?m?(s=g.x(0,0),c=g.y(0,0),l=g.x(d[1],d[2]),u=g.y(d[1],d[2]),r.translate(l-s,u-c)):r.translate(d[1],d[2]):"r"==h?2==f?(p=p||t,r.rotate(d[1],p.x+p.width/2,p.y+p.height/2)):4==f&&(m?(l=g.x(d[2],d[3]),u=g.y(d[2],d[3]),r.rotate(d[1],l,u)):r.rotate(d[1],d[2],d[3])):"s"==h?2==f||3==f?(p=p||t,r.scale(d[1],d[f-1],p.x+p.width/2,p.y+p.height/2)):4==f?m?(l=g.x(d[2],d[3]),u=g.y(d[2],d[3]),r.scale(d[1],d[1],l,u)):r.scale(d[1],d[1],d[2],d[3]):5==f&&(m?(l=g.x(d[3],d[4]),u=g.y(d[3],d[4]),r.scale(d[1],d[2],l,u)):r.scale(d[1],d[2],d[3],d[4])):"m"==h&&7==f&&r.add(d[1],d[2],d[3],d[4],d[5],d[6])}return r}function f(e){var t=e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||e.node.parentNode&&_(e.node.parentNode)||n.select("svg")||n(0,0),i=t.select("defs"),r=null==i?!1:i.node;return r||(r=w("defs",t.node).node),r}function h(e){return e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||n.select("svg")}function m(e,t,n){function r(e){if(null==e)return R;if(e==+e)return e;i(l,{width:e});try{return l.getBBox().width}catch(t){return 0}}function o(e){if(null==e)return R;if(e==+e)return e;i(l,{height:e});try{return l.getBBox().height}catch(t){return 0}}function a(i,r){null==t?c[i]=r(e.attr(i)||0):i==t&&(c=r(null==n?e.attr(i)||0:n))}var s=h(e).node,c={},l=s.querySelector(".svg---mgr");switch(l||(l=i("rect"),i(l,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),s.appendChild(l)),e.type){case"rect":a("rx",r),a("ry",o);case"image":a("width",r),a("height",o);case"text":a("x",r),a("y",o);break;case"circle":a("cx",r),a("cy",o),a("r",r);break;case"ellipse":a("cx",r),a("cy",o),a("rx",r),a("ry",o);break;case"line":a("x1",r),a("x2",r),a("y1",o),a("y2",o);break;case"marker":a("refX",r),a("markerWidth",r),a("refY",o),a("markerHeight",o);break;case"radialGradient":a("fx",r),a("fy",o);break;case"tspan":a("dx",r),a("dy",o);break;default:a(t,r)}return s.removeChild(l),c}function v(e){r(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,n=0,i=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){i.appendChild(e.node)}):i.appendChild(e[t].node);var o=i.childNodes;for(t=0;t<o.length;t++)this[n++]=_(o[t]);return this}function y(e){if(e.snap in G)return G[e.snap];var t;try{t=e.ownerSVGElement}catch(n){}this.node=e,t&&(this.paper=new x(t)),this.type=e.tagName;var i=this.id=q(this);if(this.anims={},this._={transform:[]},e.snap=i,G[i]=this,"g"==this.type&&(this.add=v),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in x.prototype)x.prototype[C](r)&&(this[r]=x.prototype[r])}function b(e){this.node=e}function w(e,t){var n=i(e);t.appendChild(n);var r=_(n);return r}function x(e,t){var n,r,o,a=x.prototype;if(e&&"svg"==e.tagName){if(e.snap in G)return G[e.snap];var s=e.ownerDocument;n=new y(e),r=e.getElementsByTagName("desc")[0],o=e.getElementsByTagName("defs")[0],r||(r=i("desc"),r.appendChild(s.createTextNode("Created with Snap")),n.node.appendChild(r)),o||(o=i("defs"),n.node.appendChild(o)),n.defs=o;for(var c in a)a[C](c)&&(n[c]=a[c]);n.paper=n.root=n}else n=w("svg",E.doc.body),i(n.node,{height:t,version:1.1,width:e,xmlns:Y});return n}function _(e){return e?e instanceof y||e instanceof b?e:e.tagName&&"svg"==e.tagName.toLowerCase()?new x(e):e.tagName&&"object"==e.tagName.toLowerCase()&&"image/svg+xml"==e.type?new x(e.contentDocument.getElementsByTagName("svg")[0]):new y(e):e}n.version="0.3.0",n.toString=function(){return"Snap v"+this.version},n._={};var E={win:e.window,doc:e.window.document};n._.glob=E;var C="hasOwnProperty",T=String,A=parseFloat,S=parseInt,k=Math,D=k.max,I=k.min,N=k.abs,P=(k.pow,k.PI),R=(k.round,""),O=Object.prototype.toString,M=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,$=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),L={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,B=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,j=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,V=0,U="S"+(+new Date).toString(36),q=function(e){return(e&&e.type?e.type:R)+U+(V++).toString(36)},z="http://www.w3.org/1999/xlink",Y="http://www.w3.org/2000/svg",G={};n.url=function(e){return"url('#"+e+"')"};n._.$=i,n._.id=q,n.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,i){var r=i;return n.replace(t,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?e:r)+""};return function(t,i){return T(t).replace(e,function(e,t){return n(e,t,i)})}}(),n._.clone=o,n._.cacher=s,n.rad=l,n.deg=u,n.angle=c,n.is=r,n.snapTo=function(e,t,n){if(n=r(n,"finite")?n:10,r(e,"array")){for(var i=e.length;i--;)if(N(e[i]-t)<=n)return e[i]}else{e=+e;var o=t%e;if(n>o)return t-o;if(o>e-n)return t-o+e}return t},n.getRGB=s(function(e){if(!e||(e=T(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:K};if(!(L[C](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=H(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K};var t,i,o,a,s,c,l=e.match(M);return l?(l[2]&&(o=S(l[2].substring(5),16),i=S(l[2].substring(3,5),16),t=S(l[2].substring(1,3),16)),l[3]&&(o=S((s=l[3].charAt(3))+s,16),i=S((s=l[3].charAt(2))+s,16),t=S((s=l[3].charAt(1))+s,16)),l[4]&&(c=l[4].split($),t=A(c[0]),"%"==c[0].slice(-1)&&(t*=2.55),i=A(c[1]),"%"==c[1].slice(-1)&&(i*=2.55),o=A(c[2]),"%"==c[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(a=A(c[3])),c[3]&&"%"==c[3].slice(-1)&&(a/=100)),l[5]?(c=l[5].split($),t=A(c[0]),"%"==c[0].slice(-1)&&(t/=100),i=A(c[1]),"%"==c[1].slice(-1)&&(i/=100),o=A(c[2]),"%"==c[2].slice(-1)&&(o/=100),("deg"==c[0].slice(-3)||"°"==c[0].slice(-1))&&(t/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(a=A(c[3])),c[3]&&"%"==c[3].slice(-1)&&(a/=100),n.hsb2rgb(t,i,o,a)):l[6]?(c=l[6].split($),t=A(c[0]),"%"==c[0].slice(-1)&&(t/=100),i=A(c[1]),"%"==c[1].slice(-1)&&(i/=100),o=A(c[2]),"%"==c[2].slice(-1)&&(o/=100),("deg"==c[0].slice(-3)||"°"==c[0].slice(-1))&&(t/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(a=A(c[3])),c[3]&&"%"==c[3].slice(-1)&&(a/=100),n.hsl2rgb(t,i,o,a)):(t=I(k.round(t),255),i=I(k.round(i),255),o=I(k.round(o),255),a=I(D(a,0),1),l={r:t,g:i,b:o,toString:K},l.hex="#"+(16777216|o|i<<8|t<<16).toString(16).slice(1),l.opacity=r(a,"finite")?a:1,l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K}},n),n.hsb=s(function(e,t,i){return n.hsb2rgb(e,t,i).hex}),n.hsl=s(function(e,t,i){return n.hsl2rgb(e,t,i).hex}),n.rgb=s(function(e,t,n,i){if(r(i,"finite")){var o=k.round;return"rgba("+[o(e),o(t),o(n),+i.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var H=function(e){var t=E.doc.getElementsByTagName("head")[0]||E.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(H=s(function(e){if("red"==e.toLowerCase())return n;t.style.color=n,t.style.color=e;var i=E.doc.defaultView.getComputedStyle(t,R).getPropertyValue("color");return i==n?null:i}))(e)},W=function(){return"hsb("+[this.h,this.s,this.b]+")"},X=function(){return"hsl("+[this.h,this.s,this.l]+")"},K=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},Q=function(e,t,i){if(null==t&&r(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,t=e.g,e=e.r),null==t&&r(e,string)){var o=n.getRGB(e);e=o.r,t=o.g,i=o.b}return(e>1||t>1||i>1)&&(e/=255,t/=255,i/=255),[e,t,i]},Z=function(e,t,i,o){e=k.round(255*e),t=k.round(255*t),i=k.round(255*i);var a={r:e,g:t,b:i,opacity:r(o,"finite")?o:1,hex:n.rgb(e,t,i),toString:K};return r(o,"finite")&&(a.opacity=o),a};n.color=function(e){var t;return r(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):r(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(r(e,"string")&&(e=n.getRGB(e)),r(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=K,e},n.hsb2rgb=function(e,t,n,i){r(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,i=e.o),e*=360;var o,a,s,c,l;return e=e%360/60,l=n*t,c=l*(1-N(e%2-1)),o=a=s=n-l,e=~~e,o+=[l,c,0,0,c,l][e],a+=[c,l,l,c,0,0][e],s+=[0,0,c,l,l,c][e],Z(o,a,s,i)},n.hsl2rgb=function(e,t,n,i){r(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var o,a,s,c,l;return e=e%360/60,l=2*t*(.5>n?n:1-n),c=l*(1-N(e%2-1)),o=a=s=n-l/2,e=~~e,o+=[l,c,0,0,c,l][e],a+=[c,l,l,c,0,0][e],s+=[0,0,c,l,l,c][e],Z(o,a,s,i)},n.rgb2hsb=function(e,t,n){n=Q(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,o,a;return o=D(e,t,n),a=o-I(e,t,n),i=0==a?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,i=(i+360)%6*60/360,r=0==a?0:a/o,{h:i,s:r,b:o,toString:W}},n.rgb2hsl=function(e,t,n){n=Q(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,o,a,s,c;return a=D(e,t,n),s=I(e,t,n),c=a-s,i=0==c?null:a==e?(t-n)/c:a==t?(n-e)/c+2:(e-t)/c+4,i=(i+360)%6*60/360,o=(a+s)/2,r=0==c?0:.5>o?c/(2*o):c/(2-2*o),{h:i,s:r,l:o,toString:X}},n.parsePathString=function(e){if(!e)return null;var t=n.path(e);if(t.arr)return n.path.clone(t.arr);var i={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return r(e,"array")&&r(e[0],"array")&&(o=n.path.clone(e)),o.length||T(e).replace(F,function(e,t,n){var r=[],a=t.toLowerCase();if(n.replace(j,function(e,t){t&&r.push(+t)}),"m"==a&&r.length>2&&(o.push([t].concat(r.splice(0,2))),a="l",t="m"==t?"l":"L"),"o"==a&&1==r.length&&o.push([t,r[0]]),"r"==a)o.push([t].concat(r));else for(;r.length>=i[a]&&(o.push([t].concat(r.splice(0,i[a]))),i[a]););}),o.toString=n.path.toString,t.arr=n.path.clone(o),o};var J=n.parseTransformString=function(e){if(!e)return null;var t=[];return r(e,"array")&&r(e[0],"array")&&(t=n.path.clone(e)),t.length||T(e).replace(B,function(e,n,i){var r=[];n.toLowerCase();i.replace(j,function(e,t){t&&r.push(+t)}),t.push([n].concat(r))}),t.toString=n.path.toString,t};n._.svgTransform2string=p,n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=d,n._unit2px=m;E.doc.contains||E.doc.compareDocumentPosition?function(e,t){var n=9==e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e==i||!(!i||1!=i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t;)if(t=t.parentNode,t==e)return!0;return!1};n._.getSomeDefs=f,n._.getSomeSVG=h,n.select=function(e){return e=T(e).replace(/([^\\]):/g,"$1\\:"),_(E.doc.querySelector(e))},n.selectAll=function(e){for(var t=E.doc.querySelectorAll(e),i=(n.set||Array)(),r=0;r<t.length;r++)i.push(_(t[r]));return i},setInterval(function(){for(var e in G)if(G[C](e)){var t=G[e],n=t.node;("svg"!=t.type&&!n.ownerSVGElement||"svg"==t.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete G[e]}},1e4),y.prototype.attr=function(e,n){var i=this;i.node;if(!e)return i;if(r(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,i).firstDefined();var o={};o[e]=n,e=o}for(var a in e)e[C](a)&&t("snap.util.attr."+a,i,e[a]);return i},n.parse=function(e){var t=E.doc.createDocumentFragment(),n=!0,i=E.doc.createElement("div");if(e=T(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),i.innerHTML=e,e=i.getElementsByTagName("svg")[0])if(n)t=e;else{for(;e.firstChild;)t.appendChild(e.firstChild);i.innerHTML=R}return new b(t)},n.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=E.doc.createDocumentFragment(),i=0,r=e.length;r>i;i++){var o=e[i];o.node&&o.node.nodeType&&t.appendChild(o.node),o.nodeType&&t.appendChild(o),"string"==typeof o&&t.appendChild(n.parse(o).node)}return new b(t)},n._.make=w,n._.wrap=_,x.prototype.el=function(e,t){var n=w(e,this.node);return t&&n.attr(t),n},t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return ee[C](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):i(this.node,e)});var ee={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=e;var o=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),a=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});ee[C](a)?this.node.style[o]=null==e?R:e:i(this.node,r)}),function(e){}(x.prototype),n.ajax=function(e,n,i,o){var a=new XMLHttpRequest,s=q();if(a){if(r(n,"function"))o=i,i=n,n=null;else if(r(n,"object")){var c=[];for(var l in n)n.hasOwnProperty(l)&&c.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l]));n=c.join("&")}return a.open(n?"POST":"GET",e,!0),n&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),i&&(t.once("snap.ajax."+s+".0",i),t.once("snap.ajax."+s+".200",i),t.once("snap.ajax."+s+".304",i)),a.onreadystatechange=function(){4==a.readyState&&t("snap.ajax."+s+"."+a.status,o,a)},4==a.readyState?a:(a.send(n),a)}},n.load=function(e,t,i){n.ajax(e,function(e){var r=n.parse(e.responseText);i?t.call(i,r):t(r)})};var te=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0,s=t.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-o,c=t.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a;
return{y:s,x:c}};return n.getElementByPoint=function(e,t){var n=this,i=(n.canvas,E.doc.elementFromPoint(e,t));if(E.win.opera&&"svg"==i.tagName){var r=te(i),o=i.createSVGRect();o.x=e-r.x,o.y=t-r.y,o.width=o.height=1;var a=i.getIntersectionList(o,null);a.length&&(i=a[a.length-1])}return i?_(i):null},n.plugin=function(e){e(n,y,x,E,b)},E.win.Snap=n,n}(e||this);return i.plugin(function(i,r,o,a,s){function c(e,t){if(null==t){var n=!0;if(t="linearGradient"==e.type||"radialGradient"==e.type?e.node.getAttribute("gradientTransform"):"pattern"==e.type?e.node.getAttribute("patternTransform"):e.node.getAttribute("transform"),!t)return new i.Matrix;t=i._.svgTransform2string(t)}else t=i._.rgTransform.test(t)?h(t).replace(/\.{3}|\u2026/g,e._.transform||E):i._.svgTransform2string(t),f(t,"array")&&(t=i.path?i.path.toString.call(t):h(t)),e._.transform=t;var r=i._.transform2matrix(t,e.getBBox(1));return n?r:void(e.matrix=r)}function l(e){function t(e,t){var n=g(e.node,t);n=n&&n.match(o),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(s[n]=(s[n]||[]).concat(function(n){var i={};i[t]=URL(n),g(e.node,i)})))}function n(e){var t=g(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1),t&&(s[t]=(s[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)})))}for(var i,r=e.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,a=[],s={},c=0,l=r.length;l>c;c++){i=r[c],t(i,"fill"),t(i,"stroke"),t(i,"filter"),t(i,"mask"),t(i,"clip-path"),n(i);var u=g(i.node,"id");u&&(g(i.node,{id:i.id}),a.push({old:u,id:i.id}))}for(c=0,l=a.length;l>c;c++){var p=s[a[c].old];if(p)for(var d=0,f=p.length;f>d;d++)p[d](a[c].id)}}function u(e,t,n){return function(i){var r=i.slice(e,t);return 1==r.length&&(r=r[0]),n?n(r):r}}function p(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,i=this.node.childNodes;if(e)for(var r=0,o=n.length;o>r;r++)t+=" "+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"';if(i.length){for(e&&(t+=">"),r=0,o=i.length;o>r;r++)3==i[r].nodeType?t+=i[r].nodeValue:1==i[r].nodeType&&(t+=w(i[r]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}var d=r.prototype,f=i.is,h=String,m=i._unit2px,g=i._.$,v=i._.make,y=i._.getSomeDefs,b="hasOwnProperty",w=i._.wrap;d.getBBox=function(e){if(!i.Matrix||!i.path)return this.node.getBBox();var t=this,n=new i.Matrix;if(t.removed)return i._.box();for(;"use"==t.type;)if(e||(n=n.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0))),t.original)t=t.original;else{var r=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var o=t._,a=i.path.get[t.type]||i.path.get.deflt;try{return e?(o.bboxwt=a?i.path.getBBox(t.realPath=a(t)):i._.box(t.node.getBBox()),i._.box(o.bboxwt)):(t.realPath=a(t),t.matrix=t.transform().localMatrix,o.bbox=i.path.getBBox(i.path.map(t.realPath,n.add(t.matrix))),i._.box(o.bbox))}catch(s){return i._.box()}};var x=function(){return this.string};d.transform=function(e){var t=this._;if(null==e){for(var n,r=this,o=new i.Matrix(this.node.getCTM()),a=c(this),s=[a],l=new i.Matrix,u=a.toTransformString(),p=h(a)==h(this.matrix)?h(t.transform):u;"svg"!=r.type&&(r=r.parent());)s.push(c(r));for(n=s.length;n--;)l.add(s[n]);return{string:p,globalMatrix:o,totalMatrix:l,localMatrix:a,diffMatrix:o.clone().add(a.invert()),global:o.toTransformString(),total:l.toTransformString(),local:u,toString:x}}return e instanceof i.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):c(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?g(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?g(this.node,{patternTransform:this.matrix}):g(this.node,{transform:this.matrix})),this},d.parent=function(){return w(this.node.parentNode)},d.append=d.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=w(e),this.node.appendChild(e.node),e.paper=this.paper}return this},d.appendTo=function(e){return e&&(e=w(e),e.append(this)),this},d.prepend=function(e){if(e){if("set"==e.type){var t,n=this;return e.forEach(function(e){t?t.after(e):n.prepend(e),t=e}),this}e=w(e);var i=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),i&&i.add()}return this},d.prependTo=function(e){return e=w(e),e.prepend(this),this},d.before=function(e){if("set"==e.type){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=w(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},d.after=function(e){e=w(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},d.insertBefore=function(e){e=w(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},d.insertAfter=function(e){e=w(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},d.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},d.select=function(e){return e=h(e).replace(/([^\\]):/g,"$1\\:"),w(this.node.querySelector(e))},d.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(i.set||Array)(),r=0;r<t.length;r++)n.push(w(t[r]));return n},d.asPX=function(e,t){return null==t&&(t=this.attr(e)),+m(this,e,t)},d.use=function(){var e,t=this.node.id;return t||(t=this.id,g(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?v(this.type,this.node.parentNode):v("use",this.node.parentNode),g(e.node,{"xlink:href":"#"+t}),e.original=this,e},d.clone=function(){var e=w(this.node.cloneNode(!0));return g(e.node,"id")&&g(e.node,{id:e.id}),l(e),e.insertAfter(this),e},d.toDefs=function(){var e=y(this);return e.appendChild(this.node),this},d.pattern=d.toPattern=function(e,t,n,i){var r=v("pattern",y(this));return null==e&&(e=this.getBBox()),f(e,"object")&&"x"in e&&(t=e.y,n=e.width,i=e.height,e=e.x),g(r.node,{x:e,y:t,width:n,height:i,patternUnits:"userSpaceOnUse",id:r.id,viewBox:[e,t,n,i].join(" ")}),r.node.appendChild(this.node),r},d.marker=function(e,t,n,i,r,o){var a=v("marker",y(this));return null==e&&(e=this.getBBox()),f(e,"object")&&"x"in e&&(t=e.y,n=e.width,i=e.height,r=e.refX||e.cx,o=e.refY||e.cy,e=e.x),g(a.node,{viewBox:[e,t,n,i].join(" "),markerWidth:n,markerHeight:i,orient:"auto",refX:r||0,refY:o||0,id:a.id}),a.node.appendChild(this.node),a};var _=function(e,t,i,r){"function"!=typeof i||i.length||(r=i,i=n.linear),this.attr=e,this.dur=t,i&&(this.easing=i),r&&(this.callback=r)};i._.Animation=_,i.animation=function(e,t,n,i){return new _(e,t,n,i)},d.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[b](n)&&!function(e){t.push({anim:new _(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},i.animate=function(e,i,r,o,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear);var c=n.time(),l=n(e,i,c,c+o,n.time,r,a);return s&&t.once("mina.finish."+l.id,s),l},d.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;n>t;t++)e[t].stop();return this},d.animate=function(e,i,r,o){"function"!=typeof r||r.length||(o=r,r=n.linear),e instanceof _&&(o=e.callback,r=e.easing,i=r.dur,e=e.attr);var a,s,c,l,p=[],d=[],m={},g=this;for(var v in e)if(e[b](v)){g.equal?(l=g.equal(v,h(e[v])),a=l.from,s=l.to,c=l.f):(a=+g.attr(v),s=+e[v]);var y=f(a,"array")?a.length:1;m[v]=u(p.length,p.length+y,c),p=p.concat(a),d=d.concat(s)}var w=n.time(),x=n(p,d,w,w+i,n.time,function(e){var t={};for(var n in m)m[b](n)&&(t[n]=m[n](e));g.attr(t)},r);return g.anims[x.id]=x,x._attrs=e,x._callback=o,t("snap.animcreated."+g.id,x),t.once("mina.finish."+x.id,function(){delete g.anims[x.id],o&&o.call(g)}),t.once("mina.stop."+x.id,function(){delete g.anims[x.id]}),g};var C={};d.data=function(e,n){var r=C[this.id]=C[this.id]||{};if(0==arguments.length)return t("snap.data.get."+this.id,this,r,null),r;if(1==arguments.length){if(i.is(e,"object")){for(var o in e)e[b](o)&&this.data(o,e[o]);return this}return t("snap.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,t("snap.data.set."+this.id,this,n,e),this},d.removeData=function(e){return null==e?C[this.id]={}:C[this.id]&&delete C[this.id][e],this},d.outerSVG=d.toString=p(1),d.innerSVG=p(),d.toDataURL=function(){if(e&&e.btoa){var t=this.getBBox(),n=i.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}},s.prototype.select=d.select,s.prototype.selectAll=d.selectAll}),i.plugin(function(e,t,n,i,r){function o(e,t,n,i,r,o){return null==t&&"[object SVGMatrix]"==a.call(e)?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f)):void(null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var a=Object.prototype.toString,s=String,c=Math,l="";!function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function i(e){var t=c.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,i,r,a){var s,c,l,u,p=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,r],[t,i,a],[0,0,1]];for(e&&e instanceof o&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),s=0;3>s;s++)for(c=0;3>c;c++){for(u=0,l=0;3>l;l++)u+=d[s][l]*f[l][c];p[s][c]=u}return this.a=p[0][0],this.b=p[1][0],this.c=p[0][1],this.d=p[1][1],this.e=p[0][2],this.f=p[1][2],this},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new o(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){return this.add(1,0,0,1,e,t)},t.scale=function(e,t,n,i){return null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i),this},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+c.cos(t).toFixed(9),o=+c.sin(t).toFixed(9);return this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[s.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=c.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=c.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var o=-r[0][1],a=r[1][1];return 0>a?(t.rotate=e.deg(c.acos(a)),0>o&&(t.rotate=360-t.rotate)):t.rotate=e.deg(c.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:l)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:l)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:l))}}(o.prototype),e.Matrix=o,e.matrix=function(e,t,n,i,r,a){return new o(e,t,n,i,r,a)}}),i.plugin(function(e,n,i,r,o){function a(i){return function(r){if(t.stop(),r instanceof o&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)&&(r=r.node.firstChild,f(this).appendChild(r),r=p(r)),r instanceof n)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||m(r.node,{id:r.id});var a=g(r.node.id)}else a=r.attr(i);else if(a=e.color(r),a.error){var s=e(f(this).ownerSVGElement).gradient(r);s?(s.node.id||m(s.node,{id:s.id}),a=g(s.node.id)):a=r}else a=v(a);var c={};c[i]=a,m(this.node,c),this.node.style[i]=b}}function s(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function c(e){for(var t=[],n=e.childNodes,i=0,r=n.length;r>i;i++){var o=n[i];3==o.nodeType&&t.push(o.nodeValue),"tspan"==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?t.push(o.firstChild.nodeValue):t.push(c(o)))}return t}function l(){return t.stop(),this.node.style.fontSize}var u=e._.make,p=e._.wrap,d=e.is,f=e._.getSomeDefs,h=/^url\(#?([^)]+)\)$/,m=e._.$,g=e.url,v=String,y=e._.separator,b="";t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof o){if(t.stop(),e instanceof o&&1==e.node.childNodes.length&&(e=e.node.firstChild,f(this).appendChild(e),e=p(e)),"mask"==e.type)var i=e;else i=u("mask",f(this)),i.node.appendChild(e.node);!i.node.id&&m(i.node,{id:i.id}),m(this.node,{mask:g(i.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof n||e instanceof o){if(t.stop(),"clipPath"==e.type)var i=e;else i=u("clipPath",f(this)),i.node.appendChild(e.node),!i.node.id&&m(i.node,{id:i.id});m(this.node,{"clip-path":g(i.node.id||i.id)})}}),t.on("snap.util.attr.fill",a("fill")),t.on("snap.util.attr.stroke",a("stroke"));var w=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(e){e=v(e);var t=e.match(w);if(!t)return null;var n=t[1],i=t[2],r=t[3];return i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==i.length&&0==i[0]&&(i=[]),r=r.split("-"),r=r.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:n,params:i,stops:r}}),t.on("snap.util.attr.d",function(n){t.stop(),d(n,"array")&&d(n[0],"array")&&(n=e.path.toString.call(n)),n=v(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),m(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=v(e);for(var n=r.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;n=d(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):d(e,"array")?e.join(" "):e,m(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){"rect"==this.type&&(t.stop(),m(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){if(t.stop(),"text"==this.type){var i,r,o;if(!e&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(d(e,"string")){var a=f(this),s=p(a.parentNode).path(e);a.appendChild(s.node),i=s.id,s.attr({id:i})}else e=p(e),e instanceof n&&(i=e.attr("id"),i||(i=e.id,e.attr({id:i})));if(i)if(r=this.textPath,o=this.node,r)r.attr({"xlink:href":"#"+i});else{for(r=m("textPath",{"xlink:href":"#"+i});o.firstChild;)r.appendChild(o.firstChild);o.appendChild(r),this.textPath=p(r)}}})(-1),t.on("snap.util.attr.text",function(e){if("text"==this.type){for(var n=this.node,i=function(e){var t=m("tspan");if(d(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(i(e[n]));else t.appendChild(r.doc.createTextNode(e));return t.normalize&&t.normalize(),t};n.firstChild;)n.removeChild(n.firstChild);for(var o=i(e);o.firstChild;)n.appendChild(o.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",s)(-1),t.on("snap.util.attr.font-size",s)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var i=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==i?i:e(r.doc.getElementById(i.match(h)[1]))}}function i(e){return function(n){t.stop();var i="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(""==n||!n)return void(this.node.style[i]="none");if("marker"==n.type){var r=n.node.id;return r||m(n.node,{id:n.id}),void(this.node.style[i]=g(r))}}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",i("end"))(-1),t.on("snap.util.attr.markerEnd",i("end"))(-1),t.on("snap.util.attr.marker-start",i("start"))(-1),t.on("snap.util.attr.markerStart",i("start"))(-1),t.on("snap.util.attr.marker-mid",i("mid"))(-1),t.on("snap.util.attr.markerMid",i("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){return"rect"==this.type&&m(this.node,"rx")==m(this.node,"ry")?(t.stop(),m(this.node,"rx")):void 0})(-1),t.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){t.stop();var e=c(this.node);return 1==e.length?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=m(this.node,"viewBox");return n?(n=n.split(y),e._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),t.on("snap.util.getattr.points",function(){var e=m(this.node,"points");return t.stop(),e?e.split(y):void 0})(-1),t.on("snap.util.getattr.path",function(){var e=m(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",l)(-1),t.on("snap.util.getattr.font-size",l)(-1)}),i.plugin(function(n,i,r,o,a){var s=r.prototype,c=n.is;s.rect=function(e,t,n,i,r,o){var a;return null==o&&(o=r),c(e,"object")&&"[object Object]"==e?a=e:null!=e&&(a={x:e,y:t,width:n,height:i},null!=r&&(a.rx=r,a.ry=o)),this.el("rect",a)},s.circle=function(e,t,n){var i;return c(e,"object")&&"[object Object]"==e?i=e:null!=e&&(i={cx:e,cy:t,r:n}),this.el("circle",i)};var l=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var i=o.doc.createElement("img"),r=o.doc.body;i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){n.call(i),i.onload=i.onerror=null,r.removeChild(i)},i.onerror=e,r.appendChild(i),i.src=t}}();s.image=function(e,t,i,r,o){var a=this.el("image");if(c(e,"object")&&"src"in e)a.attr(e);else if(null!=e){var s={"xlink:href":e,preserveAspectRatio:"none"};null!=t&&null!=i&&(s.x=t,s.y=i),null!=r&&null!=o?(s.width=r,s.height=o):l(e,function(){n._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(a.node,s)}return a},s.ellipse=function(e,t,n,i){var r;return c(e,"object")&&"[object Object]"==e?r=e:null!=e&&(r={cx:e,cy:t,rx:n,ry:i}),this.el("ellipse",r)},s.path=function(e){var t;return c(e,"object")&&!c(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},s.group=s.g=function(e){var t=this.el("g");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.svg=function(e,t,n,i,r,o,a,s){var l={};return c(e,"object")&&null==t?l=e:(null!=e&&(l.x=e),null!=t&&(l.y=t),null!=n&&(l.width=n),null!=i&&(l.height=i),null!=r&&null!=o&&null!=a&&null!=s&&(l.viewBox=[r,o,a,s])),this.el("svg",l)},s.mask=function(e){var t=this.el("mask");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.ptrn=function(e,t,n,i,r,o,a,s){if(c(e,"object"))var l=e;else l={patternUnits:"userSpaceOnUse"},e&&(l.x=e),t&&(l.y=t),null!=n&&(l.width=n),null!=i&&(l.height=i),null!=r&&null!=o&&null!=a&&null!=s&&(l.viewBox=[r,o,a,s]);return this.el("pattern",l)},s.use=function(e){return null!=e?(e instanceof i&&(e.attr("id")||e.attr({id:n._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):i.prototype.use.call(this)},s.symbol=function(e,t,n,i){var r={};return null!=e&&null!=t&&null!=n&&null!=i&&(r.viewBox=[e,t,n,i]),this.el("symbol",r)},s.text=function(e,t,n){var i={};return c(e,"object")?i=e:null!=e&&(i={x:e,y:t,text:n||""}),this.el("text",i)},s.line=function(e,t,n,i){var r={};return c(e,"object")?r=e:null!=e&&(r={x1:e,x2:n,y1:t,y2:i}),this.el("line",r)},s.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return c(e,"object")&&!c(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polyline",t)},s.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return c(e,"object")&&!c(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polygon",t)},function(){function i(){return this.selectAll("stop")}function r(e,t){var i=u("stop"),r={offset:+t+"%"};return e=n.color(e),r["stop-color"]=e.hex,e.opacity<1&&(r["stop-opacity"]=e.opacity),u(i,r),this.node.appendChild(i),this}function o(){if("linearGradient"==this.type){var e=u(this.node,"x1")||0,t=u(this.node,"x2")||1,i=u(this.node,"y1")||0,r=u(this.node,"y2")||0;return n._.box(e,i,math.abs(t-e),math.abs(r-i))}var o=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0;return n._.box(o-s,a-s,2*s,2*s)}function a(e,n){function i(e,t){for(var n=(t-p)/(e-d),i=d;e>i;i++)a[i].offset=+(+p+n*(i-d)).toFixed(2);d=e,p=t}var r,o=t("snap.util.grad.parse",null,n).firstDefined();if(!o)return null;o.params.unshift(e),r="l"==o.type.toLowerCase()?c.apply(0,o.params):l.apply(0,o.params),o.type!=o.type.toLowerCase()&&u(r.node,{gradientUnits:"userSpaceOnUse"});var a=o.stops,s=a.length,p=0,d=0;s--;for(var f=0;s>f;f++)"offset"in a[f]&&i(f,a[f].offset);for(a[s].offset=a[s].offset||100,i(s,a[s].offset),f=0;s>=f;f++){var h=a[f];r.addStop(h.color,h.offset)}return r}function c(e,t,a,s,c){var l=n._.make("linearGradient",e);return l.stops=i,l.addStop=r,l.getBBox=o,null!=t&&u(l.node,{x1:t,y1:a,x2:s,y2:c}),l}function l(e,t,a,s,c,l){var p=n._.make("radialGradient",e);return p.stops=i,p.addStop=r,p.getBBox=o,null!=t&&u(p.node,{cx:t,cy:a,r:s}),null!=c&&null!=l&&u(p.node,{fx:c,fy:l}),p}var u=n._.$;s.gradient=function(e){return a(this.defs,e)},s.gradientLinear=function(e,t,n,i){return c(this.defs,e,t,n,i)},s.gradientRadial=function(e,t,n,i,r){return l(this.defs,e,t,n,i,r)},s.toString=function(){var e,t=this.node.ownerDocument,i=t.createDocumentFragment(),r=t.createElement("div"),o=this.node.cloneNode(!0);return i.appendChild(r),r.appendChild(o),n._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),e=r.innerHTML,i.removeChild(i.firstChild),e},s.toDataURL=function(){return e&&e.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},s.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):s.clear.call({node:t}),t=e}}()}),i.plugin(function(e,t,n,i){function r(e){var t=r.ps=r.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[F](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function o(e,t,n,i){return null==e&&(e=t=n=i=0),null==t&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:i,h:i,x2:e+n,y2:t+i,cx:e+n/2,cy:t+i/2,r1:V.min(n,i)/2,r2:V.max(n,i)/2,r0:V.sqrt(n*n+i*i)/2,path:C(e,t,n,i),vb:[e,t,n,i].join(" ")}}function a(){return this.join(",").replace(B,"$1")}function s(e){var t=L(e);return t.toString=a,t}function c(e,t,n,i,r,o,a,s,c){return null==c?m(e,t,n,i,r,o,a,s):u(e,t,n,i,r,o,a,s,g(e,t,n,i,r,o,a,s,c))}function l(n,i){function r(e){return+(+e).toFixed(3)}return e._.cacher(function(e,o,a){e instanceof t&&(e=e.attr("d")),e=P(e);for(var s,l,p,d,f,h="",m={},g=0,v=0,y=e.length;y>v;v++){if(p=e[v],"M"==p[0])s=+p[1],l=+p[2];else{if(d=c(s,l,p[1],p[2],p[3],p[4],p[5],p[6]),g+d>o){if(i&&!m.start){if(f=c(s,l,p[1],p[2],p[3],p[4],p[5],p[6],o-g),h+=["C"+r(f.start.x),r(f.start.y),r(f.m.x),r(f.m.y),r(f.x),r(f.y)],a)return h;m.start=h,h=["M"+r(f.x),r(f.y)+"C"+r(f.n.x),r(f.n.y),r(f.end.x),r(f.end.y),r(p[5]),r(p[6])].join(),g+=d,s=+p[5],l=+p[6];continue}if(!n&&!i)return f=c(s,l,p[1],p[2],p[3],p[4],p[5],p[6],o-g)}g+=d,s=+p[5],l=+p[6]}h+=p.shift()+p}return m.end=h,f=n?g:i?m:u(s,l,p[0],p[1],p[2],p[3],p[4],p[5],1)},null,e._.clone)}function u(e,t,n,i,r,o,a,s,c){var l=1-c,u=Y(l,3),p=Y(l,2),d=c*c,f=d*c,h=u*e+3*p*c*n+3*l*c*c*r+f*a,m=u*t+3*p*c*i+3*l*c*c*o+f*s,g=e+2*c*(n-e)+d*(r-2*n+e),v=t+2*c*(i-t)+d*(o-2*i+t),y=n+2*c*(r-n)+d*(a-2*r+n),b=i+2*c*(o-i)+d*(s-2*o+i),w=l*e+c*n,x=l*t+c*i,_=l*r+c*a,E=l*o+c*s,C=90-180*V.atan2(g-y,v-b)/U;return{x:h,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:E},alpha:C}}function p(t,n,i,r,a,s,c,l){e.is(t,"array")||(t=[t,n,i,r,a,s,c,l]);var u=N.apply(null,t);return o(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function d(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function f(e,t){return e=o(e),t=o(t),d(t,e.x,e.y)||d(t,e.x2,e.y)||d(t,e.x,e.y2)||d(t,e.x2,e.y2)||d(e,t.x,t.y)||d(e,t.x2,t.y)||d(e,t.x,t.y2)||d(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function h(e,t,n,i,r){var o=-3*t+9*n-9*i+3*r,a=e*o+6*t-12*n+6*i;return e*a-3*t+3*n}function m(e,t,n,i,r,o,a,s,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var l=c/2,u=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var g=l*p[m]+l,v=h(g,e,n,r,a),y=h(g,t,i,o,s),b=v*v+y*y;f+=d[m]*V.sqrt(b)}return l*f}function g(e,t,n,i,r,o,a,s,c){if(!(0>c||m(e,t,n,i,r,o,a,s)<c)){var l,u=1,p=u/2,d=u-p,f=.01;for(l=m(e,t,n,i,r,o,a,s,d);G(l-c)>f;)p/=2,d+=(c>l?1:-1)*p,l=m(e,t,n,i,r,o,a,s,d);return d}}function v(e,t,n,i,r,o,a,s){if(!(z(e,n)<q(r,a)||q(e,n)>z(r,a)||z(t,i)<q(o,s)||q(t,i)>z(o,s))){var c=(e*i-t*n)*(r-a)-(e-n)*(r*s-o*a),l=(e*i-t*n)*(o-s)-(t-i)*(r*s-o*a),u=(e-n)*(o-s)-(t-i)*(r-a);if(u){var p=c/u,d=l/u,f=+p.toFixed(2),h=+d.toFixed(2);if(!(f<+q(e,n).toFixed(2)||f>+z(e,n).toFixed(2)||f<+q(r,a).toFixed(2)||f>+z(r,a).toFixed(2)||h<+q(t,i).toFixed(2)||h>+z(t,i).toFixed(2)||h<+q(o,s).toFixed(2)||h>+z(o,s).toFixed(2)))return{x:p,y:d}}}}function y(e,t,n){var i=p(e),r=p(t);if(!f(i,r))return n?0:[];for(var o=m.apply(0,e),a=m.apply(0,t),s=~~(o/8),c=~~(a/8),l=[],d=[],h={},g=n?0:[],y=0;s+1>y;y++){var b=u.apply(0,e.concat(y/s));l.push({x:b.x,y:b.y,t:y/s})}for(y=0;c+1>y;y++)b=u.apply(0,t.concat(y/c)),d.push({x:b.x,y:b.y,t:y/c});for(y=0;s>y;y++)for(var w=0;c>w;w++){var x=l[y],_=l[y+1],E=d[w],C=d[w+1],T=G(_.x-x.x)<.001?"y":"x",A=G(C.x-E.x)<.001?"y":"x",S=v(x.x,x.y,_.x,_.y,E.x,E.y,C.x,C.y);if(S){if(h[S.x.toFixed(4)]==S.y.toFixed(4))continue;h[S.x.toFixed(4)]=S.y.toFixed(4);var k=x.t+G((S[T]-x[T])/(_[T]-x[T]))*(_.t-x.t),D=E.t+G((S[A]-E[A])/(C[A]-E[A]))*(C.t-E.t);k>=0&&1>=k&&D>=0&&1>=D&&(n?g++:g.push({x:S.x,y:S.y,t1:k,t2:D}))}}return g}function b(e,t){return x(e,t)}function w(e,t){return x(e,t,1)}function x(e,t,n){e=P(e),t=P(t);for(var i,r,o,a,s,c,l,u,p,d,f=n?0:[],h=0,m=e.length;m>h;h++){var g=e[h];if("M"==g[0])i=s=g[1],r=c=g[2];else{"C"==g[0]?(p=[i,r].concat(g.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,s,c,s,c],i=s,r=c);for(var v=0,b=t.length;b>v;v++){var w=t[v];if("M"==w[0])o=l=w[1],a=u=w[2];else{"C"==w[0]?(d=[o,a].concat(w.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,l,u,l,u],o=l,a=u);var x=y(p,d,n);if(n)f+=x;else{for(var _=0,E=x.length;E>_;_++)x[_].segment1=h,x[_].segment2=v,x[_].bez1=p,x[_].bez2=d;f=f.concat(x)}}}}}return f}function _(e,t,n){var i=E(e);return d(i,t,n)&&x(e,[["M",t,n],["H",i.x2+10]],1)%2==1}function E(e){var t=r(e);if(t.bbox)return L(t.bbox);if(!e)return o();e=P(e);for(var n,i=0,a=0,s=[],c=[],l=0,u=e.length;u>l;l++)if(n=e[l],"M"==n[0])i=n[1],a=n[2],s.push(i),c.push(a);else{var p=N(i,a,n[1],n[2],n[3],n[4],n[5],n[6]);s=s.concat(p.min.x,p.max.x),c=c.concat(p.min.y,p.max.y),i=n[5],a=n[6]}var d=q.apply(0,s),f=q.apply(0,c),h=z.apply(0,s),m=z.apply(0,c),g=o(d,f,h-d,m-f);return t.bbox=L(g),g}function C(e,t,n,i,r){if(r)return[["M",+e+ +r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.toString=a,o}function T(e,t,n,i,r){if(null==r&&null==i&&(i=n),e=+e,t=+t,n=+n,i=+i,null!=r)var o=Math.PI/180,s=e+n*Math.cos(-i*o),c=e+n*Math.cos(-r*o),l=t+n*Math.sin(-i*o),u=t+n*Math.sin(-r*o),p=[["M",s,l],["A",n,n,0,+(r-i>180),0,c,u]];else p=[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return p.toString=a,p}function A(t){var n=r(t),i=String.prototype.toLowerCase;if(n.rel)return s(n.rel);e.is(t,"array")&&e.is(t&&t[0],"array")||(t=e.parsePathString(t));var o=[],c=0,l=0,u=0,p=0,d=0;"M"==t[0][0]&&(c=t[0][1],l=t[0][2],u=c,p=l,d++,o.push(["M",c,l]));for(var f=d,h=t.length;h>f;f++){var m=o[f]=[],g=t[f];if(g[0]!=i.call(g[0]))switch(m[0]=i.call(g[0]),m[0]){case"a":m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=+(g[6]-c).toFixed(3),m[7]=+(g[7]-l).toFixed(3);break;case"v":m[1]=+(g[1]-l).toFixed(3);break;case"m":u=g[1],p=g[2];default:for(var v=1,y=g.length;y>v;v++)m[v]=+(g[v]-(v%2?c:l)).toFixed(3)}else{m=o[f]=[],"m"==g[0]&&(u=g[1]+c,p=g[2]+l);for(var b=0,w=g.length;w>b;b++)o[f][b]=g[b]}var x=o[f].length;switch(o[f][0]){case"z":c=u,l=p;break;case"h":c+=+o[f][x-1];break;case"v":l+=+o[f][x-1];break;default:c+=+o[f][x-2],l+=+o[f][x-1]}}return o.toString=a,n.rel=s(o),o}function S(t){var n=r(t);if(n.abs)return s(n.abs);if($(t,"array")&&$(t&&t[0],"array")||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i,o=[],c=0,l=0,u=0,p=0,d=0;"M"==t[0][0]&&(c=+t[0][1],l=+t[0][2],u=c,p=l,d++,o[0]=["M",c,l]);for(var f,h,m=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),g=d,v=t.length;v>g;g++){if(o.push(f=[]),h=t[g],i=h[0],i!=i.toUpperCase())switch(f[0]=i.toUpperCase(),f[0]){case"A":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+h[6]+c,f[7]=+h[7]+l;break;case"V":f[1]=+h[1]+l;break;case"H":f[1]=+h[1]+c;break;case"R":for(var y=[c,l].concat(h.slice(1)),b=2,w=y.length;w>b;b++)y[b]=+y[b]+c,y[++b]=+y[b]+l;o.pop(),o=o.concat(O(y,m));break;case"O":o.pop(),y=T(c,l,h[1],h[2]),y.push(y[0]),o=o.concat(y);break;case"U":o.pop(),o=o.concat(T(c,l,h[1],h[2],h[3])),f=["U"].concat(o[o.length-1].slice(-2));break;case"M":u=+h[1]+c,p=+h[2]+l;default:for(b=1,w=h.length;w>b;b++)f[b]=+h[b]+(b%2?c:l)}else if("R"==i)y=[c,l].concat(h.slice(1)),o.pop(),o=o.concat(O(y,m)),f=["R"].concat(h.slice(-2));else if("O"==i)o.pop(),y=T(c,l,h[1],h[2]),y.push(y[0]),o=o.concat(y);else if("U"==i)o.pop(),o=o.concat(T(c,l,h[1],h[2],h[3])),f=["U"].concat(o[o.length-1].slice(-2));else for(var x=0,_=h.length;_>x;x++)f[x]=h[x];if(i=i.toUpperCase(),"O"!=i)switch(f[0]){case"Z":c=+u,l=+p;break;case"H":c=f[1];break;case"V":l=f[1];break;case"M":u=f[f.length-2],p=f[f.length-1];default:c=f[f.length-2],l=f[f.length-1]}}return o.toString=a,n.abs=s(o),o}function k(e,t,n,i){return[e,t,n,i,n,i]}function D(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]}function I(t,n,i,r,o,a,s,c,l,u){var p,d=120*U/180,f=U/180*(+o||0),h=[],m=e._.cacher(function(e,t,n){var i=e*V.cos(n)-t*V.sin(n),r=e*V.sin(n)+t*V.cos(n);return{x:i,y:r}});if(u)C=u[0],T=u[1],_=u[2],E=u[3];else{p=m(t,n,-f),t=p.x,n=p.y,p=m(c,l,-f),c=p.x,l=p.y;var g=(V.cos(U/180*o),V.sin(U/180*o),(t-c)/2),v=(n-l)/2,y=g*g/(i*i)+v*v/(r*r);y>1&&(y=V.sqrt(y),i=y*i,r=y*r);var b=i*i,w=r*r,x=(a==s?-1:1)*V.sqrt(G((b*w-b*v*v-w*g*g)/(b*v*v+w*g*g))),_=x*i*v/r+(t+c)/2,E=x*-r*g/i+(n+l)/2,C=V.asin(((n-E)/r).toFixed(9)),T=V.asin(((l-E)/r).toFixed(9));
C=_>t?U-C:C,T=_>c?U-T:T,0>C&&(C=2*U+C),0>T&&(T=2*U+T),s&&C>T&&(C-=2*U),!s&&T>C&&(T-=2*U)}var A=T-C;if(G(A)>d){var S=T,k=c,D=l;T=C+d*(s&&T>C?1:-1),c=_+i*V.cos(T),l=E+r*V.sin(T),h=I(c,l,i,r,o,0,s,k,D,[T,S,_,E])}A=T-C;var N=V.cos(C),P=V.sin(C),R=V.cos(T),O=V.sin(T),M=V.tan(A/4),$=4/3*i*M,L=4/3*r*M,F=[t,n],B=[t+$*P,n-L*N],j=[c+$*O,l-L*R],q=[c,l];if(B[0]=2*F[0]-B[0],B[1]=2*F[1]-B[1],u)return[B,j,q].concat(h);h=[B,j,q].concat(h).join().split(",");for(var z=[],Y=0,H=h.length;H>Y;Y++)z[Y]=Y%2?m(h[Y-1],h[Y],f).y:m(h[Y],h[Y+1],f).x;return z}function N(e,t,n,i,r,o,a,s){for(var c,l,u,p,d,f,h,m,g=[],v=[[],[]],y=0;2>y;++y)if(0==y?(l=6*e-12*n+6*r,c=-3*e+9*n-9*r+3*a,u=3*n-3*e):(l=6*t-12*i+6*o,c=-3*t+9*i-9*o+3*s,u=3*i-3*t),G(c)<1e-12){if(G(l)<1e-12)continue;p=-u/l,p>0&&1>p&&g.push(p)}else h=l*l-4*u*c,m=V.sqrt(h),0>h||(d=(-l+m)/(2*c),d>0&&1>d&&g.push(d),f=(-l-m)/(2*c),f>0&&1>f&&g.push(f));for(var b,w=g.length,x=w;w--;)p=g[w],b=1-p,v[0][w]=b*b*b*e+3*b*b*p*n+3*b*p*p*r+p*p*p*a,v[1][w]=b*b*b*t+3*b*b*p*i+3*b*p*p*o+p*p*p*s;return v[0][x]=e,v[1][x]=t,v[0][x+1]=a,v[1][x+1]=s,v[0].length=v[1].length=x+2,{min:{x:q.apply(0,v[0]),y:q.apply(0,v[1])},max:{x:z.apply(0,v[0]),y:z.apply(0,v[1])}}}function P(e,t){var n=!t&&r(e);if(!t&&n.curve)return s(n.curve);for(var i=S(e),o=t&&S(t),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=(function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(I.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(D(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(D(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(k(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(k(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(k(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(k(t.x,t.y,t.X,t.Y))}return e}),u=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)d[t]="A",o&&(f[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),v=z(i.length,o&&o.length||0)}},p=function(e,t,n,r,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],v=z(i.length,o&&o.length||0))},d=[],f=[],h="",m="",g=0,v=z(i.length,o&&o.length||0);v>g;g++){i[g]&&(h=i[g][0]),"C"!=h&&(d[g]=h,g&&(m=d[g-1])),i[g]=l(i[g],a,m),"A"!=d[g]&&"C"==h&&(d[g]="C"),u(i,g),o&&(o[g]&&(h=o[g][0]),"C"!=h&&(f[g]=h,g&&(m=f[g-1])),o[g]=l(o[g],c,m),"A"!=f[g]&&"C"==h&&(f[g]="C"),u(o,g)),p(i,o,a,c,g),p(o,i,c,a,g);var y=i[g],b=o&&o[g],w=y.length,x=o&&b.length;a.x=y[w-2],a.y=y[w-1],a.bx=j(y[w-4])||a.x,a.by=j(y[w-3])||a.y,c.bx=o&&(j(b[x-4])||c.x),c.by=o&&(j(b[x-3])||c.y),c.x=o&&b[x-2],c.y=o&&b[x-1]}return o||(n.curve=s(i)),o?[i,o]:i}function R(e,t){if(!t)return e;var n,i,r,o,a,s,c;for(e=P(e),r=0,a=e.length;a>r;r++)for(c=e[r],o=1,s=c.length;s>o;o+=2)n=t.x(c[o],c[o+1]),i=t.y(c[o],c[o+1]),c[o]=n,c[o+1]=i;return e}function O(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?r-4==i?o[3]={x:+e[0],y:+e[1]}:r-2==i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var M=t.prototype,$=e.is,L=e._.clone,F="hasOwnProperty",B=/,?([a-z]),?/gi,j=parseFloat,V=Math,U=V.PI,q=V.min,z=V.max,Y=V.pow,G=V.abs,H=l(1),W=l(),X=l(0,1),K=e._unit2px,Q={path:function(e){return e.attr("path")},circle:function(e){var t=K(e);return T(t.cx,t.cy,t.r)},ellipse:function(e){var t=K(e);return T(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=K(e);return C(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=K(e);return C(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return C(t.x,t.y,t.width,t.height)}};e.path=r,e.path.getTotalLength=H,e.path.getPointAtLength=W,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return X(e,t).end;var i=X(e,n,1);return t?X(i,t).end:i},M.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},M.getPointAtLength=function(e){return W(this.attr("d"),e)},M.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=o,e.path.findDotsAtSegment=u,e.path.bezierBBox=p,e.path.isPointInsideBBox=d,e.path.isBBoxIntersect=f,e.path.intersection=b,e.path.intersectionNumber=w,e.path.isPointInside=_,e.path.getBBox=E,e.path.get=Q,e.path.toRelative=A,e.path.toAbsolute=S,e.path.toCubic=P,e.path.map=R,e.path.toString=a,e.path.clone=s}),i.plugin(function(e,n,i,r){for(var o=n.prototype,a="hasOwnProperty",s=("createTouch"in r.doc),c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=(function(e,t){var n="y"==e?"scrollTop":"scrollLeft",i=t&&t.node?t.node.ownerDocument:r.doc;return i[n in i.documentElement?"documentElement":"body"][n]}),p=function(){this.returnValue=!1},d=function(){return this.originalEvent.preventDefault()},f=function(){this.cancelBubble=!0},h=function(){return this.originalEvent.stopPropagation()},m=function(){return r.doc.addEventListener?function(e,t,n,i){var r=s&&l[t]?l[t]:t,o=function(r){var o=u("y",i),c=u("x",i);if(s&&l[a](t))for(var p=0,f=r.targetTouches&&r.targetTouches.length;f>p;p++)if(r.targetTouches[p].target==e||e.contains(r.targetTouches[p].target)){var m=r;r=r.targetTouches[p],r.originalEvent=m,r.preventDefault=d,r.stopPropagation=h;break}var g=r.clientX+c,v=r.clientY+o;return n.call(i,r,g,v)};return t!==r&&e.addEventListener(t,o,!1),e.addEventListener(r,o,!1),function(){return t!==r&&e.removeEventListener(t,o,!1),e.removeEventListener(r,o,!1),!0}}:r.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||i.node.ownerDocument.window.event;var t=u("y",i),r=u("x",i),o=e.clientX+r,a=e.clientY+t;return e.preventDefault=e.preventDefault||p,e.stopPropagation=e.stopPropagation||f,n.call(i,e,o,a)};e.attachEvent("on"+t,r);var o=function(){return e.detachEvent("on"+t,r),!0};return o}:void 0}(),g=[],v=function(e){for(var n,i=e.clientX,r=e.clientY,o=u("y"),a=u("x"),c=g.length;c--;){if(n=g[c],s){for(var l,p=e.touches&&e.touches.length;p--;)if(l=e.touches[p],l.identifier==n.el._drag.id||n.el.node.contains(l.target)){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d=n.el.node;d.nextSibling,d.parentNode,d.style.display;i+=a,r+=o,t("snap.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},y=function(n){e.unmousemove(v).unmouseup(y);for(var i,r=g.length;r--;)i=g[r],i.el._drag={},t("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);g=[]},b=c.length;b--;)!function(t){e[t]=o[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:m(this.node||document,t,n,i||this)})),this},e["un"+t]=o["un"+t]=function(e){for(var n=this.events||[],i=n.length;i--;)if(n[i].name==t&&(n[i].f==e||!e))return n[i].unbind(),n.splice(i,1),!n.length&&delete this.events,this;return this}}(c[b]);o.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},o.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var w=[];o.drag=function(n,i,r,o,a,s){function c(c,l,u){(c.originalEvent||c).preventDefault(),this._drag.x=l,this._drag.y=u,this._drag.id=c.identifier,!g.length&&e.mousemove(v).mouseup(y),g.push({el:this,move_scope:o,start_scope:a,end_scope:s}),i&&t.on("snap.drag.start."+this.id,i),n&&t.on("snap.drag.move."+this.id,n),r&&t.on("snap.drag.end."+this.id,r),t("snap.drag.start."+this.id,a||o||this,l,u,c)}if(!arguments.length){var l;return this.drag(function(e,t){this.attr({transform:l+(l?"T":"t")+[e,t]})},function(){l=this.transform().local})}return this._drag={},w.push({el:this,start:c}),this.mousedown(c),this},o.undrag=function(){for(var n=w.length;n--;)w[n].el==this&&(this.unmousedown(w[n].start),w.splice(n,1),t.unbind("snap.drag.*."+this.id));return!w.length&&e.unmousemove(v).unmouseup(y),this}}),i.plugin(function(e,n,i,r){var o=(n.prototype,i.prototype),a=/^\s*url\((.+)\)/,s=String,c=e._.$;e.filter={},o.filter=function(t){var i=this;"svg"!=i.type&&(i=i.paper);var r=e.parse(s(t)),o=e._.id(),a=(i.node.offsetWidth,i.node.offsetHeight,c("filter"));return c(a,{id:o,filterUnits:"userSpaceOnUse"}),a.appendChild(r.node),i.defs.appendChild(a),new n(a)},t.on("snap.util.getattr.filter",function(){t.stop();var n=c(this.node,"filter");if(n){var i=s(n).match(a);return i&&e.select(i[1])}}),t.on("snap.util.attr.filter",function(i){if(i instanceof n&&"filter"==i.type){t.stop();var r=i.node.id;r||(c(i.node,{id:i.id}),r=i.id),c(this.node,{filter:e.url(r)})}i&&"none"!=i||(t.stop(),this.node.removeAttribute("filter"))}),e.filter.blur=function(t,n){null==t&&(t=2);var i=null==n?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,i,r,o){return"string"==typeof i&&(r=i,o=r,i=4),"string"!=typeof r&&(o=r,r="#000"),r=r||"#000",null==i&&(i=4),null==o&&(o=1),null==t&&(t=0,n=2),null==n&&(n=t),r=e.color(r),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:t,dy:n,blur:i,opacity:o})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),i})},{69:69}],71:[function(e,t,n){"use strict";var i=t.exports=e(70);i.plugin(function(e,t){t.prototype.children=function(){for(var t=[],n=this.node.childNodes,i=0,r=n.length;r>i;i++)t[i]=new e(n[i]);return t}}),i.plugin(function(e,t,n,i){function r(e){return e.split(/\s+/)}function o(e){return e.join(" ")}function a(e){return r(e.attr("class")||"")}function s(e,t){e.attr("class",o(t))}t.prototype.addClass=function(e){var t,n,i=a(this),o=r(e);for(t=0,n;n=o[t];t++)-1===i.indexOf(n)&&i.push(n);return s(this,i),this},t.prototype.hasClass=function(e){if(!e)throw new Error("[snapsvg] syntax: hasClass(clsStr)");return-1!==a(this).indexOf(e)},t.prototype.removeClass=function(e){var t,n,i,o=a(this),c=r(e);for(t=0,n;n=c[t];t++)i=o.indexOf(n),-1!==i&&o.splice(i,1);return s(this,o),this}}),i.plugin(function(e,t,n,i){t.prototype.translate=function(t,n){var i=new e.Matrix;return i.translate(t,n),this.transform(i)}}),i.plugin(function(e){e.create=function(t,n){return e._.wrap(e._.$(t,n))}}),i.plugin(function(e,t,n,i){e.createSnapAt=function(t,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("width",t),r.setAttribute("height",n),i||(i=document.body),i.appendChild(r),new e(r)}})},{70:70}],72:[function(e,t,n){var i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(){var e=Array.prototype.slice.call(arguments);1===e.length&&i(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t},o=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,a=/\/\*([^\*]*)\*\//m,s=function(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(o);return t[1]&&t[1].split(",").map(function(e){return t=e.match(a),t?t[1].trim():e.trim()})||[]};n.annotate=r,n.parse=s,n.isArray=i},{}],73:[function(e,t,n){t.exports={annotate:e(72).annotate,Module:e(75),Injector:e(74)}},{72:72,74:74,75:75}],74:[function(e,t,n){var i=e(75),r=e(72).parse,o=e(72).annotate,a=e(72).isArray,s=function(e,t){t=t||{get:function(e){throw n.push(e),p('No provider for "'+e+'"!')}};var n=[],c=this._providers=Object.create(t._providers||null),l=this._instances=Object.create(null),u=l.injector=this,p=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},d=function(e){if(!c[e]&&-1!==e.indexOf(".")){for(var i=e.split("."),r=d(i.shift());i.length;)r=r[i.shift()];return r}if(Object.hasOwnProperty.call(l,e))return l[e];if(Object.hasOwnProperty.call(c,e)){if(-1!==n.indexOf(e))throw n.push(e),p("Cannot resolve circular dependency!");return n.push(e),l[e]=c[e][0](c[e][1]),n.pop(),l[e]}return t.get(e)},f=function(e){var t=Object.create(e.prototype),n=h(e,t);return"object"==typeof n?n:t},h=function(e,t){if("function"!=typeof e){if(!a(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=o(e.slice())}var n=e.$inject&&e.$inject||r(e),i=n.map(function(e){return d(e)});return e.apply(t,i)},m=function(e){return o(function(t){return e.get(t)})},g=function(e,t){if(t&&t.length){var n,i,r,o,a=Object.create(null),l=Object.create(null),p=[],d=[],f=[];for(var h in c)n=c[h],-1!==t.indexOf(h)&&("private"===n[2]?(i=p.indexOf(n[3]),-1===i?(r=n[3].createChild([],t),o=m(r),p.push(n[3]),d.push(r),f.push(o),a[h]=[o,h,"private",r]):a[h]=[f[i],h,"private",d[i]]):a[h]=[n[2],n[1]],l[h]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(a[h]=[n[2],n[1]],l[e]=!0)});t.forEach(function(e){if(!l[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(a)}return new s(e,u)},v={factory:h,type:f,value:function(e){return e}};e.forEach(function(e){function t(e,t){return"value"!==e&&a(t)&&(t=o(t.slice())),t}if(e instanceof i)e.forEach(function(e){var n=e[0],i=e[1],r=e[2];c[n]=[v[i],t(i,r),i]});else if("object"==typeof e)if(e.__exports__){var n=Object.keys(e).reduce(function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t},Object.create(null)),r=new s((e.__modules__||[]).concat([n]),u),l=o(function(e){return r.get(e)});e.__exports__.forEach(function(e){c[e]=[l,e,"private",r]})}else Object.keys(e).forEach(function(n){if("private"===e[n][2])return void(c[n]=e[n]);var i=e[n][0],r=e[n][1];c[n]=[v[i],t(i,r),i]})}),this.get=d,this.invoke=h,this.instantiate=f,this.createChild=g};t.exports=s},{72:72,75:75}],75:[function(e,t,n){var i=function(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}};t.exports=i},{}],76:[function(e,t,n){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=i},{}],77:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return n&&c(e,t,n)&&(t=void 0),("function"!=typeof t||void 0!==n)&&(t=o(t,n,3)),i(e,t)}var r=e(93),o=e(101),a=e(106),s=e(162),c=e(151);t.exports=i},{101:101,106:106,151:151,162:162,93:93}],78:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return t=o(t,n,3),i(e,t)}var r=e(94),o=e(101),a=e(107),s=e(162);t.exports=i},{101:101,107:107,162:162,94:94}],79:[function(e,t,n){var i=e(105),r=e(139),o=r(i);t.exports=o},{105:105,139:139}],80:[function(e,t,n){var i=e(92),r=e(105),o=e(140),a=o(i,r);t.exports=a},{105:105,140:140,92:92}],81:[function(e,t,n){var i=e(134),r=Object.prototype,o=r.hasOwnProperty,a=i(function(e,t,n){o.call(e,n)?e[n].push(t):e[n]=[t]});t.exports=a},{134:134}],82:[function(e,t,n){function i(e,t,n,i){var d=e?o(e):0;return c(d)||(e=u(e),d=e.length),n="number"!=typeof n||i&&s(t,n,i)?0:0>n?p(d+n,0):n||0,"string"==typeof e||!a(e)&&l(e)?d>=n&&e.indexOf(t,n)>-1:!!d&&r(e,t,n)>-1}var r=e(115),o=e(145),a=e(162),s=e(151),c=e(153),l=e(168),u=e(178),p=Math.max;t.exports=i},{115:115,145:145,151:151,153:153,162:162,168:168,178:178}],83:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return t=o(t,n,3),i(e,t)}var r=e(95),o=e(101),a=e(119),s=e(162);t.exports=i},{101:101,119:119,162:162,95:95}],84:[function(e,t,n){var i=e(97),r=e(105),o=e(141),a=o(i,r);t.exports=a},{105:105,141:141,97:97}],85:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return n&&c(e,t,n)&&(t=void 0),("function"!=typeof t||void 0!==n)&&(t=o(t,n,3)),i(e,t)}var r=e(98),o=e(101),a=e(128),s=e(162),c=e(151);t.exports=i},{101:101,128:128,151:151,162:162,98:98}],86:[function(e,t,n){var i=e(147),r=i(Date,"now"),o=r||function(){return(new Date).getTime()};t.exports=o},{147:147}],87:[function(e,t,n){function i(e,t,n){function i(){v&&clearTimeout(v),f&&clearTimeout(f),b=0,f=v=y=void 0}function c(t,n){n&&clearTimeout(n),f=v=y=void 0,t&&(b=o(),h=e.apply(g,d),v||f||(d=g=void 0))}function l(){var e=t-(o()-m);0>=e||e>t?c(y,f):v=setTimeout(l,e)}function u(){c(x,v)}function p(){if(d=arguments,m=o(),g=this,y=x&&(v||!_),w===!1)var n=_&&!v;else{f||_||(b=m);var i=w-(m-b),r=0>=i||i>w;r?(f&&(f=clearTimeout(f)),b=m,h=e.apply(g,d)):f||(f=setTimeout(u,i))}return r&&v?v=clearTimeout(v):v||t===w||(v=setTimeout(l,t)),n&&(r=!0,h=e.apply(g,d)),!r||v||f||(d=g=void 0),h}var d,f,h,m,g,v,y,b=0,w=!1,x=!0;if("function"!=typeof e)throw new TypeError(a);if(t=0>t?0:+t||0,n===!0){var _=!0;x=!1}else r(n)&&(_=!!n.leading,w="maxWait"in n&&s(+n.maxWait||0,t),x="trailing"in n?!!n.trailing:x);return p.cancel=i,p}var r=e(166),o=e(86),a="Expected a function",s=Math.max;t.exports=i},{166:166,86:86}],88:[function(e,t,n){var i=e(103),r=e(89),o=r(function(e,t){return i(e,1,t)});t.exports=o},{103:103,89:89}],89:[function(e,t,n){function i(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=o(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=a,e.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=i},{}],90:[function(e,t,n){(function(n){function i(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var r=e(133),o=e(147),a=o(n,"Set"),s=o(Object,"create");i.prototype.push=r,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{133:133,147:147}],91:[function(e,t,n){function i(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=i},{}],92:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],93:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}t.exports=i},{}],94:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[++r]=a)}return o}t.exports=i},{}],95:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}t.exports=i},{}],96:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}t.exports=i},{}],97:[function(e,t,n){function i(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}t.exports=i},{}],98:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}t.exports=i},{}],99:[function(e,t,n){function i(e,t,n){for(var i=-1,o=r(t),a=o.length;++i<a;){var s=o[i],c=e[s],l=n(c,t[s],s,e,t);(l===l?l===c:c!==c)&&(void 0!==c||s in e)||(e[s]=l)}return e}var r=e(172);t.exports=i},{172:172}],100:[function(e,t,n){function i(e,t){return null==t?e:r(t,o(t),e)}var r=e(102),o=e(172);t.exports=i},{102:102,172:172}],101:[function(e,t,n){function i(e,t,n){var i=typeof e;return"function"==i?void 0===t?e:a(e,t,n):null==e?s:"object"==i?r(e):void 0===t?c(e):o(e,t)}var r=e(120),o=e(121),a=e(131),s=e(179),c=e(180);t.exports=i},{120:120,121:121,131:131,179:179,180:180}],102:[function(e,t,n){function i(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}t.exports=i},{}],103:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}var r="Expected a function";t.exports=i},{}],104:[function(e,t,n){function i(e,t){var n=e?e.length:0,i=[];if(!n)return i;var c=-1,l=r,u=!0,p=u&&t.length>=s?a(t):null,d=t.length;p&&(l=o,u=!1,t=p);e:for(;++c<n;){var f=e[c];if(u&&f===f){for(var h=d;h--;)if(t[h]===f)continue e;i.push(f)}else l(t,f,0)<0&&i.push(f)}return i}var r=e(115),o=e(132),a=e(138),s=200;t.exports=i},{115:115,132:132,138:138}],105:[function(e,t,n){var i=e(113),r=e(136),o=r(i);t.exports=o},{113:113,136:136}],106:[function(e,t,n){function i(e,t){var n=!0;return r(e,function(e,i,r){return n=!!t(e,i,r)}),n}var r=e(105);t.exports=i},{105:105}],107:[function(e,t,n){function i(e,t){var n=[];return r(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}var r=e(105);t.exports=i},{105:105}],108:[function(e,t,n){function i(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}t.exports=i},{}],109:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}t.exports=i},{}],110:[function(e,t,n){function i(e,t,n,l){l||(l=[]);for(var u=-1,p=e.length;++u<p;){var d=e[u];c(d)&&s(d)&&(n||a(d)||o(d))?t?i(d,t,n,l):r(l,d):n||(l[l.length]=d)}return l}var r=e(96),o=e(161),a=e(162),s=e(149),c=e(154);t.exports=i},{149:149,154:154,161:161,162:162,96:96}],111:[function(e,t,n){var i=e(137),r=i();t.exports=r},{137:137}],112:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e(111),o=e(173);t.exports=i},{111:111,173:173}],113:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e(111),o=e(172);t.exports=i},{111:111,172:172}],114:[function(e,t,n){function i(e,t,n){if(null!=e){void 0!==n&&n in r(e)&&(t=[n]);for(var i=0,o=t.length;null!=e&&o>i;)e=e[t[i++]];return i&&i==o?e:void 0}}var r=e(159);t.exports=i},{159:159}],115:[function(e,t,n){function i(e,t,n){if(t!==t)return r(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}var r=e(148);t.exports=i},{148:148}],116:[function(e,t,n){function i(e,t,n,s,c,l){return e===t?!0:null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:r(e,t,i,n,s,c,l)}var r=e(117),o=e(166),a=e(154);t.exports=i},{117:117,154:154,166:166}],117:[function(e,t,n){function i(e,t,n,i,d,m,g){var v=s(e),y=s(t),b=u,w=u;v||(b=h.call(e),b==l?b=p:b!=p&&(v=c(e))),y||(w=h.call(t),w==l?w=p:w!=p&&(y=c(t)));var x=b==p,_=w==p,E=b==w;if(E&&!v&&!x)return o(e,t,b);if(!d){var C=x&&f.call(e,"__wrapped__"),T=_&&f.call(t,"__wrapped__");if(C||T)return n(C?e.value():e,T?t.value():t,i,d,m,g)}if(!E)return!1;m||(m=[]),g||(g=[]);for(var A=m.length;A--;)if(m[A]==e)return g[A]==t;m.push(e),g.push(t);var S=(v?r:a)(e,t,n,i,d,m,g);return m.pop(),g.pop(),S}var r=e(142),o=e(143),a=e(144),s=e(162),c=e(169),l="[object Arguments]",u="[object Array]",p="[object Object]",d=Object.prototype,f=d.hasOwnProperty,h=d.toString;t.exports=i},{142:142,143:143,144:144,162:162,169:169}],118:[function(e,t,n){function i(e,t,n){var i=t.length,a=i,s=!n;if(null==e)return!a;for(e=o(e);i--;){var c=t[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){c=t[i];var l=c[0],u=e[l],p=c[1];if(s&&c[2]){if(void 0===u&&!(l in e))return!1}else{var d=n?n(u,p,l):void 0;if(!(void 0===d?r(p,u,n,!0):d))return!1}}return!0}var r=e(116),o=e(159);t.exports=i},{116:116,159:159}],119:[function(e,t,n){function i(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}var r=e(105),o=e(149);t.exports=i},{105:105,149:149}],120:[function(e,t,n){function i(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(void 0!==i||n in a(e))}}return function(e){return r(e,t)}}var r=e(118),o=e(146),a=e(159);t.exports=i},{118:118,146:146,159:159}],121:[function(e,t,n){function i(e,t){var n=s(e),i=c(e)&&l(t),f=e+"";return e=d(e),function(s){if(null==s)return!1;var c=f;if(s=p(s),(n||!i)&&!(c in s)){if(s=1==e.length?s:r(s,a(e,0,-1)),null==s)return!1;c=u(e),s=p(s)}return s[c]===t?void 0!==t||c in s:o(t,s[c],void 0,!0)}}var r=e(114),o=e(116),a=e(127),s=e(162),c=e(152),l=e(155),u=e(76),p=e(159),d=e(160);t.exports=i},{114:114,116:116,127:127,152:152,155:155,159:159,160:160,162:162,76:76}],122:[function(e,t,n){function i(e,t,n,d,f){if(!c(e))return e;var h=s(t)&&(a(t)||u(t)),m=h?void 0:p(t);return r(m||t,function(r,a){if(m&&(a=r,r=t[a]),l(r))d||(d=[]),f||(f=[]),o(e,t,a,i,n,d,f);else{var s=e[a],c=n?n(s,r,a,e,t):void 0,u=void 0===c;u&&(c=r),void 0===c&&(!h||a in e)||!u&&(c===c?c===s:s!==s)||(e[a]=c)}}),e}var r=e(92),o=e(123),a=e(162),s=e(149),c=e(166),l=e(154),u=e(169),p=e(172);t.exports=i},{123:123,149:149,154:154,162:162,166:166,169:169,172:172,92:92}],123:[function(e,t,n){function i(e,t,n,i,p,d,f){for(var h=d.length,m=t[n];h--;)if(d[h]==m)return void(e[n]=f[h]);var g=e[n],v=p?p(g,m,n,e,t):void 0,y=void 0===v;y&&(v=m,s(m)&&(a(m)||l(m))?v=a(g)?g:s(g)?r(g):[]:c(m)||o(m)?v=o(g)?u(g):c(g)?g:{}:y=!1),d.push(m),f.push(v),y?e[n]=i(v,m,p,d,f):(v===v?v!==g:g===g)&&(e[n]=v)}var r=e(91),o=e(161),a=e(162),s=e(149),c=e(167),l=e(169),u=e(170);t.exports=i},{149:149,161:161,162:162,167:167,169:169,170:170,91:91}],124:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],125:[function(e,t,n){function i(e){var t=e+"";return e=o(e),function(n){return r(n,e,t)}}var r=e(114),o=e(160);t.exports=i},{114:114,160:160}],126:[function(e,t,n){function i(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}t.exports=i},{}],127:[function(e,t,n){function i(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n=void 0===n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}t.exports=i},{}],128:[function(e,t,n){function i(e,t){var n;return r(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}var r=e(105);t.exports=i},{105:105}],129:[function(e,t,n){function i(e){return null==e?"":e+""}t.exports=i},{}],130:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=Array(i);++n<i;)r[n]=e[t[n]];return r}t.exports=i},{}],131:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,a){return e.call(t,n,i,r,o,a)}}return function(){return e.apply(t,arguments)}}var r=e(179);t.exports=i},{179:179}],132:[function(e,t,n){function i(e,t){var n=e.data,i="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return i?0:-1}var r=e(166);t.exports=i},{166:166}],133:[function(e,t,n){function i(e){var t=this.data;"string"==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=e(166);t.exports=i},{166:166}],134:[function(e,t,n){function i(e,t){return function(n,i,s){var c=t?t():{};if(i=r(i,s,3),a(n))for(var l=-1,u=n.length;++l<u;){var p=n[l];e(c,p,i(p,l,n),n)}else o(n,function(t,n,r){e(c,t,i(t,n,r),r)});return c}}var r=e(101),o=e(105),a=e(162);t.exports=i},{101:101,105:105,162:162}],135:[function(e,t,n){function i(e){return a(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,c=a>2?n[2]:void 0,l=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),c&&o(n[0],n[1],c)&&(s=3>a?void 0:s,a=1);++i<a;){var u=n[i];u&&e(t,u,s)}return t})}var r=e(131),o=e(151),a=e(89);t.exports=i},{131:131,151:151,89:89}],136:[function(e,t,n){function i(e,t){return function(n,i){var s=n?r(n):0;if(!o(s))return e(n,i);for(var c=t?s:-1,l=a(n);(t?c--:++c<s)&&i(l[c],c,l)!==!1;);return n}}var r=e(145),o=e(153),a=e(159);t.exports=i},{145:145,153:153,159:159}],137:[function(e,t,n){function i(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,c=e?s:-1;e?c--:++c<s;){var l=a[c];if(n(o[l],l,o)===!1)break}return t}}var r=e(159);t.exports=i},{159:159}],138:[function(e,t,n){(function(n){function i(e){return s&&a?new r(e):null}var r=e(90),o=e(147),a=o(n,"Set"),s=o(Object,"create");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{147:147,90:90}],139:[function(e,t,n){function i(e,t){return function(n,i,c){if(i=r(i,c,3),s(n)){var l=a(n,i,t);return l>-1?n[l]:void 0}return o(n,i,e)}}var r=e(101),o=e(108),a=e(109),s=e(162);t.exports=i},{101:101,108:108,109:109,162:162}],140:[function(e,t,n){function i(e,t){return function(n,i,a){return"function"==typeof i&&void 0===a&&o(n)?e(n,i):t(n,r(i,a,3))}}var r=e(131),o=e(162);t.exports=i},{131:131,162:162}],141:[function(e,t,n){function i(e,t){return function(n,i,s,c){var l=arguments.length<3;return"function"==typeof i&&void 0===c&&a(n)?e(n,i,s,l):o(n,r(i,c,4),s,l,t)}}var r=e(101),o=e(126),a=e(162);t.exports=i},{101:101,126:126,162:162}],142:[function(e,t,n){function i(e,t,n,i,o,a,s){var c=-1,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;for(;++c<l;){var p=e[c],d=t[c],f=i?i(o?d:p,o?p:d,c):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!r(t,function(e){return p===e||n(p,e,i,o,a,s)}))return!1}else if(p!==d&&!n(p,d,i,o,a,s))return!1}return!0}var r=e(98);t.exports=i},{98:98}],143:[function(e,t,n){function i(e,t,n){switch(n){case r:case o:return+e==+t;case a:return e.name==t.name&&e.message==t.message;case s:return e!=+e?t!=+t:e==+t;case c:case l:return e==t+""}return!1}var r="[object Boolean]",o="[object Date]",a="[object Error]",s="[object Number]",c="[object RegExp]",l="[object String]";t.exports=i},{}],144:[function(e,t,n){function i(e,t,n,i,o,s,c){var l=r(e),u=l.length,p=r(t),d=p.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var h=l[f];if(!(o?h in t:a.call(t,h)))return!1}for(var m=o;++f<u;){h=l[f];var g=e[h],v=t[h],y=i?i(o?v:g,o?g:v,h):void 0;if(!(void 0===y?n(g,v,i,o,s,c):y))return!1;m||(m="constructor"==h)}if(!m){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1;
}return!0}var r=e(172),o=Object.prototype,a=o.hasOwnProperty;t.exports=i},{172:172}],145:[function(e,t,n){var i=e(124),r=i("length");t.exports=r},{124:124}],146:[function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;)t[n][2]=r(t[n][1]);return t}var r=e(155),o=e(176);t.exports=i},{155:155,176:176}],147:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e(164);t.exports=i},{164:164}],148:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}t.exports=i},{}],149:[function(e,t,n){function i(e){return null!=e&&o(r(e))}var r=e(145),o=e(153);t.exports=i},{145:145,153:153}],150:[function(e,t,n){function i(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,o=9007199254740991;t.exports=i},{}],151:[function(e,t,n){function i(e,t,n){if(!a(n))return!1;var i=typeof t;if("number"==i?r(n)&&o(t,n.length):"string"==i&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e(149),o=e(150),a=e(166);t.exports=i},{149:149,150:150,166:166}],152:[function(e,t,n){function i(e,t){var n=typeof e;if("string"==n&&s.test(e)||"number"==n)return!0;if(r(e))return!1;var i=!a.test(e);return i||null!=t&&e in o(t)}var r=e(162),o=e(159),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=i},{159:159,162:162}],153:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;t.exports=i},{}],154:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],155:[function(e,t,n){function i(e){return e===e&&!r(e)}var r=e(166);t.exports=i},{166:166}],156:[function(e,t,n){function i(e,t){e=r(e);for(var n=-1,i=t.length,o={};++n<i;){var a=t[n];a in e&&(o[a]=e[a])}return o}var r=e(159);t.exports=i},{159:159}],157:[function(e,t,n){function i(e,t){var n={};return r(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}var r=e(112);t.exports=i},{112:112}],158:[function(e,t,n){function i(e){for(var t=c(e),n=t.length,i=n&&e.length,l=!!i&&s(i)&&(o(e)||r(e)),p=-1,d=[];++p<n;){var f=t[p];(l&&a(f,i)||u.call(e,f))&&d.push(f)}return d}var r=e(161),o=e(162),a=e(150),s=e(153),c=e(173),l=Object.prototype,u=l.hasOwnProperty;t.exports=i},{150:150,153:153,161:161,162:162,173:173}],159:[function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=e(166);t.exports=i},{166:166}],160:[function(e,t,n){function i(e){if(o(e))return e;var t=[];return r(e).replace(a,function(e,n,i,r){t.push(i?r.replace(s,"$1"):n||e)}),t}var r=e(129),o=e(162),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=i},{129:129,162:162}],161:[function(e,t,n){function i(e){return o(e)&&r(e)&&s.call(e,"callee")&&!c.call(e,"callee")}var r=e(149),o=e(154),a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable;t.exports=i},{149:149,154:154}],162:[function(e,t,n){var i=e(147),r=e(153),o=e(154),a="[object Array]",s=Object.prototype,c=s.toString,l=i(Array,"isArray"),u=l||function(e){return o(e)&&r(e.length)&&c.call(e)==a};t.exports=u},{147:147,153:153,154:154}],163:[function(e,t,n){function i(e){return r(e)&&s.call(e)==o}var r=e(166),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=i},{166:166}],164:[function(e,t,n){function i(e){return null==e?!1:r(e)?u.test(c.call(e)):o(e)&&a.test(e)}var r=e(163),o=e(154),a=/^\[object .+?Constructor\]$/,s=Object.prototype,c=Function.prototype.toString,l=s.hasOwnProperty,u=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{154:154,163:163}],165:[function(e,t,n){function i(e){return"number"==typeof e||r(e)&&s.call(e)==o}var r=e(154),o="[object Number]",a=Object.prototype,s=a.toString;t.exports=i},{154:154}],166:[function(e,t,n){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],167:[function(e,t,n){function i(e){var t;if(!a(e)||u.call(e)!=s||o(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return r(e,function(e,t){n=t}),void 0===n||l.call(e,n)}var r=e(112),o=e(161),a=e(154),s="[object Object]",c=Object.prototype,l=c.hasOwnProperty,u=c.toString;t.exports=i},{112:112,154:154,161:161}],168:[function(e,t,n){function i(e){return"string"==typeof e||r(e)&&s.call(e)==o}var r=e(154),o="[object String]",a=Object.prototype,s=a.toString;t.exports=i},{154:154}],169:[function(e,t,n){function i(e){return o(e)&&r(e.length)&&!!D[N.call(e)]}var r=e(153),o=e(154),a="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",p="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]",D={};D[w]=D[x]=D[_]=D[E]=D[C]=D[T]=D[A]=D[S]=D[k]=!0,D[a]=D[s]=D[b]=D[c]=D[l]=D[u]=D[p]=D[d]=D[f]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var I=Object.prototype,N=I.toString;t.exports=i},{153:153,154:154}],170:[function(e,t,n){function i(e){return r(e,o(e))}var r=e(102),o=e(173);t.exports=i},{102:102,173:173}],171:[function(e,t,n){var i=e(99),r=e(100),o=e(135),a=o(function(e,t,n){return n?i(e,t,n):r(e,t)});t.exports=a},{100:100,135:135,99:99}],172:[function(e,t,n){var i=e(147),r=e(149),o=e(166),a=e(158),s=i(Object,"keys"),c=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):o(e)?s(e):[]}:a;t.exports=c},{147:147,149:149,158:158,166:166}],173:[function(e,t,n){function i(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||r(e))&&t||0;for(var n=e.constructor,i=-1,l="function"==typeof n&&n.prototype===e,p=Array(t),d=t>0;++i<t;)p[i]=i+"";for(var f in e)d&&a(f,t)||"constructor"==f&&(l||!u.call(e,f))||p.push(f);return p}var r=e(161),o=e(162),a=e(150),s=e(153),c=e(166),l=Object.prototype,u=l.hasOwnProperty;t.exports=i},{150:150,153:153,161:161,162:162,166:166}],174:[function(e,t,n){var i=e(122),r=e(135),o=r(i);t.exports=o},{122:122,135:135}],175:[function(e,t,n){var i=e(95),r=e(104),o=e(110),a=e(131),s=e(173),c=e(156),l=e(157),u=e(89),p=u(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=i(o(t),String);return c(e,r(s(e),t))}var n=a(t[0],t[1],3);return l(e,function(e,t,i){return!n(e,t,i)})});t.exports=p},{104:104,110:110,131:131,156:156,157:157,173:173,89:89,95:95}],176:[function(e,t,n){function i(e){e=o(e);for(var t=-1,n=r(e),i=n.length,a=Array(i);++t<i;){var s=n[t];a[t]=[s,e[s]]}return a}var r=e(172),o=e(159);t.exports=i},{159:159,172:172}],177:[function(e,t,n){var i=e(110),r=e(131),o=e(156),a=e(157),s=e(89),c=s(function(e,t){return null==e?{}:"function"==typeof t[0]?a(e,r(t[0],t[1],3)):o(e,i(t))});t.exports=c},{110:110,131:131,156:156,157:157,89:89}],178:[function(e,t,n){function i(e){return r(e,o(e))}var r=e(130),o=e(172);t.exports=i},{130:130,172:172}],179:[function(e,t,n){function i(e){return e}t.exports=i},{}],180:[function(e,t,n){function i(e){return a(e)?r(e):o(e)}var r=e(124),o=e(125),a=e(152);t.exports=i},{124:124,125:125,152:152}],181:[function(e,t,n){t.exports=e(188)},{188:188}],182:[function(e,t,n){t.exports=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}},{}],183:[function(e,t,n){t.exports=e(191)},{191:191}],184:[function(e,t,n){t.exports=e(195)},{195:195}],185:[function(e,t,n){t.exports=e(192)},{192:192}],186:[function(e,t,n){t.exports=e(194)},{194:194}],187:[function(e,t,n){t.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{}],188:[function(e,t,n){function i(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var r=e(189),o=/\s+/,a=Object.prototype.toString;t.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},i.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),n=t.split(o);return""===n[0]&&n.shift(),n},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},{189:189}],189:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],190:[function(e,t,n){var i=e(193);t.exports=function(e,t,n,r){for(e=n?{parentNode:e}:e,r=r||document;(e=e.parentNode)&&e!==document;){if(i(e,t))return e;if(e===r)return}}},{193:193}],191:[function(e,t,n){var i=e(190),r=e(192);n.bind=function(e,t,n,o,a){return r.bind(e,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&o.call(e,n)},a)},n.unbind=function(e,t,n,i){r.unbind(e,t,n,i)}},{190:190,192:192}],192:[function(e,t,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";n.bind=function(e,t,n,r){return e[i](o+t,n,r||!1),n},n.unbind=function(e,t,n,i){return e[r](o+t,n,i||!1),n}},{}],193:[function(e,t,n){function i(e,t){if(!e||1!==e.nodeType)return!1;if(a)return a.call(e,t);for(var n=r.all(t,e.parentNode),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}var r=e(194),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;t.exports=i},{194:194}],194:[function(e,t,n){function i(e,t){return t.querySelector(e)}n=t.exports=function(e,t){return t=t||document,i(e,t)},n.all=function(e,t){return t=t||document,t.querySelectorAll(e)},n.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return i=e.one,n.all=e.all,n}},{}],195:[function(e,t,n){function i(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var r=t.createElement("html");return r.innerHTML=e,r.removeChild(r.lastChild)}var o=a[i]||a._default,s=o[0],c=o[1],l=o[2],r=t.createElement("div");for(r.innerHTML=c+e+l;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var u=t.createDocumentFragment();r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u}t.exports=i;var r,o=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!r.getElementsByTagName("link").length,r=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],196:[function(e,t,n){t.exports=e(198),t.exports.Collection=e(197)},{197:197,198:198}],197:[function(e,t,n){"use strict";function i(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e){this.contains(e)||(this.push(e),t.set(e,r,i))}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function r(e){return e.__refs_collection===!0}t.exports.extend=i,t.exports.isExtended=r},{}],198:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function r(e,t,n){Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:s.extend(n[t.name]||[],e,t,n)})}function o(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r;r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}function a(e,t){return this instanceof a?(e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,void(this.props[t.name]=t)):new a(e,t)}var s=e(197);a.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):o(this,t,e)},a.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return s.isExtended(n)||r(this,t,e),n},a.prototype.ensureBound=function(e,t){i(e,t)||this.bind(e,t)},a.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},a.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},t.exports=a},{197:197}]},{},[1])(1)}),define("text!camunda-commons-ui/widgets/bpmn-viewer/cam-widget-bpmn-viewer.html",[],function(){return'<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>Could not render diagram:</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      Loading diagram<br />\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n'}),define("camunda-commons-ui/widgets/bpmn-viewer/cam-widget-bpmn-viewer",["angular","bpmn-io","text!./cam-widget-bpmn-viewer.html"],function(e,t,n){"use strict";return["$compile","$location","$rootScope","search",function(e,i,r,o){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:n,link:function(n,a){function s(){if(f){n.loaded=!1;var e="object"==typeof f,t=(e?d.importDefinitions:d.importXML).bind(d);t(f,function(t,i){var r=e?function(e){e()}:n.$apply.bind(n);r(function(){return t?void(n.error=t):(n.warn=i,h=d.get("canvas"),u=d.definitions,c(),l(),n.loaded=!0,void n.onLoad())})})}}function c(){if(h){var e=JSON.parse((i.search()||{}).viewbox||"{}")[u.id];e?h.viewbox(e):h.zoom("fit-viewport","auto")}}function l(){var e=d.get("eventBus");e.on("element.click",function(e){n.onClick({element:e.element,$event:e.originalEvent})}),e.on("element.hover",function(e){n.onMouseEnter({element:e.element,$event:e.originalEvent})}),e.on("element.out",function(e){n.onMouseLeave({element:e.element,$event:e.originalEvent})}),e.on("element.mousedown",function(){n.grabbing=!0,document.addEventListener("mouseup",m),n.$apply()}),e.on("canvas.viewbox.changed",function(e){var t=JSON.parse((i.search()||{}).viewbox||"{}");t[u.id]={x:e.viewbox.x,y:e.viewbox.y,width:e.viewbox.width,height:e.viewbox.height},o.updateSilently({viewbox:JSON.stringify(t)});var a=r.$$phase;"$apply"!==a&&"$digest"!==a?n.$apply(function(){i.replace()}):i.replace()})}var u;n.grabbing=!1,n.disableNavigation=n.$eval(n.disableNavigation),n.control=n.control||{},n.control.highlight=function(e){h.addMarker(e,"highlight"),a.find('[data-element-id="'+e+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},n.control.clearHighlight=function(e){h.removeMarker(e,"highlight")},n.control.isHighlighted=function(e){return h.hasMarker(e,"highlight")},n.control.createBadge=function(t,i){var r,o=d.get("overlays");i.html?r=i.html:(r=document.createElement("span"),i.color&&(r.style["background-color"]=i.color),i.tooltip&&(r.setAttribute("tooltip",i.tooltip),r.setAttribute("tooltip-placement","top")),i.text&&r.appendChild(document.createTextNode(i.text))),o.add(t,{position:i.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:r}),e(r)(n)},n.control.removeBadges=function(e){d.get("overlays").remove({element:e})},n.control.getViewer=function(){return d},n.control.scrollToElement=function(e){var t,n,i,r,o=d.get("elementRegistry").get(e),a=h.viewbox();t=Math.max(a.height,o.height),n=Math.max(a.width,o.width),i=Math.min(Math.max(a.x,o.x-a.width+o.width),o.x),r=Math.min(Math.max(a.y,o.y-a.height+o.height),o.y),h.viewbox({x:i,y:r,width:n,height:t})},n.control.getElement=function(e){return d.get("elementRegistry").get(e)},n.loaded=!1,n.control.isLoaded=function(){return n.loaded},n.control.addAction=function(t){var i=a.find(".actions"),r=t.html;i.append(r),e(r)(n)},n.control.addImage=function(e,t,n){var i=h._viewport.image(e,t,n);return i};var p=t;n.disableNavigation&&(p=Object.getPrototypeOf(t.prototype).constructor);var d=new p({container:a.find(".diagram-holder"),width:"100%",height:"100%",overlays:{deferUpdate:!1}}),f=null,h=null;n.$watch("diagramData",function(e){e&&(f=e,s())});var m=function(){n.grabbing=!1,document.removeEventListener("mouseup",m),n.$apply()};n.zoomIn=function(){d.diagram.get("zoomScroll").zoom(1,{x:a[0].offsetWidth/2,y:a[0].offsetHeight/2})},n.zoomOut=function(){d.diagram.get("zoomScroll").zoom(-1,{x:a[0].offsetWidth/2,y:a[0].offsetHeight/2})},n.resetZoom=function(){h.zoom("fit-viewport","auto")},n.control.resetZoom=n.resetZoom}}}]}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dmn-io",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.DmnJS=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){o.call(this,e)}var r=e(84),o=e(2),a=['<?xml version="1.0" encoding="UTF-8"?>','<definitions xmlns="http://www.omg.org/spec/DMN/20151101/dmn11.xsd"','id="definitions"','name="definitions"','namespace="http://camunda.org/schema/1.0/dmn">','<decision id="decision" name="">','<decisionTable id="decisionTable">','<input id="input1" label="">','<inputExpression id="inputExpression1" typeRef="string">',"<text></text>","</inputExpression>","</input>",'<output id="output1" label="" name="" typeRef="string">',"</output>","</decisionTable>","</decision>","</definitions>"].join("\n");r(i,o),i.prototype.createTemplate=function(e){this.importXML(a,e)},i.prototype._modelingModules=[e(225),e(12),e(36),e(10),e(231)],i.prototype._modules=[].concat(i.prototype._modules,i.prototype._modelingModules),t.exports=i},{10:10,12:12,2:2,225:225,231:231,36:36,84:84}],2:[function(e,t,n){"use strict";function i(e,t){var n=e.get("eventBus");t.forEach(function(e){n.on(e.event,e.handler)}),n.on("table.destroy",function(){b.prototype._openedDropdown&&b.prototype._openedDropdown._closeDropdown()})}function r(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=t.exec(e.message);return n&&(e.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid DMN file"+n[2]),e}function o(e){return e+(u(e)?"px":"")}function a(e){this.options=e=s({},w,e||{});var t=e.container;t.get&&(t=t.get(0)),l(t)&&(t=d(t));var n=this.container=p('<div class="dmn-table"></div>');t.appendChild(n),s(n.style,{width:o(e.width),height:o(e.height),position:e.position})}var s=e(179),c=e(182),l=e(177),u=e(175),p=e(190),d=e(193),f=e(194),h=e(203),m=e(63),g=e(65),v=e(82),y=e(44),b=e(217),w={width:"100%",position:"relative",container:"body"};a.prototype.importXML=function(e,t){var n=this;this.moddle=this.createModdle(),this.moddle.fromXML(e,"dmn:Definitions",function(e,i,o){if(e)return e=r(e),t(e);var a=o.warnings;n.importDefinitions(i,function(e,n){return e?t(e):void t(null,a.concat(n||[]))})})},a.prototype.saveXML=function(e,t){t||(t=e,e={});var n=this.definitions;return n?void this.moddle.toXML(n,e,t):t(new Error("no definitions loaded"))},a.prototype.createModdle=function(){var e=new m(this.options.moddleExtensions);return g.extend(e,new v([32,36,1])),e},a.prototype.get=function(e){if(!this.table)throw new Error("no table loaded");return this.table.get(e)},a.prototype.invoke=function(e){if(!this.table)throw new Error("no table loaded");return this.table.invoke(e)},a.prototype.importDefinitions=function(e,t){try{this.table&&this.clear(),this.definitions=e;var n=this.table=this._createTable(this.options);this._init(n),y.importDmnTable(n,e,t)}catch(i){t(i)}},a.prototype._init=function(e){i(e,this.__listeners||[])},a.prototype._createTable=function(e){var t=[].concat(e.modules||this.getModules(),e.additionalModules||[]);return t.unshift({dmnjs:["value",this],moddle:["value",this.moddle]}),e=c(e,"additionalModules"),e=s(e,{sheet:{container:this.container},modules:t}),new h(e)},a.prototype.getModules=function(){return this._modules},a.prototype.clear=function(){var e=this.table;e&&e.destroy(),delete this.table},a.prototype.destroy=function(){this.clear(),f(this.container)},a.prototype.on=function(e,t){var n=this.table,i=this.__listeners=this.__listeners||[];i.push({event:e,handler:t}),n&&n.get("eventBus").on(e,t)},a.prototype._modules=[e(3),e(233),e(24),e(38),e(8),e(27),e(41),e(17),e(20),e(229),e(221),e(219)],t.exports=a},{17:17,175:175,177:177,179:179,182:182,190:190,193:193,194:194,20:20,203:203,217:217,219:219,221:221,229:229,233:233,24:24,27:27,3:3,38:38,41:41,44:44,63:63,65:65,8:8,82:82}],3:[function(e,t,n){t.exports={__depends__:[e(46),e(5)]}},{46:46,5:5}],4:[function(e,t,n){"use strict";function i(e){e.on("row.render",function(e){e.data.isClauseRow&&r(e.gfx).add("labels")}),e.on("cell.render",function(e){var t=e.data,n=e.gfx;t.column.businessObject&&(t.row.isClauseRow?n.childNodes[0].textContent=t.column.businessObject.label:t.content&&!t.content.tagName&&t.row.businessObject&&(n.childNodes[0].textContent=t.content.text),t.row.isFoot||(t.column.businessObject.inputExpression?r(n).add("input"):r(n).add("output")))})}var r=e(188);i.$inject=["eventBus"],t.exports=i},{188:188}],5:[function(e,t,n){t.exports={__init__:["dmnRenderer"],dmnRenderer:["type",e(4)]}},{4:4}],6:[function(e,t,n){"use strict";function i(e,t,n,i,o){this.column=null;var a,s=this;e.on("import.success",function(c){e.fire("annotations.add",c),s.column=t.addColumn({id:"annotations",isAnnotationsColumn:!0}),a=n.filter(function(e){return"cell"===e._type&&e.column===s.column&&e.row.isLabelRow})[0],a.rowspan=o.isHidden()?2:4,a.content=r('<a href="http://bpmn.io" class="dmn-js-logo"></a>Annotation'),i.update("column",s.column,n.getGraphics(s.column.id)),e.fire("annotations.added",s.column)}),e.on("details.hidden",function(){a&&(a.rowspan=2,i.update("column",s.column,n.getGraphics(s.column.id)))}),e.on("details.shown",function(){a&&(a.rowspan=4,i.update("column",s.column,n.getGraphics(s.column.id)))}),e.on("sheet.destroy",function(n){e.fire("annotations.destroy",s.column),t.removeColumn({id:"annotations"}),e.fire("annotations.destroyed",s.column)})}var r=e(190);i.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","hideTechControl"],t.exports=i,i.prototype.getColumn=function(){return this.column}},{190:190}],7:[function(e,t,n){"use strict";function i(e,t){e.on("cell.render",function(e){e.data.column!==t.getColumn()||e.data.row.isFoot||(r(e.gfx).add("annotation"),e.data.row.isHead||(e.gfx.childNodes[0].textContent=e.data.row.businessObject.description||""))})}var r=e(188);i.$inject=["eventBus","annotations"],t.exports=i},{188:188}],8:[function(e,t,n){t.exports={__init__:["annotations","annotationsRenderer"],__depends__:[],annotations:["type",e(6)],annotationsRenderer:["type",e(7)]}},{6:6,7:7}],9:[function(e,t,n){"use strict";function i(e,t,n,i,r,o){this._popupMenu=e,this._eventBus=t,this._modeling=n,this._elementRegistry=i,this._editorActions=r;var a=this;t.on("element.contextmenu",function(e){e.element.row.isFoot||(e.preventDefault(),e.gfx.firstChild.focus(),a.open(e.originalEvent.pageX,e.originalEvent.pageY,e.element))});var s=function(e){e.preventDefault()};t.on("popupmenu.open",function(e){e.container.addEventListener("contextmenu",s)}),t.on("popupmenu.close",function(e){e.container.removeEventListener("contextmenu",s)}),document.addEventListener("click",function(e){a.close()})}var r=e(47).getEntriesType;i.$inject=["popupMenu","eventBus","modeling","elementRegistry","editorActions"],t.exports=i,i.prototype.getRuleActions=function(e){return{id:"rule",content:{label:"Rule",linkClass:"disabled",entries:[{id:"ruleAdd",action:this.ruleAddAction.bind(this),content:{label:"add",icon:"plus",entries:[{id:"ruleAddAbove",content:{label:"",icon:"above"},action:this.ruleAddAction.bind(this,"above")},{id:"ruleAddBelow",content:{label:"",icon:"below"},action:this.ruleAddAction.bind(this,"below")}]}},{id:"ruleRemove",content:{label:"remove",icon:"minus"},action:this.ruleRemoveAction.bind(this)},{id:"ruleClear",content:{label:"clear",icon:"clear"},action:this.ruleClearAction.bind(this)}]}}};var o=function(e){var t=e.businessObject.$type;return!(e.next.businessObject&&e.next.businessObject.$type===t||e.previous.businessObject&&e.previous.businessObject.$type===t)},a=function(){};i.prototype.getInputActions=function(e){var t=o(e.column);return{id:"clause",content:{label:"Input",linkClass:"disabled",icon:"input",entries:[{id:"clauseAdd",action:this.clauseAddInput.bind(this),content:{label:"add",icon:"plus",entries:[{id:"clauseAddLeft",content:{label:"",icon:"left"},action:this.clauseAddAction.bind(this,"left")},{id:"clauseAddRight",content:{label:"",icon:"right"},action:this.clauseAddAction.bind(this,"right")}]}},{id:"clauseRemove",content:{label:"remove",icon:"minus",linkClass:t?"disabled":""},action:t?a:this.clauseRemoveAction.bind(this)}]}}},i.prototype.getOutputActions=function(e){var t=o(e.column);return{id:"clause",content:{label:"Output",linkClass:"disabled",icon:"output",entries:[{id:"clauseAdd",action:this.clauseAddOutput.bind(this),content:{label:"add",icon:"plus",entries:[{id:"clauseAddLeft",content:{label:"",icon:"left"},action:this.clauseAddAction.bind(this,"left")},{id:"clauseAddRight",content:{label:"",icon:"right"},action:this.clauseAddAction.bind(this,"right")}]}},{id:"clauseRemove",content:{label:"remove",icon:"minus",linkClass:t?"disabled":""},action:t?a:this.clauseRemoveAction.bind(this)}]}}},i.prototype.getActions=function(e){var t=r(e),n=[];return t.rule&&n.push(this.getRuleActions(e)),t.input&&n.push(this.getInputActions(e)),t.output&&n.push(this.getOutputActions(e)),n},i.prototype.open=function(e,t,n){var i=this.getActions(n);i.length>0&&this._popupMenu.open({position:{x:e,y:t},entries:i})},i.prototype.close=function(){this._popupMenu.close()},i.prototype.clauseRemoveAction=function(){this._editorActions.trigger("clauseRemove"),this.close()},i.prototype.clauseAddInput=function(){this._editorActions.trigger("clauseAdd","input"),this.close()},i.prototype.clauseAddOutput=function(){this._editorActions.trigger("clauseAdd","output"),this.close()},i.prototype.clauseAddAction=function(e){var t=this._editorActions;"left"===e?t.trigger("clauseAddLeft"):"right"===e&&t.trigger("clauseAddRight"),this.close()},i.prototype.ruleRemoveAction=function(){this._editorActions.trigger("ruleRemove"),this.close()},i.prototype.ruleAddAction=function(e){var t=this._editorActions;"above"===e?t.trigger("ruleAddAbove"):"below"===e?t.trigger("ruleAddBelow"):t.trigger("ruleAdd"),this.close()},i.prototype.ruleClearAction=function(){this._editorActions.trigger("ruleClear"),this.close()}},{47:47}],10:[function(e,t,n){t.exports={__init__:["contextMenu"],__depends__:[e(244)],contextMenu:["type",e(9)]}},{244:244,9:9}],11:[function(e,t,n){"use strict";function i(e,t,n,i){var o={ruleAdd:function(){var t={id:r.next()};e.createRow(t)},ruleAddAbove:function(){var t,i=n._selectedElement;i&&(t={id:r.next()},t.next=i.row,e.createRow(t))},ruleAddBelow:function(){var t,i=n._selectedElement;i&&(t={id:r.next()},t.previous=i.row,e.createRow(t))},ruleClear:function(){var t=n._selectedElement;t&&e.clearRow(t.row)},ruleRemove:function(){var t=n._selectedElement;t&&e.deleteRow(t.row)},clauseAdd:function(n){var i,o,a,s={input:"dmn:InputClause",output:"dmn:OutputClause"},c=t.filter(function(e){return e.column&&e.column.businessObject&&e.column.businessObject.$type===s[n]?!0:!1});for(a=c[0].column,o=a.businessObject.$type;a.next&&a.next.businessObject&&a.next.businessObject.$type===o;)a=a.next;i={id:r.next(),previous:a,name:"",isInput:"dmn:InputClause"===s[n]},e.createColumn(i)},clauseAddLeft:function(){var t,i,o=n._selectedElement;o&&(t="dmn:InputClause"===o.column.businessObject.$type,i={id:r.next(),previous:o.column.previous,name:"",isInput:t},e.createColumn(i))},clauseAddRight:function(){var t,i,o=n._selectedElement;o&&(t="dmn:InputClause"===o.column.businessObject.$type,i={id:r.next(),previous:o.column,name:"",isInput:t},e.createColumn(i))},clauseRemove:function(){var t=n._selectedElement;t&&e.deleteColumn(t.column)}};i.register(o)}var r=new(e(56))("table");i.$inject=["modeling","elementRegistry","selection","editorActions"],t.exports=i},{56:56}],12:[function(e,t,n){t.exports={__init__:["dmnEditorActions"],dmnEditorActions:["type",e(11)]}},{11:11}],13:[function(e,t,n){"use strict";function i(e){this._model=e}i.$inject=["moddle"],i.prototype._needsId=function(e){return e.$instanceOf("dmn:DMNElement")},i.prototype._ensureId=function(e){var t=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},i.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},i.prototype.createRule=function(e){var t={id:e};t.inputEntry=t.inputEntry||[],t.outputEntry=t.outputEntry||[];var n=this.create("dmn:DecisionRule",t);return n},i.prototype.createInputEntry=function(e,t,n){var i=this.create("dmn:UnaryTests",{text:e}),r=t.$parent.input.indexOf(t);return i.$parent=n,n.inputEntry.splice(r,0,i),i},i.prototype.createInputClause=function(e){var t=this.create("dmn:InputClause",{label:e});return t.inputExpression=this.create("dmn:LiteralExpression",{}),t.inputExpression.typeRef="string",t},i.prototype.createOutputClause=function(e){var t=this.create("dmn:OutputClause",{label:e});return t.typeRef="string",t},i.prototype.createOutputEntry=function(e,t,n){
var i=this.create("dmn:LiteralExpression",{text:e}),r=t.$parent.output.indexOf(t);return i.$parent=n,n.outputEntry.splice(r,0,i),i},t.exports=i},{}],14:[function(e,t,n){"use strict";function i(e,t){o.call(this),this._moddle=e,this._dmnFactory=t}var r=e(84),o=e(205);r(i,o),i.$inject=["moddle","dmnFactory"],t.exports=i,i.prototype.baseCreate=o.prototype.create,i.prototype.create=function(e,t){t=t||{};var n=t.businessObject;if("row"===e?t.type="dmn:DecisionRule":"column"!==e||t.type||(t.type=t.isInput?"dmn:InputClause":"dmn:OutputClause"),!n){if(!t.type)throw new Error("no type specified");n="dmn:DecisionRule"===t.type?this._dmnFactory.createRule(t.id):"column"===e?t.isInput?this._dmnFactory.createInputClause(t.name):this._dmnFactory.createOutputClause(t.name):this._dmnFactory.create(t.type)}return t.businessObject=n,t.id=n.id,this.baseCreate(e,t)}},{205:205,84:84}],15:[function(e,t,n){t.exports={__init__:[],__depends__:[],dmnFactory:["type",e(13)],elementFactory:["type",e(14)]}},{13:13,14:14}],16:[function(e,t,n){"use strict";function i(e,t,n){this._sheet=t,this._eventBus=e,this.hidden=!1;var i=this;e.on("controls.init",function(o){e.on("controls.added",function(e){i._node=e.node,n.hideDetails&&i.hide()}),o.controls.addControl("Hide Details",function(){r(t.getContainer().parentNode).contains("hide-mappings")?i.show():i.hide()})})}var r=e(188);i.$inject=["eventBus","sheet","config"],t.exports=i,i.prototype.hide=function(){this._node&&(r(this._sheet.getContainer().parentNode).add("hide-mappings"),this._node.textContent="Show details",this.hidden=!0,this._eventBus.fire("details.hidden"))},i.prototype.show=function(){this._node&&(r(this._sheet.getContainer().parentNode).remove("hide-mappings"),this._node.textContent="Hide details",this.hidden=!1,this._eventBus.fire("details.shown"))},i.prototype.isHidden=function(){return this.hidden}},{188:188}],17:[function(e,t,n){t.exports={__init__:["hideTechControl"],__depends__:[],hideTechControl:["type",e(16)]}},{16:16}],18:[function(e,t,n){"use strict";function i(e,t,n,i,s,c,l){this.table=null,this.hitPolicyCell=null;var u=this;e.on("dmnElement.added",function(e){e.element&&e.element.businessObject.$instanceOf("dmn:DecisionTable")&&(u.table=e.element.businessObject)}),e.on("cell.added",function(e){if(e.element.column===t.getColumn()&&"ioLabel"===e.element.row.id){u.hitPolicyCell=e.element,u.hitPolicyCell.rowspan=l.isHidden()?2:4;var n=r("<div>"),i=new o({label:"Hit Policy",classNames:["dmn-combobox","hitpolicy"],options:["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],dropdownClassNames:["dmn-combobox-suggestions"]});n.insertBefore(i.getNode(),n.firstChild);var a=new o({label:"Collect Operator",classNames:["dmn-combobox","operator"],options:["LIST","SUM","MIN","MAX","COUNT"],dropdownClassNames:["dmn-combobox-suggestions"]});n.appendChild(a.getNode()),i.addEventListener("valueChanged",function(e){"collect"===e.newValue.toLowerCase()?a.getNode().style.display="table":a.getNode().style.display="none"}),e.element.complex={className:"dmn-hitpolicy-setter",template:n,element:e.element,comboBox:i,operatorComboBox:a,type:"hitPolicy",offset:{x:42,y:-15}}}}),e.on("complexCell.open",function(e){if("hitPolicy"===e.config.type){e.config.comboBox.setValue(u.getHitPolicy()),e.config.operatorComboBox.setValue(u.getAggregation());var t=e.config.template;if(t.querySelector(".dmn-combobox > input").focus(),!c.allowed("hitPolicy.edit")){for(var n=t.querySelectorAll("input"),i=0;i<n.length;i++)n[i].setAttribute("disabled","true");e.config.comboBox.disable(),a(t.parentNode).add("read-only")}}}),e.on("complexCell.close",function(t){"hitPolicy"===t.config.type&&(e.fire("hitPolicy.edit",{table:u.table,hitPolicy:t.config.comboBox.getValue(),aggregation:"COLLECT"===t.config.comboBox.getValue()?t.config.operatorComboBox.getValue():void 0,cell:u.getCell()}),i.update("cell",u.getCell(),s.getGraphics(u.getCell())))}),e.on("details.hidden",function(){u.hitPolicyCell&&(u.hitPolicyCell.rowspan=2,i.update("cell",u.hitPolicyCell,s.getGraphics(u.hitPolicyCell.id)))}),e.on("details.shown",function(){u.hitPolicyCell&&(u.hitPolicyCell.rowspan=4,i.update("cell",u.hitPolicyCell,s.getGraphics(u.hitPolicyCell.id)))})}var r=e(190),o=e(217),a=e(188);i.$inject=["eventBus","utilityColumn","ioLabel","graphicsFactory","elementRegistry","rules","hideTechControl"],i.prototype.getCell=function(){return this.hitPolicyCell},i.prototype.getHitPolicy=function(){return this.table&&this.table.hitPolicy||""},i.prototype.getAggregation=function(){return this.table&&this.table.aggregation||"LIST"},t.exports=i},{188:188,190:190,217:217}],19:[function(e,t,n){"use strict";function i(e){switch(e){case"LIST":return"";case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#"}}function r(e,t){e.on("cell.render",function(e){if(e.data===t.getCell()){var n=t.getHitPolicy(),r=t.getAggregation();e.gfx.childNodes[0].textContent=n.charAt(0)+i(r)}})}r.$inject=["eventBus","hitPolicy"],t.exports=r},{}],20:[function(e,t,n){t.exports={__init__:["hitPolicy","hitPolicyRenderer"],__depends__:[e(249),e(24)],hitPolicy:["type",e(18)],hitPolicyRenderer:["type",e(19)]}},{18:18,19:19,24:24,249:249}],21:[function(e,t,n){"use strict";function i(e,t,n,i,s){function c(t){if("column"===t._type){var c=n.filter(function(e){return"cell"===e._type&&e.row===l.row}),u=c.filter(function(e){return e.column.businessObject&&e.column.businessObject.inputExpression});o(u,function(t){if(!t.column.previous.businessObject){t.colspan=u.length;var n;s.allowed("column.create")?(n=r('Input <a class="dmn-icon-plus"></a>'),n.querySelector("a").addEventListener("mouseup",function(){for(var n=t.column;n.next&&"dmn:InputClause"===n.next.businessObject.$type;)n=n.next;var i={id:a.next(),previous:n,name:"",isInput:!0};e.fire("ioLabel.createColumn",{newColumn:i})})):n=r("Input"),t.content=n}});var p=c.filter(function(e){return e.column.businessObject&&e.column.businessObject.$instanceOf("dmn:OutputClause")});o(p,function(t){if(t.column.previous.businessObject.inputExpression){t.colspan=p.length;var n;s.allowed("column.create")?(n=r('Output <a class="dmn-icon-plus"></a>'),n.querySelector("a").addEventListener("mouseup",function(){for(var n=t.column;n.next&&n.next.businessObject&&"dmn:OutputClause"===n.next.businessObject.$type;)n=n.next;var i={id:a.next(),previous:n,name:"",isInput:!1};e.fire("ioLabel.createColumn",{newColumn:i})})):n=r("Output"),t.content=n}}),c.length>0&&i.update("row",c[0].row,n.getGraphics(c[0].row.id))}}this.row=null;var l=this;e.on("sheet.init",function(n){e.fire("ioLabel.add",n),l.row=t.addRow({id:"ioLabel",isHead:!0,isLabelRow:!0,useTH:!0}),e.fire("ioLabel.added",l.row)}),e.on("sheet.destroy",function(n){e.fire("ioLabel.destroy",l.row),t.removeRow({id:"ioLabel"}),e.fire("ioLabel.destroyed",l.row)}),e.on(["cells.added","cells.removed"],c)}var r=e(190),o=e(92),a=new(e(56))("clause");i.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","rules"],t.exports=i,i.prototype.getRow=function(){return this.row}},{190:190,56:56,92:92}],22:[function(e,t,n){"use strict";function i(e,t){e.on("cell.render",function(e){e.data.row===t.getRow()&&e.data.content&&!e.gfx.childNodes[0].firstChild&&e.gfx.childNodes[0].appendChild(e.data.content)})}i.$inject=["eventBus","ioLabel"],t.exports=i},{}],23:[function(e,t,n){"use strict";function i(e,t){o.call(this,e),this._ioLabel=t}var r=e(84),o=e(52);r(i,o),i.$inject=["eventBus","ioLabel"],t.exports=i,i.prototype.init=function(){var e=this;this.addRule("cell.edit",function(t){return t.row===e._ioLabel.row?!1:void 0})}},{52:52,84:84}],24:[function(e,t,n){t.exports={__init__:["ioLabel","ioLabelRules","ioLabelRenderer"],__depends__:[],ioLabel:["type",e(21)],ioLabelRules:["type",e(23)],ioLabelRenderer:["type",e(22)]}},{21:21,22:22,23:23}],25:[function(e,t,n){"use strict";function i(e,t,n,i,c,l){this.row=null;var u=this;e.on("sheet.init",function(r){e.fire("mappingsRow.add",r),u.row=t.addRow({id:"mappingsRow",isHead:!0,isMappingsRow:!0}),e.fire("mappingsRow.added",u.row),i.update("row",u.row,n.getGraphics(u.row.id))}),e.on("sheet.destroy",function(n){e.fire("mappingsRow.destroy",u.row),t.removeRow({id:"mappingsRow"}),e.fire("mappingsRow.destroyed",u.row)});var p=function(e,i,r){var o,s,c=t.getRootElement(),l=n.getGraphics(i);if(r){for(o=c,s={x:0,y:0};o;)s.x+=o.offsetLeft,s.y+=o.offsetTop,o=o.offsetParent;for(o=l;o&&"number"==typeof o.scrollTop&&"number"==typeof o.scrollLeft;)s.x-=o.scrollLeft,s.y-=o.scrollTop,o=o.parentNode;a(e.style,{top:s.y+"px",left:s.x+"px",width:c.clientWidth+"px"})}else{for(o=l,s={x:0,y:0};o;)s.x+=o.offsetLeft,s.y+=o.offsetTop,o=o.offsetParent;for(o=l;o&&"number"==typeof o.scrollTop&&"number"==typeof o.scrollLeft;)s.x-=o.scrollLeft,s.y-=o.scrollTop,o=o.parentNode;a(e.style,{left:s.x+2+"px",top:s.y-72+"px",width:"auto",height:"auto"})}};e.on("cell.added",function(e){if("mappingsRow"===e.element.row.id&&e.element.column.businessObject&&e.element.column.businessObject.inputExpression){e.element.content=e.element.column.businessObject.inputExpression;var t=r('<div>\r\n  <div class="links">\r\n    <div class="toggle-type">\r\n      <label>Use:</label>\r\n      <a class="expression">Expression</a>\r\n      /\r\n      <a class="script">Script</a>\r\n    </div>\r\n    <a class="dmn-icon-clear"></a>\r\n  </div>\r\n  <div class="expression region">\r\n    <label>Expression:</label>\r\n    <input placeholder="propertyName">\r\n  </div>\r\n  <div class="script region">\r\n    <textarea placeholder="return obj.propertyName;"></textarea>\r\n  </div>\r\n</div>\r\n'),a=new s({label:"Language",classNames:["dmn-combobox","language"],options:["Javascript","Groovy","Python","Ruby"],dropdownClassNames:["dmn-combobox-suggestions"]});"undefined"!=typeof e.element.content.expressionLanguage?(t.querySelector("textarea").value=e.element.content.text||"",a.setValue(e.element.content.expressionLanguage)):t.querySelector("input").value=e.element.content.text||"",t.querySelector(".dmn-icon-clear").addEventListener("click",function(){c.close()}),t.querySelector(".expression").addEventListener("click",function(){o(t.parentNode).remove("use-script"),p(t.parentNode,e.element,!1),t.querySelector(".expression.region > input").focus(),e.element.complex.mappingType="expression"}),t.querySelector(".script").addEventListener("click",function(){o(t.parentNode).add("use-script"),p(t.parentNode,e.element,!0),t.querySelector(".script.region > textarea").focus(),e.element.complex.mappingType="script"}),t.querySelector(".expression.region > input").addEventListener("keydown",function(e){13===e.keyCode&&c.close()}),t.querySelector(".script.region").insertBefore(a.getNode(),t.querySelector("textarea")),e.element.complex={className:"dmn-clauseexpression-setter",template:t,element:e.element,mappingType:"undefined"!=typeof e.element.content.expressionLanguage?"script":"expression",comboBox:a,type:"mapping",offset:{x:2,y:-72}},i.update("cell",e.element,n.getGraphics(e.element))}else"mappingsRow"===e.element.row.id&&e.element.column.businessObject&&(e.element.content=e.element.column.businessObject,i.update("cell",e.element,n.getGraphics(e.element)))}),e.on("complexCell.open",function(e){if("mapping"===e.config.type){var t=e.config.template;"undefined"!=typeof e.config.element.content.expressionLanguage?(e.config.mappingType="script",o(e.container).add("use-script"),p(e.container,e.config.element,!0),e.container.querySelector(".script.region > textarea").focus()):(e.config.mappingType="expression",e.container.querySelector(".expression.region > input").focus()),l.allowed("inputMapping.edit")||(t.querySelector(".expression.region > input").setAttribute("disabled","true"),t.querySelector(".script.region > textarea").setAttribute("disabled","true"),e.config.comboBox.disable(),o(t.parentNode).add("read-only"))}}),e.on("complexCell.close",function(t){if("mapping"===t.config.type){var n=t.config.template;"expression"===t.config.mappingType?e.fire("mappingsRow.editInputMapping",{element:t.config.element,expression:n.querySelector('input[placeholder="propertyName"]').value}):"script"===t.config.mappingType&&e.fire("mappingsRow.editInputMapping",{element:t.config.element,expression:n.querySelector("textarea").value,language:t.config.comboBox.getValue()})}})}var r=e(190),o=e(188),a=e(179),s=e(217);i.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","rules"],t.exports=i,i.prototype.getRow=function(){return this.row}},{179:179,188:188,190:190,217:217}],26:[function(e,t,n){"use strict";function i(e,t){e.on("row.render",function(e){e.data===t.getRow()&&r(e.gfx).add("mappings")}),e.on("cell.render",function(e){e.data.row===t.getRow()&&e.data.content&&e.data.column.businessObject.inputExpression?e.data.content.expressionLanguage?e.gfx.childNodes[0].textContent=e.data.content.expressionLanguage||"":e.gfx.childNodes[0].textContent=e.data.content.text||"":e.data.row===t.getRow()&&e.data.content&&(e.gfx.childNodes[0].textContent=e.data.content.name||"")})}var r=e(188);i.$inject=["eventBus","mappingsRow"],t.exports=i},{188:188}],27:[function(e,t,n){t.exports={__init__:["mappingsRow","mappingsRowRenderer"],__depends__:[e(219)],mappingsRow:["type",e(25)],mappingsRowRenderer:["type",e(26)]}},{219:219,25:25,26:26}],28:[function(e,t,n){"use strict";function i(e,t,n,i,r){function s(e){var t=e.context.row.businessObject,o=t.$parent=r.semantic.decisionTable;if(o.rule||(o.rule=[]),e.context.row.next?o.rule.splice(o.rule.indexOf(e.context.row.next.businessObject),0,t):o.rule.push(t),!e.context._cells){for(var a=o.input,s=function(t){return function(n){return"cell"===n._type&&n.column.businessObject===t&&n.row===e.context.row}},c=0;c<a.length;c++){var l=a[c],u=i.createInputEntry("",l,t),p=n.filter(s(l))[0];p.content=u}var d=o.output;for(c=0;c<d.length;c++){var f=d[c],h=i.createOutputEntry("",f,t),m=n.filter(s(f))[0];m.content=h}}}function c(e){var t=e.context.column.businessObject.$parent=r.semantic.decisionTable,a=e.context.column,s=a.businessObject,c=e.context.column.next,l="dmn:InputClause"===s.$type?"input":"output";if(c&&c.businessObject&&c.businessObject.$type===s.$type?t[l].splice(t[l].indexOf(a.next.businessObject),0,s):t[l].push(s),e.context._cells)o(e.context._cells,function(e){if(!e.row.isHead&&!e.row.isFoot&&e.content){var n=e.row.businessObject[l+"Entry"];n.splice(t[l].indexOf(s),0,e.content)}});else{var u=t.rule;o(u,function(e){var t;t="input"===l?i.createInputEntry("",s,e):i.createOutputEntry("",s,e);var r=n.filter(function(t){return"cell"===t._type&&t.column===a&&t.row.businessObject===e})[0];r.content=t})}}function l(e){var t=e.context.column.businessObject,n="dmn:InputClause"===t.$type?"input":"output",i=t.$parent[n].indexOf(t);t.$parent[n].splice(i,1),o(t.$parent.rule,function(e){e[n+"Entry"].splice(i,1)})}function u(e){var t=e.context.row.businessObject;t.$parent.rule.splice(t.$parent.rule.indexOf(t),1)}a.call(this,e),this.executed(["column.create"],c),this.executed(["row.create"],s),this.executed(["column.delete"],l),this.executed(["row.delete"],u),this.reverted(["column.create"],l),this.reverted(["row.create"],u),this.reverted(["column.delete"],c),this.reverted(["row.delete"],s)}var r=e(84),o=e(93),a=e(48);r(i,a),t.exports=i,i.$inject=["eventBus","moddle","elementRegistry","dmnFactory","tableName"]},{48:48,84:84,93:93}],29:[function(e,t,n){"use strict";function i(e,t,n,i,r){o.call(this,e,t,n,i),this._elementRegistry=r;var a=this;e.on("tableName.editId",function(e){a.editId(e.newId)}),e.on("ioLabel.createColumn",function(e){a.createColumn(e.newColumn)}),e.on("mappingsRow.editInputMapping",function(e){a.editInputMapping(e.element,e.expression,e.language)}),e.on("typeRow.editDataType",function(e){a.editDataType(e.element,e.dataType,e.allowedValues)}),e.on("hitPolicy.edit",function(e){a.editHitPolicy(e.table,e.hitPolicy,e.aggregation,e.cell)})}var r=e(84),o=e(234),a=e(31),s=e(30),c=e(34),l=e(33),u=e(35),p=e(32);r(i,o),i.$inject=["eventBus","elementFactory","commandStack","sheet","elementRegistry"],t.exports=i,i.prototype.getHandlers=function(){var e=o.prototype.getHandlers.call(this);return e["cell.edit"]=a,e["row.clear"]=s,e["inputMapping.edit"]=c,e["id.edit"]=l,e["dataType.edit"]=u,e["hitPolicy.edit"]=p,e},i.prototype.editCell=function(e,t,n){var i={row:e,column:t,content:n},r=this._elementRegistry.filter(function(n){return"cell"===n._type&&n.row.id===e&&n.column.id===t})[0];if(r.row.isClauseRow)r.column.businessObject.name!==n&&this._commandStack.execute("cell.edit",i);else if(r.row.isMappingsRow)r.content.output!==n&&this._commandStack.execute("cell.edit",i);else if(!r.row.isHead){var o=r.content;(!r.column.isAnnotationsColumn&&!o&&""!==i.content||o&&i.content!==o.text||r.column.isAnnotationsColumn&&r.row.businessObject.description!==i.content)&&this._commandStack.execute("cell.edit",i)}return i},i.prototype.editHitPolicy=function(e,t,n,i){var r={table:e,newPolicy:t,newAggregation:n,cell:i};return r.newAggregation&&"LIST"!==r.newAggregation||(r.newAggregation=void 0),(e.hitPolicy!==t||!e.aggregation&&r.newAggregation||e.aggregation!==r.newAggregation)&&this._commandStack.execute("hitPolicy.edit",r),r},i.prototype.editInputMapping=function(e,t,n){var i={cell:e,newMapping:t};return 3===arguments.length&&(i.language=n),(e.content.text!==t||e.content.expressionLanguage!==n)&&this._commandStack.execute("inputMapping.edit",i),i},i.prototype.editId=function(e){var t={newId:e};return this._commandStack.execute("id.edit",t),t},i.prototype.editDataType=function(e,t,n){var i={cell:e,newType:t};3===arguments.length&&(i.allowedValues=n);var r=!1;if(!e.content.allowedValue&&n||e.content.allowedValue&&!n||e.content.allowedValue&&n&&e.content.allowedValue.length!==n.length)r=!0;else if(e.content.allowedValue&&n)for(var o=0;o<n.length;o++)if(e.content.allowedValue[o].text!==n[o]){r=!0;break}return(e.content.typeDefinition!==t||r)&&this._commandStack.execute("dataType.edit",i),i}},{234:234,30:30,31:31,32:32,33:33,34:34,35:35,84:84}],30:[function(e,t,n){"use strict";function i(e,t,n){this._elementRegistry=e,this._utilityColumn=t,this._graphicsFactory=n}var r=e(92);i.$inject=["elementRegistry","utilityColumn","graphicsFactory"],t.exports=i,i.prototype.execute=function(e){var t=this,n=this._utilityColumn&&this._utilityColumn.getColumn(),i=this._elementRegistry.filter(function(t){return n?"cell"===t._type&&t.row===e.row&&t.column!==n:"cell"===t._type&&t.row===e.row});e._oldContent=[],r(i,function(n){n.content&&(e._oldContent.push(n.content.text),n.content.text=""),t._graphicsFactory.update("cell",n,t._elementRegistry.getGraphics(n.id))})},i.prototype.revert=function(e){var t=this,n=this._utilityColumn&&this._utilityColumn.getColumn(),i=this._elementRegistry.filter(function(t){return n?"cell"===t._type&&t.row===e.row&&t.column!==n:"cell"===t._type&&t.row===e.row}),o=0;r(i,function(n){n.content&&(n.content.text=e._oldContent[o++]),t._graphicsFactory.update("cell",n,t._elementRegistry.getGraphics(n.id))})}},{92:92}],31:[function(e,t,n){"use strict";function i(e,t,n,i,r){this._sheet=e,this._elementRegistry=t,this._graphicsFactory=n,this._dmnFactory=r,this._moddle=i}i.$inject=["sheet","elementRegistry","graphicsFactory","moddle","dmnFactory"],t.exports=i,i.prototype.execute=function(e){var t=this._elementRegistry.get("cell_"+e.column+"_"+e.row),n=this._elementRegistry.getGraphics("cell_"+e.column+"_"+e.row);if(t.row.isHead)t.row.isMappingsRow?(e.oldContent=t.content.name,t.content.name=e.content):t.row.isClauseRow&&(e.oldContent=t.column.businessObject.label,t.column.businessObject.label=e.content);else if(t.column.isAnnotationsColumn)e.oldContent=t.row.businessObject.description,t.row.businessObject.description=e.content;else if(t.content)e.oldContent=t.content.text,t.content.text=e.content;else{var i=t.column.businessObject.inputExpression?"createInputEntry":"createOutputEntry";t.content=this._dmnFactory[i](e.content,t.column.businessObject,t.row.businessObject)}return this._graphicsFactory.update("cell",t,n),e},i.prototype.revert=function(e){var t=this._elementRegistry.get("cell_"+e.column+"_"+e.row),n=this._elementRegistry.getGraphics("cell_"+e.column+"_"+e.row);if(t.row.isHead)t.row.isMappingsRow?t.content.name=e.oldContent:t.row.isClauseRow&&(t.column.businessObject.label=e.oldContent);else if(t.column.isAnnotationsColumn)t.row.businessObject.description=e.oldContent;else if(t.content)t.content.text=e.oldContent;else{var i=t.column.businessObject.inputExpression?"createInputEntry":"createOutputEntry",r=e.oldContent;t.content=this._dmnFactory[i](r,t.column.businessObject,t.row.businessObject)}return this._graphicsFactory.update("cell",t,n),e}},{}],32:[function(e,t,n){"use strict";function i(e,t){this._elementRegistry=e,this._graphicsFactory=t}i.$inject=["elementRegistry","graphicsFactory"],t.exports=i,i.prototype.execute=function(e){return e.oldPolicy=e.table.hitPolicy,e.oldAggregation=e.table.aggregation,e.table.hitPolicy=e.newPolicy,e.newAggregation?e.table.aggregation=e.newAggregation:e.table.aggregation=void 0,this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e},i.prototype.revert=function(e){return e.table.hitPolicy=e.oldPolicy,e.oldAggregation?e.table.aggregation=e.oldAggregation:e.table.aggregation=void 0,this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e}},{}],33:[function(e,t,n){"use strict";function i(e){this._tableName=e}i.$inject=["tableName"],t.exports=i,i.prototype.execute=function(e){return e.oldId=this._tableName.getId(),this._tableName.setId(e.newId),e},i.prototype.revert=function(e){return this._tableName.setId(e.oldId),e}},{}],34:[function(e,t,n){"use strict";function i(e,t){this._elementRegistry=e,this._graphicsFactory=t}i.$inject=["elementRegistry","graphicsFactory"],t.exports=i,i.prototype.execute=function(e){return e.oldMapping=e.cell.content.text,e.cell.content.text=e.newMapping,e.cell.content.expressionLanguage&&(e.oldLanguage=e.cell.content.expressionLanguage),"undefined"!=typeof e.language?e.cell.content.expressionLanguage=e.language:e.cell.content.expressionLanguage=void 0,this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e},i.prototype.revert=function(e){return e.cell.content.text=e.oldMapping,e.oldLanguage?e.cell.content.expressionLanguage=e.oldLanguage:e.cell.content.expressionLanguage=void 0,this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e}},{}],35:[function(e,t,n){"use strict";function i(e,t,n){this._elementRegistry=e,this._graphicsFactory=t,this._dmnFactory=n}i.$inject=["elementRegistry","graphicsFactory","dmnFactory"],t.exports=i,i.prototype.execute=function(e){var t=e.cell.content;return t.inputExpression?(e.oldType=t.inputExpression.typeRef,t.inputExpression.typeRef=e.newType):(e.oldType=t.typeRef,t.typeRef=e.newType),this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e},i.prototype.revert=function(e){var t=e.cell.content;return t.inputExpression?t.inputExpression.typeRef=e.oldType:t.typeRef=e.oldType,this._graphicsFactory.update("cell",e.cell,this._elementRegistry.getGraphics(e.cell.id)),e}},{}],36:[function(e,t,n){t.exports={__init__:["modeling","dmnUpdater"],__depends__:[e(242),e(214),e(15)],modeling:["type",e(29)],dmnUpdater:["type",e(28)]}},{15:15,214:214,242:242,28:28,29:29}],37:[function(e,t,n){"use strict";function i(e,t,n){a.call(this,e,t,n),this.node=r("<header><h3>"+this.tableName+'</h3><div class="tjs-table-id mappings"></div></header');var i=this;e.on("tableName.allowEdit",function(t){t.editAllowed&&(i.node.querySelector(".tjs-table-id").setAttribute("contenteditable",!0),i.node.querySelector(".tjs-table-id").addEventListener("blur",function(t){var n=t.target.textContent;n!==i.getId()&&e.fire("tableName.editId",{newId:n})},!0))}),this.semantic=null}var r=e(190),o=e(84),a=e(245);o(i,a),i.$inject=["eventBus","sheet","config.tableName"],t.exports=i,i.prototype.setSemantic=function(e){this.semantic=e,this.setName(e.name),this.setId(e.id)},i.prototype.setName=function(e){this.semantic.name=e,this.node.querySelector("h3").textContent=e||""},i.prototype.getName=function(){return this.semantic.name},i.prototype.setId=function(e){e&&(this.semantic.id=e),this.node.querySelector("div").textContent=this.semantic.id||""},i.prototype.getId=function(){return this.semantic.id}},{190:190,245:245,84:84}],38:[function(e,t,n){t.exports={__init__:["tableName"],__depends__:[],tableName:["type",e(37)]}},{37:37}],39:[function(e,t,n){"use strict";function i(e,t,n,i,s,c){this.row=null;var l=this;e.on("sheet.init",function(r){e.fire("typeRow.add",r),l.row=t.addRow({id:"typeRow",isHead:!0,isTypeRow:!0}),e.fire("typeRow.added",l.row),i.update("row",l.row,n.getGraphics(l.row.id))}),e.on("sheet.destroy",function(n){e.fire("typeRow.destroy",l.row),t.removeRow({id:"typeRow"}),e.fire("typeRow.destroyed",l.row)}),e.on("cell.added",function(e){if("typeRow"===e.element.row.id&&e.element.column.businessObject){e.element.content=e.element.column.businessObject;var t=r("<div>\r\n</div>\r\n"),o=new a({label:"Type",classNames:["dmn-combobox","datatype"],options:["string","boolean","integer","long","double","date"],dropdownClassNames:["dmn-combobox-suggestions"]});t.insertBefore(o.getNode(),t.firstChild),e.element.complex={className:"dmn-clausevalues-setter",template:t,element:e.element,comboBox:o,type:"type",offset:{x:0,y:-15}},i.update("cell",e.element,n.getGraphics(e.element))}}),e.on("complexCell.open",function(e){if("type"===e.config.type){var t=n.getGraphics(e.config.element);e.container.style.left=window.parseInt(e.container.style.left,10)+t.clientWidth+"px";var i=e.config.element.content;i.inputExpression?e.config.comboBox.setValue(i.inputExpression.typeRef):e.config.comboBox.setValue(i.typeRef);var r=e.config.template;c.allowed("dataType.edit")||(e.config.comboBox.disable(),o(r.parentNode).add("read-only"))}}),e.on("complexCell.close",function(t){"type"===t.config.type&&("string"===t.config.comboBox.getValue().toLowerCase()?e.fire("typeRow.editDataType",{element:t.config.element,dataType:t.config.comboBox.getValue()}):e.fire("typeRow.editDataType",{element:t.config.element,dataType:t.config.comboBox.getValue()}))})}var r=e(190),o=e(188),a=e(217);i.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","rules"],t.exports=i,i.prototype.getRow=function(){return this.row}},{188:188,190:190,217:217}],40:[function(e,t,n){"use strict";function i(e,t){e.on("row.render",function(e){e.data===t.getRow()&&r(e.gfx).add("values")}),e.on("cell.render",function(e){var n=e.data.content;e.data.row===t.getRow()&&n&&(n.inputExpression?e.gfx.childNodes[0].textContent=n.inputExpression.typeRef||"":e.gfx.childNodes[0].textContent=n.typeRef||"")})}var r=e(188);i.$inject=["eventBus","typeRow"],t.exports=i},{188:188}],41:[function(e,t,n){t.exports={__init__:["typeRow","typeRowRenderer"],__depends__:[e(219)],typeRow:["type",e(39)],typeRowRenderer:["type",e(40)]}},{219:219,39:39,40:40}],42:[function(e,t,n){"use strict";function i(e,t){return o({id:e.id,type:e.$type,businessObject:e},t)}function r(e,t,n,i,r,o,a,s){this._eventBus=e,this._sheet=t,this._elementRegistry=n,this._elementFactory=i,this._tableName=o,this._dmnFactory=s,this._ioLabel=a,this._moddle=r}var o=e(179),a=e(86),s=e(45).elementToString;r.$inject=["eventBus","sheet","elementRegistry","elementFactory","moddle","tableName","ioLabel","dmnFactory"],t.exports=r,r.prototype._makeCopy=function(e){var t=this._moddle.create(e.$type);for(var n in e)e.hasOwnProperty(n)&&"$type"!==n&&(t[n]=e[n]);return t.$parent=e.$parent,t},r.prototype.add=function(e,t,n){var r;if(e.$instanceOf("dmn:DecisionTable"))r=this._elementFactory.createRow(i(e,{isHead:!0,isClauseRow:!0,previous:this._ioLabel.getRow()})),this._sheet.addRow(r,t),this._tableName.setSemantic(e.$parent);else if(e.$instanceOf("dmn:InputClause"))r=this._elementFactory.createColumn(i(e,{})),this._sheet.addColumn(r,t);else if(e.$instanceOf("dmn:OutputClause"))r=this._elementFactory.createColumn(i(e,{})),this._sheet.addColumn(r,t);else if(e.$instanceOf("dmn:DecisionRule"))e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]),r=this._elementFactory.createRow(i(e,{})),this._sheet.addRow(r,t);else{if(!t.$instanceOf("dmn:DecisionRule"))throw new Error("can not render element "+s(e));var o=a(t.inputEntry,t.outputEntry),c=this._elementRegistry.filter(function(e){if(!e.businessObject)return!1;var t=e.businessObject.$type;return"dmn:InputClause"===t||"dmn:OutputClause"===t}),l=c[o.indexOf(e)].id,u=this._elementRegistry.filter(function(e){return e.businessObject===t})[0].id;e.text=e.text||"",this._sheet.setCellContent({row:u,column:l,content:e})}return this._eventBus.fire("dmnElement.added",{element:r}),r}},{179:179,45:45,86:86}],43:[function(e,t,n){"use strict";function i(e){function t(t,n,i){var r=t.gfx;if(r)throw new Error("already rendered "+o(t));return e.element(t,n,i)}function n(t){return e.table(t)}function i(e){var t,i=e.decision;if(i&&i.length&&(t=i[0]),t){""===t.id&&(t.id="decision");var r=t.decisionTable;if(!r)throw new Error("no table for "+o(t));var c=n(r);a(r.input,c,e),a(r.output,c,e),s(r.rule,c,e)}}function a(e,n,i){r(e,function(e){t(e,n,i)})}function s(e,n,i){r(e,function(e){t(e,n,i),c(e.inputEntry,e),c(e.outputEntry,e)})}function c(e,n,i){r(e,function(e){t(e,n,i)})}return{handleDefinitions:i}}var r=e(92),o=e(45).elementToString;t.exports=i},{45:45,92:92}],44:[function(e,t,n){"use strict";function i(e,t,n){function i(e){var t={table:function(e){return a.add(e)},element:function(e,t,n){return a.add(e,t,n)},error:function(e,t){c.push({message:e,context:t})}},n=new r(t);n.handleDefinitions(e)}var o,a=e.get("dmnImporter"),s=e.get("eventBus"),c=[];s.fire("import.start");try{i(t)}catch(l){o=l}s.fire(o?"import.error":"import.success",{error:o,warnings:c}),n(o,c)}var r=e(43);t.exports.importDmnTable=i},{43:43}],45:[function(e,t,n){"use strict";t.exports.elementToString=function(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}},{}],46:[function(e,t,n){t.exports={__depends__:[e(15)],dmnImporter:["type",e(42)]}},{15:15,42:42}],47:[function(e,t,n){"use strict";function i(e){var t={rule:!1,input:!1,output:!1};return e?(t.rule=!(!e.row||!e.row.businessObject||e.row.businessObject.$instanceOf("dmn:DecisionTable")),e.column&&"utilityColumn"!==e.column.id&&"annotations"!==e.column.id&&!e.row.isLabelRow&&(e.column.businessObject.inputExpression?t.input=!0:t.output=!0),t):t}t.exports.getEntriesType=i},{}],48:[function(e,t,n){"use strict";function i(e){this._eventBus=e}function r(e){return function(t){return e(t.context,t.command,t)}}var o=e(92),a=e(173),s=e(172),c=e(175),l=1e3;i.$inject=["eventBus"],t.exports=i,i.prototype.on=function(e,t,n,i,u){if((a(t)||c(t))&&(u=i,i=n,n=t,t=null),a(n)&&(u=i,i=n,n=l),!a(i))throw new Error("handlerFn must be a function");s(e)||(e=[e]);var p=this._eventBus;o(e,function(e){var o=["commandStack",e,t].filter(function(e){return e}).join(".");p.on(o,n,u?r(i):i)})};var u=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];o(u,function(e){i.prototype[e]=function(t,n,i,r){(a(t)||c(t))&&(r=i,i=n,n=t,t=null),this.on(t,e,n,i,r)}})},{172:172,173:173,175:175,92:92}],49:[function(e,t,n){"use strict";function i(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1}var r=e(88),o=e(172),a=e(179),s=e(51).Event;i.$inject=["eventBus","injector"],t.exports=i,i.prototype.execute=function(e,t){if(!e)throw new Error("command required");var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},i.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e);if(!i)return!1;var r=this._fire(e,"canExecute",n);return void 0===r&&i.canExecute&&(r=i.canExecute(t)),r},i.prototype.clear=function(){this._stack.length=0,this._stackIdx=-1,this._fire("changed")},i.prototype.undo=function(){
var e,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},i.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},i.prototype.register=function(e,t){this._setHandler(e,t)},i.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},i.prototype.canUndo=function(){return!!this._getUndoAction()},i.prototype.canRedo=function(){return!!this._getRedoAction()},i.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},i.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},i.prototype._internalUndo=function(e){var t=e.command,n=e.context,i=this._getHandler(t);this._fire(t,"revert",e),this._markDirty(i.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)},i.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,r,o,c=t?[e+"."+t,t]:[e];for(n=a(new s,n),i=0;(r=c[i])&&(o=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);i++);return o},i.prototype._createId=function(){return this._uid++},i.prototype._internalExecute=function(e,t){var n=e.command,i=e.context,r=this._getHandler(n);if(!r)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),r.preExecute&&r.preExecute(i),this._fire(n,"preExecuted",e)),this._fire(n,"execute",e),this._markDirty(r.execute(i)),this._executedAction(e,t),this._fire(n,"executed",e),t||(this._fire(n,"postExecute",e),r.postExecute&&r.postExecute(i),this._fire(n,"postExecuted",e)),this._popAction(e)},i.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];e.id||(e.id=i&&i.id||this._createId()),n.push(e)},i.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:r(n)}),n.length=0,this._fire("changed"))},i.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=o(e)?e:[e],t.dirty=t.dirty.concat(e))},i.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},i.prototype._revertedAction=function(e){this._stackIdx--},i.prototype._getHandler=function(e){return this._handlerMap[e]},i.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t}},{172:172,179:179,51:51,88:88}],50:[function(e,t,n){t.exports={commandStack:["type",e(49)]}},{49:49}],51:[function(e,t,n){"use strict";function i(){this._listeners={};var e=this;this.on("diagram.destroy",1,function(){e._listeners=null})}function r(){}var o=e(173),a=e(172),s=e(175),c=e(179),l=1e3;t.exports=i,i.prototype.on=function(e,t,n){if(e=a(e)?e:[e],o(t)&&(n=t,t=l),!s(t))throw new Error("priority must be a number");var i=this,r={priority:t,callback:n};e.forEach(function(e){i._addListener(e,r)})},i.prototype.once=function(e,t){function n(){t.apply(i,arguments),i.off(e,n)}var i=this;this.on(e,n)},i.prototype.off=function(e,t){var n,i,r=this._getListeners(e);if(t)for(i=r.length-1;n=r[i];i--)n.callback===t&&r.splice(i,1);else r.length=0},i.prototype.fire=function(e,t){var n,i,o,a,s,c,l;if(l=Array.prototype.slice.call(arguments),"object"==typeof e&&(n=e,e=n.type),!e)throw new Error("no event type specified");if(o=this._listeners[e]){t instanceof r?n=t:(n=new r,n.init(t)),l[0]=n,i=n.type;try{for(e!==i&&(n.type=e),a=0;(s=o[a])&&!n.cancelBubble;a++)try{c=n.returnValue=s.callback.apply(null,l),void 0!==c&&n.stopPropagation(),c===!1&&n.preventDefault()}catch(u){if(!this.handleError(u))throw console.error("unhandled error in event listener"),console.error(u.stack),u}}finally{e!==i&&(n.type=i)}return void 0===c&&n.defaultPrevented&&(c=!1),c}},i.prototype.handleError=function(e){return this.fire("error",{error:e})===!1},i.prototype._addListener=function(e,t){var n,i,r=this._getListeners(e);for(i=0;n=r[i];i++)if(n.priority<t.priority)return void r.splice(i,0,t);r.push(t)},i.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},t.exports.Event=r,r.prototype.stopPropagation=function(){this.cancelBubble=!0},r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.init=function(e){c(this,e||{})}},{172:172,173:173,175:175,179:179}],52:[function(e,t,n){"use strict";function i(e){o.call(this,e),this.init()}var r=e(84),o=e(48);i.$inject=["eventBus"],r(i,o),t.exports=i,i.prototype.addRule=function(e,t,n){var i=this;"string"==typeof e&&(e=[e]),e.forEach(function(e){i.canExecute(e,t,function(e,t,i){return n(e)},!0)})}},{48:48,84:84}],53:[function(e,t,n){"use strict";function i(e){this._commandStack=e}i.$inject=["commandStack"],t.exports=i,i.prototype.allowed=function(e,t){var n=this._commandStack.canExecute(e,t);return void 0===n?!0:n}},{}],54:[function(e,t,n){t.exports={__depends__:[e(50)],__init__:["rules"],rules:["type",e(53)]}},{50:50,53:53}],55:[function(e,t,n){"use strict";function i(e){return e&&e.preventDefault()}function r(e,t){e&&(e.stopPropagation&&e.stopPropagation(),t&&e.stopImmediatePropagation&&e.stopImmediatePropagation())}function o(e){return e.originalEvent||e.srcEvent}function a(e,t){c(e,t),s(e)}function s(e){i(e),i(o(e))}function c(e,t){r(e,t),r(o(e),t)}function l(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}t.exports.getOriginal=o,t.exports.stopEvent=a,t.exports.preventDefault=s,t.exports.stopPropagation=c,t.exports.toPoint=l},{}],56:[function(e,t,n){"use strict";function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}t.exports=i,i.prototype.next=function(){return this._prefix+ ++this._counter}},{}],57:[function(e,t,n){"use strict";function i(e){return!(r(e)||e).button}var r=e(55).getOriginal,o=e(58).isMac;t.exports.isPrimaryButton=i,t.exports.isMac=o,t.exports.hasPrimaryModifier=function(e){var t=r(e)||e;return i(e)?o()?t.altKey:t.ctrlKey:!1},t.exports.hasSecondaryModifier=function(e){var t=r(e)||e;return i(e)&&t.shiftKey}},{55:55,58:58}],58:[function(e,t,n){"use strict";t.exports.isMac=function(){return/mac/i.test(navigator.platform)}},{}],59:[function(e,t,n){var i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(){var e=Array.prototype.slice.call(arguments);1===e.length&&i(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t},o=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,a=/\/\*([^\*]*)\*\//m,s=function(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(o);return t[1]&&t[1].split(",").map(function(e){return t=e.match(a),t?t[1].trim():e.trim()})||[]};n.annotate=r,n.parse=s,n.isArray=i},{}],60:[function(e,t,n){t.exports={annotate:e(59).annotate,Module:e(62),Injector:e(61)}},{59:59,61:61,62:62}],61:[function(e,t,n){var i=e(62),r=e(59).parse,o=e(59).annotate,a=e(59).isArray,s=function(e,t){t=t||{get:function(e){throw n.push(e),p('No provider for "'+e+'"!')}};var n=[],c=this._providers=Object.create(t._providers||null),l=this._instances=Object.create(null),u=l.injector=this,p=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},d=function(e){if(!c[e]&&-1!==e.indexOf(".")){for(var i=e.split("."),r=d(i.shift());i.length;)r=r[i.shift()];return r}if(Object.hasOwnProperty.call(l,e))return l[e];if(Object.hasOwnProperty.call(c,e)){if(-1!==n.indexOf(e))throw n.push(e),p("Cannot resolve circular dependency!");return n.push(e),l[e]=c[e][0](c[e][1]),n.pop(),l[e]}return t.get(e)},f=function(e){var t=Object.create(e.prototype),n=h(e,t);return"object"==typeof n?n:t},h=function(e,t){if("function"!=typeof e){if(!a(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=o(e.slice())}var n=e.$inject&&e.$inject||r(e),i=n.map(function(e){return d(e)});return e.apply(t,i)},m=function(e){return o(function(t){return e.get(t)})},g=function(e,t){if(t&&t.length){var n,i,r,o,a=Object.create(null),l=Object.create(null),p=[],d=[],f=[];for(var h in c)n=c[h],-1!==t.indexOf(h)&&("private"===n[2]?(i=p.indexOf(n[3]),-1===i?(r=n[3].createChild([],t),o=m(r),p.push(n[3]),d.push(r),f.push(o),a[h]=[o,h,"private",r]):a[h]=[f[i],h,"private",d[i]]):a[h]=[n[2],n[1]],l[h]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(a[h]=[n[2],n[1]],l[e]=!0)});t.forEach(function(e){if(!l[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(a)}return new s(e,u)},v={factory:h,type:f,value:function(e){return e}};e.forEach(function(e){function t(e,t){return"value"!==e&&a(t)&&(t=o(t.slice())),t}if(e instanceof i)e.forEach(function(e){var n=e[0],i=e[1],r=e[2];c[n]=[v[i],t(i,r),i]});else if("object"==typeof e)if(e.__exports__){var n=Object.keys(e).reduce(function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t},Object.create(null)),r=new s((e.__modules__||[]).concat([n]),u),l=o(function(e){return r.get(e)});e.__exports__.forEach(function(e){c[e]=[l,e,"private",r]})}else Object.keys(e).forEach(function(n){if("private"===e[n][2])return void(c[n]=e[n]);var i=e[n][0],r=e[n][1];c[n]=[v[i],t(i,r),i]})}),this.get=d,this.invoke=h,this.instantiate=f,this.createChild=g};t.exports=s},{59:59,62:62}],62:[function(e,t,n){var i=function(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}};t.exports=i},{}],63:[function(e,t,n){t.exports=e(66)},{66:66}],64:[function(e,t,n){"use strict";function i(e,t){s.call(this,e,t)}var r=e(177),o=e(173),a=e(179),s=e(72),c=e(68),l=e(69);i.prototype=Object.create(s.prototype),t.exports=i,i.prototype.fromXML=function(e,t,n,i){r(t)||(i=n,n=t,t="dmn:Definitions"),o(n)&&(i=n,n={});var s=new c(a({model:this,lax:!0},n)),l=s.handler(t);s.fromXML(e,l,i)},i.prototype.toXML=function(e,t,n){o(t)&&(n=t,t={});var i=new l(t);try{var r=i.toXML(e);n(null,r)}catch(a){n(a)}}},{173:173,177:177,179:179,68:68,69:69,72:72}],65:[function(e,t,n){"use strict";var i=/^(.*:)?id$/;t.exports.extend=function(e,t){var n=e.properties.set;return e.ids||(e.properties.set=function(t,r,o){if(i.test(r)){var a=e.ids.assigned(o);if(a&&a!==t)throw new Error("id <"+o+"> already used");e.ids.claim(o,t)}n.call(this,t,r,o)}),e.ids=t,e}},{}],66:[function(e,t,n){"use strict";var i=e(179),r=e(64),o={dmn:e(81)};t.exports=function(e,t){return new r(i({},o,e),t)}},{179:179,64:64,81:81}],67:[function(e,t,n){"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return e.charAt(0).toLowerCase()+e.slice(1)}function o(e){return e.xml&&"lowerCase"===e.xml.tagAlias}function a(e){return e.xml&&e.xml.serialize}t.exports.aliasToName=function(e,t){return o(t)?i(e):e},t.exports.nameToAlias=function(e,t){return o(t)?r(e):e},t.exports.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var s=t.exports.XSI_TYPE="xsi:type";t.exports.serializeAsType=function(e){return a(e)===s},t.exports.serializeAsProperty=function(e){return"property"===a(e)}},{}],68:[function(e,t,n){"use strict";function i(e){var t=e.attributes;return g(t,function(e,t,n){var i,r;return t.local?(r=C(t.name,t.prefix),i=r.name):i=t.prefix,e[i]=t.value,e},{})}function r(e,t,n){var i,r=C(t.value),o=e.ns[r.prefix||""],a=r.localName,s=o&&n.getPackage(o);s&&(i=s.xml&&s.xml.typePrefix,i&&0===a.indexOf(i)&&(a=a.slice(i.length)),t.value=s.prefix+":"+a)}function o(e,t,n){var i,a;if(i=e.uri||n){var s=t.getPackage(i);a=s?s.prefix:e.prefix,e.prefix=a,e.uri=i}v(e.attributes,function(n){n.uri===I&&"type"===n.local&&r(e,n,t),o(n,t,null)})}function a(e){b(this,e);var t=this.elementsById={},n=this.references=[],i=this.warnings=[];this.addReference=function(e){n.push(e)},this.addElement=function(e,n){if(!e||!n)throw new Error("[xml-reader] id or ctx must not be null");t[e]=n},this.addWarning=function(e){i.push(e)}}function s(){}function c(){}function l(){}function u(e,t){this.property=e,this.context=t}function p(e,t){this.element=t,this.propertyDesc=e}function d(){}function f(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function h(e,t,n){this.model=e,this.context=n}function m(e){e instanceof E&&(e={model:e}),b(this,{lax:!1},e)}var g=e(95),v=e(92),y=e(91),b=e(179),w=e(98),x=e(71),_=e(70).parser,E=e(72),C=e(77).parseName,T=e(80),A=T.coerceType,S=T.isSimple,k=e(67),D=k.XSI_TYPE,I=k.DEFAULT_NS_MAP.xsi,N=k.serializeAsType,P=k.aliasToName;s.prototype.handleEnd=function(){},s.prototype.handleText=function(){},s.prototype.handleNode=function(){},c.prototype=new s,c.prototype.handleNode=function(){return this},l.prototype=new s,l.prototype.handleText=function(e){this.body=(this.body||"")+e},u.prototype=new l,u.prototype.handleNode=function(e){if(this.element)throw new Error("expected no sub nodes");return this.element=this.createReference(e),this},u.prototype.handleEnd=function(){this.element.id=this.body},u.prototype.createReference=function(){return{property:this.property.ns.name,id:""}},p.prototype=new l,p.prototype.handleEnd=function(){var e=this.body,t=this.element,n=this.propertyDesc;e=A(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},d.prototype=Object.create(l.prototype),d.prototype.handleNode=function(e){var t,n=this,i=this.element;return i?n=this.handleChild(e):(i=this.element=this.createElement(e),t=i.id,t&&this.context.addElement(t,i)),n},f.prototype=new d,f.prototype.addReference=function(e){this.context.addReference(e)},f.prototype.handleEnd=function(){var e=this.body,t=this.element,n=t.$descriptor,i=n.bodyProperty;i&&void 0!==e&&(e=A(i.type,e),t.set(i.name,e))},f.prototype.createElement=function(e){var t=i(e),n=this.type,r=n.$descriptor,o=this.context,a=new n({});return v(t,function(e,t){var n=r.propertiesByName[t];n&&n.isReference?o.addReference({element:a,property:n.ns.name,id:e}):(n&&(e=A(n.type,e)),a.set(t,e))}),a},f.prototype.getPropertyForNode=function(e){var t,n,i,r=C(e.local,e.prefix),o=this.type,a=this.model,s=o.$descriptor,c=r.name,l=s.propertiesByName[c];if(l)return N(l)&&(i=e.attributes[D])?(t=i.value,n=a.getType(t),b({},l,{effectiveType:n.$descriptor.name})):l;var u=a.getPackage(r.prefix);if(u){if(t=r.prefix+":"+P(r.localName,s.$pkg),n=a.getType(t),l=y(s.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)}))return b({},l,{effectiveType:n.$descriptor.name})}else if(l=y(s.properties,function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type}))return l;throw new Error("unrecognized element <"+r.name+">")},f.prototype.toString=function(){return"ElementDescriptor["+this.type.$descriptor.name+"]"},f.prototype.valueHandler=function(e,t){return new p(e,t)},f.prototype.referenceHandler=function(e){return new u(e,this.context)},f.prototype.handler=function(e){return"Element"===e?new h(this.model,e,this.context):new f(this.model,e,this.context)},f.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,S(n))return this.valueHandler(t,i);r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e);var o=r.element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(b(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},h.prototype=Object.create(d.prototype),h.prototype.createElement=function(e){var t=e.name,n=e.prefix,i=e.ns[n],r=e.attributes;return this.model.createAny(t,i,r)},h.prototype.handleChild=function(e){var t,n=new h(this.model,"Element",this.context).handleNode(e),i=this.element,r=n.element;return void 0!==r&&(t=i.$children=i.$children||[],t.push(r),r.$parent=i),n},h.prototype.handleText=function(e){this.body=this.body||""+e},h.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},m.prototype.fromXML=function(e,t,n){function i(){var e,t,n=d.elementsById,i=d.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],a=r.$descriptor.propertiesByName[t.property];if(o||d.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),a.isMany){var s=r.get(a.name),c=s.indexOf(t);o?s[c]=o:s.splice(c,1)}else r.set(a.name,o)}}function r(e){h.pop().handleEnd()}function s(e){var t=h.peek();o(e,u);try{h.push(t.handleNode(e))}catch(n){var i=this.line,r=this.column,a="unparsable content <"+e.name+"> detected\n	line: "+i+"\n	column: "+r+"\n	nested error: "+n.message;if(!p)throw console.error("could not parse document"),console.error(n),new Error(a);d.addWarning({message:a,error:n}),console.warn("could not parse node"),console.warn(n),h.push(new c)}}function l(e){h.peek().handleText(e)}var u=this.model,p=this.lax,d=new a({parseRoot:t}),f=new _(!0,{xmlns:!0,trim:!0}),h=new x;t.context=d,h.push(t),f.onopentag=s,f.oncdata=f.ontext=l,f.onclosetag=r,f.onend=i,w(function(){var i;try{f.write(e).close()}catch(r){i=r}n(i,i?void 0:t.element,d)})},m.prototype.handler=function(e){return new f(this.model,e)},t.exports=m,t.exports.ElementHandler=f},{179:179,67:67,70:70,71:71,72:72,77:77,80:80,91:91,92:92,95:95,98:98}],69:[function(e,t,n){"use strict";function i(e){return w(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function r(e,t){return t.isGeneric?t.name:_({localName:A(t.ns.localName,t.$pkg)},e)}function o(e,t){return _({localName:t.ns.localName},e)}function a(e){var t=e.$descriptor;return x(t.properties,function(t){var n=t.name;if(!e.hasOwnProperty(n))return!1;var i=e[n];return i===t["default"]?!1:t.isMany?i.length:!0})}function s(e){return e=w(e)?e:""+e,e.replace(I,function(e){return"&#"+R[e]+";"})}function c(e){return x(e,function(e){return e.isAttr})}function l(e){return x(e,function(e){return!e.isAttr})}function u(e,t){this.ns=t}function p(){}function d(e){this.ns=e}function f(e,t){this.body=[],this.attrs=[],this.parent=e,this.ns=t}function h(e,t){f.call(this,e,t)}function m(){this.value="",this.write=function(e){this.value+=e}}function g(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function v(e){function t(t,n){var i=n||new m,r=new g(i,e.format);return e.preamble&&r.append(D),(new f).build(t).serializeTo(r),n?void 0:i.value}return e=_({format:!1,preamble:!0},e||{}),{toXML:t}}var y=e(94),b=e(92),w=e(177),x=e(90),_=e(179),E=e(80),C=e(77).parseName,T=e(67),A=T.nameToAlias,S=T.serializeAsType,k=T.serializeAsProperty,D='<?xml version="1.0" encoding="UTF-8"?>\n',I=/(<|>|'|"|&|\n\r|\n)/g,N=T.DEFAULT_NS_MAP,P=T.XSI_TYPE,R={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};u.prototype.build=function(e){return this.element=e,this},u.prototype.serializeTo=function(e){e.appendIndent().append("<"+i(this.ns)+">"+this.element.id+"</"+i(this.ns)+">").appendNewLine()},p.prototype.serializeValue=p.prototype.serializeTo=function(e){var t=this.escape;t&&e.append("<![CDATA["),e.append(this.value),t&&e.append("]]>")},p.prototype.build=function(e,t){return this.value=t,"String"===e.type&&I.test(t)&&(this.escape=!0),this},d.prototype=new p,d.prototype.serializeTo=function(e){e.appendIndent().append("<"+i(this.ns)+">"),this.serializeValue(e),e.append("</"+i(this.ns)+">").appendNewLine()},f.prototype.build=function(e){this.element=e;var t=this.parseNsAttributes(e);if(this.ns||(this.ns=this.nsTagName(e.$descriptor)),e.$descriptor.isGeneric)this.parseGeneric(e);else{var n=a(e);this.parseAttributes(c(n)),this.parseContainments(l(n)),this.parseGenericAttributes(e,t)}return this},f.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return r(t,e)},f.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return o(t,e)},f.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},f.prototype.nsAttributeName=function(e){var t;w(e)?t=C(e):e.ns&&(t=e.ns);var n=this.logNamespaceUsed(t);return this.isLocalNs(n)?{localName:t.localName}:_({localName:t.localName},n)},f.prototype.parseGeneric=function(e){var t=this,n=this.body,i=this.attrs;b(e,function(e,r){"$body"===r?n.push((new p).build({type:"String"},e)):"$children"===r?b(e,function(e){n.push(new f(t).build(e))}):0!==r.indexOf("$")&&i.push({name:r,value:s(e)})})},f.prototype.parseNsAttributes=function(e){var t=this,n=e.$attrs,i=[];return b(n,function(e,n){var r=C(n);"xmlns"===r.prefix?t.logNamespace({prefix:r.localName,uri:e}):r.prefix||"xmlns"!==r.localName?i.push({name:n,value:e}):t.logNamespace({uri:e})}),i},f.prototype.parseGenericAttributes=function(e,t){var n=this;b(t,function(t){if(t.name!==P)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(i){console.warn("[writer] missing namespace information for ",t.name,"=",t.value,"on",e,i)}})},f.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;b(e,function(e){var r=i.get(e.name),o=e.isReference,a=e.isMany,s=t.nsPropertyTagName(e);if(a||(r=[r]),e.isBody)n.push((new p).build(e,r[0]));else if(E.isSimple(e.type))b(r,function(t){n.push(new d(s).build(e,t))});else if(o)b(r,function(e){n.push(new u(t,s).build(e))});else{var c=S(e),l=k(e);b(r,function(e){var i;i=c?new h(t,s):l?new f(t,s):new f(t),n.push(i.build(e))})}})},f.prototype.getNamespaces=function(){return this.parent?this.namespaces=this.parent.getNamespaces():this.namespaces||(this.namespaces={prefixMap:{},uriMap:{},used:{}}),this.namespaces},f.prototype.logNamespace=function(e){var t=this.getNamespaces(),n=t.uriMap[e.uri];return n||(t.uriMap[e.uri]=e),t.prefixMap[e.prefix]=e.uri,e},f.prototype.logNamespaceUsed=function(e){var t=this.element,n=t.$model,i=this.getNamespaces(),r=e.prefix,o=e.uri||N[r]||i.prefixMap[r]||(n?(n.getPackage(r)||{}).uri:null);if(!o)throw new Error("no namespace uri given for prefix <"+e.prefix+">");return e=i.uriMap[o],e||(e=this.logNamespace({prefix:r,uri:o})),i.used[e.uri]||(i.used[e.uri]=e),e},f.prototype.parseAttributes=function(e){var t=this,n=this.element;b(e,function(e){t.logNamespaceUsed(e.ns);var i=n.get(e.name);e.isReference&&(i=i.id),t.addAttribute(t.nsAttributeName(e),i)})},f.prototype.addAttribute=function(e,t){var n=this.attrs;w(t)&&(t=s(t)),n.push({name:e,value:t})},f.prototype.serializeAttributes=function(e){function t(){return y(o.used,function(e){var t="xmlns"+(e.prefix?":"+e.prefix:"");return{name:t,value:e.uri}})}var n=this.attrs,r=!this.parent,o=this.namespaces;r&&(n=t().concat(n)),b(n,function(t){e.append(" ").append(i(t.name)).append('="').append(t.value).append('"')})},f.prototype.serializeTo=function(e){var t=this.body.length,n=!(1===this.body.length&&this.body[0]instanceof p);e.appendIndent().append("<"+i(this.ns)),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),b(this.body,function(t){t.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+i(this.ns)+">")),e.appendNewLine()},h.prototype=new f,h.prototype.build=function(e){var t=e.$descriptor;this.element=e,this.typeNs=this.nsTagName(t);var n=this.typeNs,i=e.$model.getPackage(n.uri),r=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(P),(n.prefix?n.prefix+":":"")+r+t.ns.localName),f.prototype.build.call(this,e)},h.prototype.isLocalNs=function(e){return e.uri===this.typeNs.uri},t.exports=v},{177:177,179:179,67:67,77:77,80:80,90:90,92:92,94:94}],70:[function(e,t,n){(function(t){!function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);var r=this;o(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=z.BEGIN,r.ENTITIES=Object.create(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(V)),r.trackPosition=r.opt.position!==!1,r.trackPosition&&(r.position=r.line=r.column=0),f(r,"onready")}function r(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),i=0,r=0,o=S.length;o>r;r++){var a=e[S[r]].length;if(a>t)switch(S[r]){case"textNode":m(e);break;case"cdata":h(e,"oncdata",e.cdata),e.cdata="";break;case"script":h(e,"onscript",e.script),e.script="";break;default:v(e,"Max buffer length exceeded: "+S[r])}i=Math.max(i,a)}e.bufferCheckPosition=n.MAX_BUFFER_LENGTH-i+e.position}function o(e){for(var t=0,n=S.length;n>t;t++)e[S[t]]=""}function a(e){m(e),""!==e.cdata&&(h(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(h(e,"onscript",e.script),e.script="")}function s(e,t){return new c(e,t)}function c(e,t){if(!(this instanceof c))return new c(e,t);k.apply(this),this._parser=new i(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,I.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){return t?void n.on(e,t):(n.removeAllListeners(e),n._parser["on"+e]=t)},enumerable:!0,configurable:!1})})}function l(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function u(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(e,t){return u(e)?!!t.match(e):e[t]}function d(e,t){return!p(e,t)}function f(e,t,n){e[t]&&e[t](n)}function h(e,t,n){e.textNode&&m(e),f(e,t,n)}function m(e){e.textNode=g(e.opt,e.textNode),e.textNode&&f(e,"ontext",e.textNode),e.textNode=""}function g(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function v(e,t){return m(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,f(e,"onerror",t),e}function y(e){return e.closedRoot||b(e,"Unclosed root tag"),e.state!==z.BEGIN&&e.state!==z.TEXT&&v(e,"Unexpected end"),m(e),e.c="",e.closed=!0,f(e,"onend"),i.call(e,e.strict,e.opt),e}function b(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&v(e,t)}function w(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0}function x(e,t){var n=e.indexOf(":"),i=0>n?["",e]:e.split(":"),r=i[0],o=i[1];return t&&"xmlns"===e&&(r="xmlns",o=""),{prefix:r,local:o}}function _(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return e.attribName=e.attribValue="";if(e.opt.xmlns){var t=x(e.attribName,!0),n=t.prefix,i=t.local;if("xmlns"===n)if("xml"===i&&e.attribValue!==B)b(e,"xml: prefix must be bound to "+B+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==j)b(e,"xmlns: prefix must be bound to "+j+"\nActual: "+e.attribValue);else{var r=e.tag,o=e.tags[e.tags.length-1]||e;r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,h(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function E(e,t){if(e.opt.xmlns){var n=e.tag,i=x(e.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(b(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=i.prefix);var r=e.tags[e.tags.length-1]||e;n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){h(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,a=e.attribList.length;a>o;o++){var s=e.attribList[o],c=s[0],l=s[1],u=x(c,!0),p=u.prefix,d=u.local,f=""==p?"":n.ns[p]||"",m={name:c,value:l,prefix:p,local:d,uri:f};p&&"xmlns"!=p&&!f&&(b(e,"Unbound namespace prefix: "+JSON.stringify(p)),m.uri=p),e.tag.attributes[c]=m,h(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),h(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=z.TEXT:e.state=z.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function C(e){if(!e.tagName)return b(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=z.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=z.SCRIPT);h(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var i=n;t--;){var r=e.tags[t];if(r.name===i)break;b(e,"Unexpected close tag")}if(0>t)return b(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=z.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,h(e,"onclosetag",e.tagName);var s={};for(var c in a.ns)s[c]=a.ns[c];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(t){var n=a.ns[t];h(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=z.TEXT}function T(e){var t,n=e.entity,i=n.toLowerCase(),r="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[i]?e.ENTITIES[i]:(n=i,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),r=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),r=t.toString(10))),n=n.replace(/^0+/,""),r.toLowerCase()!==n?(b(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function A(e){var t=this;if(this.error)throw this.error;if(t.closed)return v(t,"Cannot write after close. Assign an onready handler.");if(null===e)return y(t);for(var n=0,i="";t.c=i=e.charAt(n++);)switch(t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++),t.state){case z.BEGIN:"<"===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):d(N,i)&&(b(t,"Non-whitespace before first tag."),t.textNode=i,t.state=z.TEXT);continue;case z.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)i=e.charAt(n++),i&&t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):(!d(N,i)||t.sawRoot&&!t.closedRoot||b(t,"Text data outside of root node."),"&"===i?t.state=z.TEXT_ENTITY:t.textNode+=i);continue;case z.SCRIPT:"<"===i?t.state=z.SCRIPT_ENDING:t.script+=i;continue;case z.SCRIPT_ENDING:"/"===i?t.state=z.CLOSE_TAG:(t.script+="<"+i,t.state=z.SCRIPT);continue;case z.OPEN_WAKA:if("!"===i)t.state=z.SGML_DECL,t.sgmlDecl="";else if(p(N,i));else if(p(U,i))t.state=z.OPEN_TAG,t.tagName=i;else if("/"===i)t.state=z.CLOSE_TAG,t.tagName="";else if("?"===i)t.state=z.PROC_INST,t.procInstName=t.procInstBody="";else{if(b(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;i=new Array(a).join(" ")+i}t.textNode+="<"+i,t.state=z.TEXT}continue;case z.SGML_DECL:(t.sgmlDecl+i).toUpperCase()===L?(h(t,"onopencdata"),t.state=z.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+i==="--"?(t.state=z.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+i).toUpperCase()===F?(t.state=z.DOCTYPE,(t.doctype||t.sawRoot)&&b(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===i?(h(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=z.TEXT):p(O,i)?(t.state=z.SGML_DECL_QUOTED,t.sgmlDecl+=i):t.sgmlDecl+=i;continue;case z.SGML_DECL_QUOTED:i===t.q&&(t.state=z.SGML_DECL,t.q=""),t.sgmlDecl+=i;continue;case z.DOCTYPE:">"===i?(t.state=z.TEXT,h(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=i,"["===i?t.state=z.DOCTYPE_DTD:p(O,i)&&(t.state=z.DOCTYPE_QUOTED,t.q=i));continue;case z.DOCTYPE_QUOTED:t.doctype+=i,i===t.q&&(t.q="",t.state=z.DOCTYPE);continue;case z.DOCTYPE_DTD:t.doctype+=i,"]"===i?t.state=z.DOCTYPE:p(O,i)&&(t.state=z.DOCTYPE_DTD_QUOTED,t.q=i);continue;case z.DOCTYPE_DTD_QUOTED:t.doctype+=i,i===t.q&&(t.state=z.DOCTYPE_DTD,t.q="");continue;case z.COMMENT:"-"===i?t.state=z.COMMENT_ENDING:t.comment+=i;
continue;case z.COMMENT_ENDING:"-"===i?(t.state=z.COMMENT_ENDED,t.comment=g(t.opt,t.comment),t.comment&&h(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+i,t.state=z.COMMENT);continue;case z.COMMENT_ENDED:">"!==i?(b(t,"Malformed comment"),t.comment+="--"+i,t.state=z.COMMENT):t.state=z.TEXT;continue;case z.CDATA:"]"===i?t.state=z.CDATA_ENDING:t.cdata+=i;continue;case z.CDATA_ENDING:"]"===i?t.state=z.CDATA_ENDING_2:(t.cdata+="]"+i,t.state=z.CDATA);continue;case z.CDATA_ENDING_2:">"===i?(t.cdata&&h(t,"oncdata",t.cdata),h(t,"onclosecdata"),t.cdata="",t.state=z.TEXT):"]"===i?t.cdata+="]":(t.cdata+="]]"+i,t.state=z.CDATA);continue;case z.PROC_INST:"?"===i?t.state=z.PROC_INST_ENDING:p(N,i)?t.state=z.PROC_INST_BODY:t.procInstName+=i;continue;case z.PROC_INST_BODY:if(!t.procInstBody&&p(N,i))continue;"?"===i?t.state=z.PROC_INST_ENDING:t.procInstBody+=i;continue;case z.PROC_INST_ENDING:">"===i?(h(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=z.TEXT):(t.procInstBody+="?"+i,t.state=z.PROC_INST_BODY);continue;case z.OPEN_TAG:p(q,i)?t.tagName+=i:(w(t),">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:(d(N,i)&&b(t,"Invalid character in tag name"),t.state=z.ATTRIB));continue;case z.OPEN_TAG_SLASH:">"===i?(E(t,!0),C(t)):(b(t,"Forward-slash in opening tag not followed by >"),t.state=z.ATTRIB);continue;case z.ATTRIB:if(p(N,i))continue;">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:p(U,i)?(t.attribName=i,t.attribValue="",t.state=z.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case z.ATTRIB_NAME:"="===i?t.state=z.ATTRIB_VALUE:">"===i?(b(t,"Attribute without value"),t.attribValue=t.attribName,_(t),E(t)):p(N,i)?t.state=z.ATTRIB_NAME_SAW_WHITE:p(q,i)?t.attribName+=i:b(t,"Invalid attribute name");continue;case z.ATTRIB_NAME_SAW_WHITE:if("="===i)t.state=z.ATTRIB_VALUE;else{if(p(N,i))continue;b(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",h(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===i?E(t):p(U,i)?(t.attribName=i,t.state=z.ATTRIB_NAME):(b(t,"Invalid attribute name"),t.state=z.ATTRIB)}continue;case z.ATTRIB_VALUE:if(p(N,i))continue;p(O,i)?(t.q=i,t.state=z.ATTRIB_VALUE_QUOTED):(b(t,"Unquoted attribute value"),t.state=z.ATTRIB_VALUE_UNQUOTED,t.attribValue=i);continue;case z.ATTRIB_VALUE_QUOTED:if(i!==t.q){"&"===i?t.state=z.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=i;continue}_(t),t.q="",t.state=z.ATTRIB_VALUE_CLOSED;continue;case z.ATTRIB_VALUE_CLOSED:p(N,i)?t.state=z.ATTRIB:">"===i?E(t):"/"===i?t.state=z.OPEN_TAG_SLASH:p(U,i)?(b(t,"No whitespace between attributes"),t.attribName=i,t.attribValue="",t.state=z.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case z.ATTRIB_VALUE_UNQUOTED:if(d($,i)){"&"===i?t.state=z.ATTRIB_VALUE_ENTITY_U:t.attribValue+=i;continue}_(t),">"===i?E(t):t.state=z.ATTRIB;continue;case z.CLOSE_TAG:if(t.tagName)">"===i?C(t):p(q,i)?t.tagName+=i:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=z.SCRIPT):(d(N,i)&&b(t,"Invalid tagname in closing tag"),t.state=z.CLOSE_TAG_SAW_WHITE);else{if(p(N,i))continue;d(U,i)?t.script?(t.script+="</"+i,t.state=z.SCRIPT):b(t,"Invalid tagname in closing tag."):t.tagName=i}continue;case z.CLOSE_TAG_SAW_WHITE:if(p(N,i))continue;">"===i?C(t):b(t,"Invalid characters in closing tag");continue;case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:switch(t.state){case z.TEXT_ENTITY:var s=z.TEXT,c="textNode";break;case z.ATTRIB_VALUE_ENTITY_Q:var s=z.ATTRIB_VALUE_QUOTED,c="attribValue";break;case z.ATTRIB_VALUE_ENTITY_U:var s=z.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===i?(t[c]+=T(t),t.entity="",t.state=s):p(M,i)?t.entity+=i:(b(t,"Invalid character entity"),t[c]+="&"+t.entity+i,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&r(t),t}n.parser=function(e,t){return new i(e,t)},n.SAXParser=i,n.SAXStream=c,n.createStream=s,n.MAX_BUFFER_LENGTH=65536;var S=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){this.__proto__=e}return t.prototype=e,new t}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.prototype={end:function(){y(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};try{var k=e("stream").Stream}catch(D){var k=function(){}}var I=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});c.prototype=Object.create(k.prototype,{constructor:{value:c}}),c.prototype.write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var i=e("string_decoder").StringDecoder;this._decoder=new i("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},c.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},c.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===I.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),k.prototype.on.call(n,e,t)};var N="\r\n	 ",P="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",O="'\"",M=P+R+"#",$=N+">",L="[CDATA[",F="DOCTYPE",B="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",V={xml:B,xmlns:j};N=l(N),P=l(P),R=l(R);var U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;O=l(O),M=l(M),$=l($);var z=0;n.STATE={BEGIN:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],i="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=i});for(var z in n.STATE)n.STATE[n.STATE[z]]=z;z=n.STATE,String.fromCodePoint||!function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,i,r=16384,o=[],a=-1,s=arguments.length;if(!s)return"";for(var c="";++a<s;){var l=Number(arguments[a]);if(!isFinite(l)||0>l||l>1114111||t(l)!=l)throw RangeError("Invalid code point: "+l);65535>=l?o.push(l):(l-=65536,n=(l>>10)+55296,i=l%1024+56320,o.push(n,i)),(a+1==s||o.length>r)&&(c+=e.apply(null,o),o.length=0)}return c};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}("undefined"==typeof n?sax={}:n)}).call(this,void 0)},{undefined:void 0}],71:[function(t,n,i){!function(t){function r(){this.data=[null],this.top=0}function o(){return new r}r.prototype.clear=function(){return this.data=[null],this.top=0,this},r.prototype.length=function(){return this.top},r.prototype.peek=function(){return this.data[this.top]},r.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},r.prototype.push=function(e){return this.data[++this.top]=e,this},"undefined"!=typeof i?n.exports=o:"function"==typeof e?e(function(){return o}):t.stack=o}(this)},{}],72:[function(e,t,n){t.exports=e(76)},{76:76}],73:[function(e,t,n){"use strict";function i(){}i.prototype.get=function(e){return this.$model.properties.get(this,e)},i.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},t.exports=i},{}],74:[function(e,t,n){"use strict";function i(e){this.ns=e,this.name=e.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var r=e(184),o=e(179),a=e(92),s=e(77).parseName;t.exports=i,i.prototype.build=function(){return r(this,["ns","name","allTypes","properties","propertiesByName","bodyProperty"])},i.prototype.addProperty=function(e,t){this.addNamedProperty(e,!0);var n=this.properties;void 0!==t?n.splice(t,0,e):n.push(e)},i.prototype.replaceProperty=function(e,t){var n=e.ns,i=this.properties,r=this.propertiesByName,o=e.name!==t.name;if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}this.addNamedProperty(t,o);var a=i.indexOf(e);if(-1===a)throw new Error("property <"+n.name+"> not found in property list");i[a]=t,r[n.name]=r[n.localName]=t},i.prototype.redefineProperty=function(e){var t=e.ns.prefix,n=e.redefines.split("#"),i=s(n[0],t),r=s(n[1],i.prefix).name,o=this.propertiesByName[r];if(!o)throw new Error("refined property <"+r+"> not found");this.replaceProperty(o,e),delete e.redefines},i.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},i.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},i.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},i.prototype.addIdProperty=function(e){var t=s(e,this.ns.prefix),n={name:t.localName,type:"String",isAttr:!0,ns:t};this.addProperty(n,0)},i.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},i.prototype.hasProperty=function(e){return this.propertiesByName[e]},i.prototype.addTrait=function(e){var t=this.allTypes;-1===t.indexOf(e)&&(a(e.properties,function(t){t=o({},t,{name:t.ns.localName}),Object.defineProperty(t,"definedBy",{value:e}),t.redefines?this.redefineProperty(t):(t.isBody&&this.setBodyProperty(t),this.addProperty(t))},this),t.push(e))}},{179:179,184:184,77:77,92:92}],75:[function(e,t,n){"use strict";function i(e,t){this.model=e,this.properties=t}var r=e(92),o=e(73);t.exports=i,i.prototype.createType=function(e){function t(e){i.define(this,"$type",{value:s,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),r(e,function(e,t){this.set(t,e)},this)}var n=this.model,i=this.properties,a=Object.create(o.prototype);r(e.properties,function(e){e.isMany||void 0===e["default"]||(a[e.name]=e["default"])}),i.defineModel(a,n),i.defineDescriptor(a,e);var s=e.ns.name;return t.prototype=a,t.hasType=a.$instanceOf=this.model.hasType,i.defineModel(t,n),i.defineDescriptor(t,e),t}},{73:73,92:92}],76:[function(e,t,n){"use strict";function i(e,t){t=t||{},this.properties=new u(this),this.factory=new c(this,this.properties),this.registry=new l(e,this.properties,t),this.typeCache={}}var r=e(177),o=e(176),a=e(92),s=e(91),c=e(75),l=e(79),u=e(78),p=e(77).parseName;t.exports=i,i.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},i.prototype.getType=function(e){var t=this.typeCache,n=r(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},i.prototype.createAny=function(e,t,n){var i=p(e),r={$type:e},s={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,s),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),a(n,function(e,t){o(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e}),r},i.prototype.getPackage=function(e){return this.registry.getPackage(e)},i.prototype.getPackages=function(){return this.registry.getPackages()},i.prototype.getElementDescriptor=function(e){return e.$descriptor},i.prototype.hasType=function(e,t){void 0===t&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return!!s(n.allTypes,function(e){return e.name===t})},i.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]}},{176:176,177:177,75:75,77:77,78:78,79:79,91:91,92:92}],77:[function(e,t,n){"use strict";t.exports.parseName=function(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return e=(i?i+":":"")+n,{name:e,prefix:i,localName:n}}},{}],78:[function(e,t,n){"use strict";function i(e){this.model=e}t.exports=i,i.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t);i?Object.defineProperty(e,i.name,{enumerable:!i.isReference,writable:!0,value:n}):e.$attrs[t]=n},i.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&Object.defineProperty(e,i,{enumerable:!n.isReference,writable:!0,value:[]}),e[i]},i.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},i.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},i.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})}},{}],79:[function(e,t,n){"use strict";function i(e,t,n){this.options=r({generateId:"id"},n||{}),this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,o(e,this.registerPackage,this)}var r=e(179),o=e(92),a=e(80),s=e(74),c=e(77).parseName,l=a.isBuiltIn;t.exports=i,i.prototype.getPackage=function(e){return this.packageMap[e]},i.prototype.getPackages=function(){return this.packages},i.prototype.registerPackage=function(e){e=r({},e),o(e.types,function(t){this.registerType(t,e)},this),this.packageMap[e.uri]=this.packageMap[e.prefix]=e,this.packages.push(e)},i.prototype.registerType=function(e,t){e=r({},e,{superClass:(e.superClass||[]).slice(),"extends":(e["extends"]||[]).slice(),properties:(e.properties||[]).slice()});var n=c(e.name,t.prefix),i=n.name,a={};o(e.properties,function(e){var t=c(e.name,n.prefix),i=t.name;l(e.type)||(e.type=c(e.type,t.prefix).name),r(e,{ns:t,name:i}),a[i]=e}),r(e,{ns:n,name:i,propertiesByName:a}),o(e["extends"],function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)},this),this.definePackage(e,t),this.typeMap[i]=e},i.prototype.mapTypes=function(e,t){function n(n){var i=c(n,l(n)?"":e.prefix);r.mapTypes(i,t)}var i=l(e.name)?{name:e.name}:this.typeMap[e.name],r=this;if(!i)throw new Error("unknown type <"+e.name+">");o(i.superClass,n),t(i),o(i.traits,n)},i.prototype.getEffectiveDescriptor=function(e){var t=c(e),n=new s(t);this.mapTypes(t,function(e){n.addTrait(e)});var i=this.options.generateId;i&&!n.hasProperty(i)&&n.addIdProperty(i);var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},i.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})}},{179:179,74:74,77:77,80:80,92:92}],80:[function(e,t,n){"use strict";var i={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};t.exports.coerceType=function(e,t){var n=r[e];return n?n(t):t},t.exports.isBuiltIn=function(e){return!!i[e]},t.exports.isSimple=function(e){return!!r[e]}},{}],81:[function(e,t,n){t.exports={name:"DMN",uri:"http://www.omg.org/spec/DMN/20151101/dmn11.xsd",xml:{tagAlias:"lowerCase"},prefix:"dmn",types:[{name:"DMNElement",properties:[{name:"description",type:"String"},{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0}]},{name:"NamedElement",superClass:["DMNElement"],properties:[{name:"name",type:"String",isAttr:!0}]},{name:"DMNElementReference",properties:[{name:"href",type:"String",isAttr:!0}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"namespace",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"decision",type:"Decision",isMany:!0,xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeLanguage",type:"String",isAttr:!0},{name:"isCollection",type:"Boolean",isAttr:!0,"default":!1},{name:"typeRef",type:"String"},{name:"allowedValue",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",superClass:["DMNElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"}]},{name:"DRGElement",superClass:["NamedElement"],properties:[]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String"},{name:"allowedAnswers",type:"String"},{name:"decisionTable",type:"DecisionTable",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,"default":"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0,"default":"Rule-as-Row"},{name:"outputLabel",type:"String",isAttr:!0}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",type:"String",isAttr:!0},{name:"typeRef",type:"String",isAttr:!0}]},{name:"UnaryTests",superClass:["DMNElement"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]}],emumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]}]}},{}],82:[function(e,t,n){"use strict";function i(e){e=e||[128,36,1],this._seed=e.length?r.rack(e[0],e[1],e[2]):e}var r=e(83);t.exports=i,i.prototype.next=function(e){return this._seed(e||!0)},i.prototype.nextPrefixed=function(e,t){var n;do n=e+this.next(!0);while(this.assigned(n));return this.claim(n,t),n},i.prototype.claim=function(e,t){this._seed.set(e,t||!0)},i.prototype.assigned=function(e){return this._seed.get(e)||!1},i.prototype.unclaim=function(e){delete this._seed.hats[e]}},{83:83}],83:[function(e,t,n){var i=t.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),0>=e)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),r=2;n===1/0;r*=2)n=Math.log(Math.pow(2,e/r))/Math.log(t)*r;for(var o=n-Math.floor(n),a="",r=0;r<Math.floor(n);r++){var s=Math.floor(Math.random()*t).toString(t);a=s+a}if(o){var c=Math.pow(t,o),s=Math.floor(Math.random()*c).toString(t);a=s+a}var l=parseInt(a,t);return l!==1/0&&l>=Math.pow(2,e)?i(e,t):a};i.rack=function(e,t,n){var r=function(r){var a=0;do{if(a++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var s=i(e,t)}while(Object.hasOwnProperty.call(o,s));return o[s]=r,s},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=t||16,r}},{}],84:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],85:[function(e,t,n){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=i},{}],86:[function(e,t,n){var i=e(121),r=e(140),o=e(99),a=o(function(e){return r(i(e,!1,!0))});t.exports=a},{121:121,140:140,99:99}],87:[function(e,t,n){function i(e,t,n,i){var c=e?e.length:0;return c?(null!=t&&"boolean"!=typeof t&&(i=n,n=a(e,t,i)?void 0:t,t=!1),n=null==n?n:r(n,i,3),t?s(e,n):o(e,n)):[]}var r=e(111),o=e(140),a=e(160),s=e(168);t.exports=i},{111:111,140:140,160:160,168:168}],88:[function(e,t,n){t.exports=e(87)},{87:87}],89:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return n&&c(e,t,n)&&(t=void 0),("function"!=typeof t||void 0!==n)&&(t=o(t,n,3)),i(e,t)}var r=e(103),o=e(111),a=e(117),s=e(172),c=e(160);t.exports=i},{103:103,111:111,117:117,160:160,172:172}],90:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return t=o(t,n,3),i(e,t)}var r=e(104),o=e(111),a=e(118),s=e(172);t.exports=i},{104:104,111:111,118:118,172:172}],91:[function(e,t,n){var i=e(115),r=e(148),o=r(i);t.exports=o},{115:115,148:148}],92:[function(e,t,n){var i=e(101),r=e(115),o=e(149),a=o(i,r);t.exports=a},{101:101,115:115,149:149}],93:[function(e,t,n){var i=e(102),r=e(116),o=e(149),a=o(i,r);t.exports=a},{102:102,116:116,149:149}],94:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a;return t=o(t,n,3),i(e,t)}var r=e(105),o=e(111),a=e(132),s=e(172);t.exports=i},{105:105,111:111,132:132,172:172}],95:[function(e,t,n){var i=e(107),r=e(115),o=e(150),a=o(i,r);t.exports=a},{107:107,115:115,150:150}],96:[function(e,t,n){var i=e(156),r=i(Date,"now"),o=r||function(){return(new Date).getTime()};t.exports=o},{156:156}],97:[function(e,t,n){function i(e,t,n){function i(){v&&clearTimeout(v),f&&clearTimeout(f),b=0,f=v=y=void 0}function c(t,n){n&&clearTimeout(n),f=v=y=void 0,t&&(b=o(),h=e.apply(g,d),v||f||(d=g=void 0))}function l(){var e=t-(o()-m);0>=e||e>t?c(y,f):v=setTimeout(l,e)}function u(){c(x,v)}function p(){if(d=arguments,m=o(),g=this,y=x&&(v||!_),w===!1)var n=_&&!v;else{f||_||(b=m);var i=w-(m-b),r=0>=i||i>w;r?(f&&(f=clearTimeout(f)),b=m,h=e.apply(g,d)):f||(f=setTimeout(u,i))}return r&&v?v=clearTimeout(v):v||t===w||(v=setTimeout(l,t)),n&&(r=!0,h=e.apply(g,d)),!r||v||f||(d=g=void 0),h}var d,f,h,m,g,v,y,b=0,w=!1,x=!0;if("function"!=typeof e)throw new TypeError(a);if(t=0>t?0:+t||0,n===!0){var _=!0;x=!1}else r(n)&&(_=!!n.leading,w="maxWait"in n&&s(+n.maxWait||0,t),x="trailing"in n?!!n.trailing:x);return p.cancel=i,p}var r=e(176),o=e(96),a="Expected a function",s=Math.max;t.exports=i},{176:176,96:96}],98:[function(e,t,n){var i=e(113),r=e(99),o=r(function(e,t){return i(e,1,t)});t.exports=o},{113:113,99:99}],99:[function(e,t,n){function i(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=o(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=a,e.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=i},{}],100:[function(e,t,n){(function(n){function i(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var r=e(143),o=e(156),a=o(n,"Set"),s=o(Object,"create");i.prototype.push=r,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{143:143,156:156}],101:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],102:[function(e,t,n){function i(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],103:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}t.exports=i},{}],104:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[++r]=a)}return o}t.exports=i},{}],105:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}t.exports=i},{}],106:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}t.exports=i},{}],107:[function(e,t,n){function i(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}t.exports=i},{}],108:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}t.exports=i},{}],109:[function(e,t,n){function i(e,t,n){for(var i=-1,o=r(t),a=o.length;++i<a;){var s=o[i],c=e[s],l=n(c,t[s],s,e,t);(l===l?l===c:c!==c)&&(void 0!==c||s in e)||(e[s]=l)}return e}var r=e(180);t.exports=i},{180:180}],110:[function(e,t,n){function i(e,t){return null==t?e:r(t,o(t),e)}var r=e(112),o=e(180);t.exports=i},{112:112,180:180}],111:[function(e,t,n){function i(e,t,n){var i=typeof e;return"function"==i?void 0===t?e:a(e,t,n):null==e?s:"object"==i?r(e):void 0===t?c(e):o(e,t)}var r=e(133),o=e(134),a=e(141),s=e(185),c=e(186);t.exports=i},{133:133,134:134,141:141,185:185,186:186}],112:[function(e,t,n){function i(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}t.exports=i},{}],113:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}var r="Expected a function";t.exports=i},{}],114:[function(e,t,n){function i(e,t){var n=e?e.length:0,i=[];if(!n)return i;var c=-1,l=r,u=!0,p=u&&t.length>=s?a(t):null,d=t.length;p&&(l=o,u=!1,t=p);e:for(;++c<n;){var f=e[c];if(u&&f===f){for(var h=d;h--;)if(t[h]===f)continue e;i.push(f)}else l(t,f,0)<0&&i.push(f)}return i}var r=e(128),o=e(142),a=e(147),s=200;t.exports=i},{128:128,142:142,147:147}],115:[function(e,t,n){var i=e(124),r=e(145),o=r(i);t.exports=o},{124:124,145:145}],116:[function(e,t,n){var i=e(125),r=e(145),o=r(i,!0);t.exports=o},{125:125,145:145}],117:[function(e,t,n){function i(e,t){var n=!0;return r(e,function(e,i,r){return n=!!t(e,i,r)}),n}var r=e(115);t.exports=i},{115:115}],118:[function(e,t,n){function i(e,t){var n=[];return r(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}var r=e(115);t.exports=i},{115:115}],119:[function(e,t,n){function i(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}t.exports=i},{}],120:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}t.exports=i},{}],121:[function(e,t,n){function i(e,t,n,l){l||(l=[]);for(var u=-1,p=e.length;++u<p;){var d=e[u];c(d)&&s(d)&&(n||a(d)||o(d))?t?i(d,t,n,l):r(l,d):n||(l[l.length]=d)}return l}var r=e(106),o=e(171),a=e(172),s=e(158),c=e(163);t.exports=i},{106:106,158:158,163:163,171:171,172:172}],122:[function(e,t,n){var i=e(146),r=i();t.exports=r},{146:146}],123:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e(122),o=e(181);t.exports=i},{122:122,181:181}],124:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e(122),o=e(180);t.exports=i},{122:122,180:180}],125:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e(126),o=e(180);t.exports=i},{126:126,180:180}],126:[function(e,t,n){var i=e(146),r=i(!0);t.exports=r},{146:146}],127:[function(e,t,n){function i(e,t,n){if(null!=e){void 0!==n&&n in r(e)&&(t=[n]);for(var i=0,o=t.length;null!=e&&o>i;)e=e[t[i++]];return i&&i==o?e:void 0}}var r=e(169);t.exports=i},{169:169}],128:[function(e,t,n){function i(e,t,n){if(t!==t)return r(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}var r=e(157);t.exports=i},{157:157}],129:[function(e,t,n){function i(e,t,n,s,c,l){return e===t?!0:null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:r(e,t,i,n,s,c,l)}var r=e(130),o=e(176),a=e(163);t.exports=i},{130:130,163:163,176:176}],130:[function(e,t,n){function i(e,t,n,i,d,m,g){var v=s(e),y=s(t),b=u,w=u;v||(b=h.call(e),b==l?b=p:b!=p&&(v=c(e))),y||(w=h.call(t),w==l?w=p:w!=p&&(y=c(t)));var x=b==p,_=w==p,E=b==w;if(E&&!v&&!x)return o(e,t,b);if(!d){var C=x&&f.call(e,"__wrapped__"),T=_&&f.call(t,"__wrapped__");if(C||T)return n(C?e.value():e,T?t.value():t,i,d,m,g)}if(!E)return!1;m||(m=[]),g||(g=[]);for(var A=m.length;A--;)if(m[A]==e)return g[A]==t;m.push(e),g.push(t);var S=(v?r:a)(e,t,n,i,d,m,g);return m.pop(),g.pop(),S}var r=e(151),o=e(152),a=e(153),s=e(172),c=e(178),l="[object Arguments]",u="[object Array]",p="[object Object]",d=Object.prototype,f=d.hasOwnProperty,h=d.toString;t.exports=i},{151:151,152:152,153:153,172:172,178:178}],131:[function(e,t,n){function i(e,t,n){var i=t.length,a=i,s=!n;if(null==e)return!a;for(e=o(e);i--;){var c=t[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1;
}for(;++i<a;){c=t[i];var l=c[0],u=e[l],p=c[1];if(s&&c[2]){if(void 0===u&&!(l in e))return!1}else{var d=n?n(u,p,l):void 0;if(!(void 0===d?r(p,u,n,!0):d))return!1}}return!0}var r=e(129),o=e(169);t.exports=i},{129:129,169:169}],132:[function(e,t,n){function i(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}var r=e(115),o=e(158);t.exports=i},{115:115,158:158}],133:[function(e,t,n){function i(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(void 0!==i||n in a(e))}}return function(e){return r(e,t)}}var r=e(131),o=e(155),a=e(169);t.exports=i},{131:131,155:155,169:169}],134:[function(e,t,n){function i(e,t){var n=s(e),i=c(e)&&l(t),f=e+"";return e=d(e),function(s){if(null==s)return!1;var c=f;if(s=p(s),(n||!i)&&!(c in s)){if(s=1==e.length?s:r(s,a(e,0,-1)),null==s)return!1;c=u(e),s=p(s)}return s[c]===t?void 0!==t||c in s:o(t,s[c],void 0,!0)}}var r=e(127),o=e(129),a=e(138),s=e(172),c=e(161),l=e(164),u=e(85),p=e(169),d=e(170);t.exports=i},{127:127,129:129,138:138,161:161,164:164,169:169,170:170,172:172,85:85}],135:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],136:[function(e,t,n){function i(e){var t=e+"";return e=o(e),function(n){return r(n,e,t)}}var r=e(127),o=e(170);t.exports=i},{127:127,170:170}],137:[function(e,t,n){function i(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}t.exports=i},{}],138:[function(e,t,n){function i(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n=void 0===n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}t.exports=i},{}],139:[function(e,t,n){function i(e){return null==e?"":e+""}t.exports=i},{}],140:[function(e,t,n){function i(e,t){var n=-1,i=r,c=e.length,l=!0,u=l&&c>=s,p=u?a():null,d=[];p?(i=o,l=!1):(u=!1,p=t?[]:d);e:for(;++n<c;){var f=e[n],h=t?t(f,n,e):f;if(l&&f===f){for(var m=p.length;m--;)if(p[m]===h)continue e;t&&p.push(h),d.push(f)}else i(p,h,0)<0&&((t||u)&&p.push(h),d.push(f))}return d}var r=e(128),o=e(142),a=e(147),s=200;t.exports=i},{128:128,142:142,147:147}],141:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,a){return e.call(t,n,i,r,o,a)}}return function(){return e.apply(t,arguments)}}var r=e(185);t.exports=i},{185:185}],142:[function(e,t,n){function i(e,t){var n=e.data,i="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return i?0:-1}var r=e(176);t.exports=i},{176:176}],143:[function(e,t,n){function i(e){var t=this.data;"string"==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=e(176);t.exports=i},{176:176}],144:[function(e,t,n){function i(e){return a(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,c=a>2?n[2]:void 0,l=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),c&&o(n[0],n[1],c)&&(s=3>a?void 0:s,a=1);++i<a;){var u=n[i];u&&e(t,u,s)}return t})}var r=e(141),o=e(160),a=e(99);t.exports=i},{141:141,160:160,99:99}],145:[function(e,t,n){function i(e,t){return function(n,i){var s=n?r(n):0;if(!o(s))return e(n,i);for(var c=t?s:-1,l=a(n);(t?c--:++c<s)&&i(l[c],c,l)!==!1;);return n}}var r=e(154),o=e(162),a=e(169);t.exports=i},{154:154,162:162,169:169}],146:[function(e,t,n){function i(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,c=e?s:-1;e?c--:++c<s;){var l=a[c];if(n(o[l],l,o)===!1)break}return t}}var r=e(169);t.exports=i},{169:169}],147:[function(e,t,n){(function(n){function i(e){return s&&a?new r(e):null}var r=e(100),o=e(156),a=o(n,"Set"),s=o(Object,"create");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{100:100,156:156}],148:[function(e,t,n){function i(e,t){return function(n,i,c){if(i=r(i,c,3),s(n)){var l=a(n,i,t);return l>-1?n[l]:void 0}return o(n,i,e)}}var r=e(111),o=e(119),a=e(120),s=e(172);t.exports=i},{111:111,119:119,120:120,172:172}],149:[function(e,t,n){function i(e,t){return function(n,i,a){return"function"==typeof i&&void 0===a&&o(n)?e(n,i):t(n,r(i,a,3))}}var r=e(141),o=e(172);t.exports=i},{141:141,172:172}],150:[function(e,t,n){function i(e,t){return function(n,i,s,c){var l=arguments.length<3;return"function"==typeof i&&void 0===c&&a(n)?e(n,i,s,l):o(n,r(i,c,4),s,l,t)}}var r=e(111),o=e(137),a=e(172);t.exports=i},{111:111,137:137,172:172}],151:[function(e,t,n){function i(e,t,n,i,o,a,s){var c=-1,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;for(;++c<l;){var p=e[c],d=t[c],f=i?i(o?d:p,o?p:d,c):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!r(t,function(e){return p===e||n(p,e,i,o,a,s)}))return!1}else if(p!==d&&!n(p,d,i,o,a,s))return!1}return!0}var r=e(108);t.exports=i},{108:108}],152:[function(e,t,n){function i(e,t,n){switch(n){case r:case o:return+e==+t;case a:return e.name==t.name&&e.message==t.message;case s:return e!=+e?t!=+t:e==+t;case c:case l:return e==t+""}return!1}var r="[object Boolean]",o="[object Date]",a="[object Error]",s="[object Number]",c="[object RegExp]",l="[object String]";t.exports=i},{}],153:[function(e,t,n){function i(e,t,n,i,o,s,c){var l=r(e),u=l.length,p=r(t),d=p.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var h=l[f];if(!(o?h in t:a.call(t,h)))return!1}for(var m=o;++f<u;){h=l[f];var g=e[h],v=t[h],y=i?i(o?v:g,o?g:v,h):void 0;if(!(void 0===y?n(g,v,i,o,s,c):y))return!1;m||(m="constructor"==h)}if(!m){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var r=e(180),o=Object.prototype,a=o.hasOwnProperty;t.exports=i},{180:180}],154:[function(e,t,n){var i=e(135),r=i("length");t.exports=r},{135:135}],155:[function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;)t[n][2]=r(t[n][1]);return t}var r=e(164),o=e(183);t.exports=i},{164:164,183:183}],156:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e(174);t.exports=i},{174:174}],157:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}t.exports=i},{}],158:[function(e,t,n){function i(e){return null!=e&&o(r(e))}var r=e(154),o=e(162);t.exports=i},{154:154,162:162}],159:[function(e,t,n){function i(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,o=9007199254740991;t.exports=i},{}],160:[function(e,t,n){function i(e,t,n){if(!a(n))return!1;var i=typeof t;if("number"==i?r(n)&&o(t,n.length):"string"==i&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e(158),o=e(159),a=e(176);t.exports=i},{158:158,159:159,176:176}],161:[function(e,t,n){function i(e,t){var n=typeof e;if("string"==n&&s.test(e)||"number"==n)return!0;if(r(e))return!1;var i=!a.test(e);return i||null!=t&&e in o(t)}var r=e(172),o=e(169),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=i},{169:169,172:172}],162:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;t.exports=i},{}],163:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],164:[function(e,t,n){function i(e){return e===e&&!r(e)}var r=e(176);t.exports=i},{176:176}],165:[function(e,t,n){function i(e,t){e=r(e);for(var n=-1,i=t.length,o={};++n<i;){var a=t[n];a in e&&(o[a]=e[a])}return o}var r=e(169);t.exports=i},{169:169}],166:[function(e,t,n){function i(e,t){var n={};return r(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}var r=e(123);t.exports=i},{123:123}],167:[function(e,t,n){function i(e){for(var t=c(e),n=t.length,i=n&&e.length,l=!!i&&s(i)&&(o(e)||r(e)),p=-1,d=[];++p<n;){var f=t[p];(l&&a(f,i)||u.call(e,f))&&d.push(f)}return d}var r=e(171),o=e(172),a=e(159),s=e(162),c=e(181),l=Object.prototype,u=l.hasOwnProperty;t.exports=i},{159:159,162:162,171:171,172:172,181:181}],168:[function(e,t,n){function i(e,t){for(var n,i=-1,r=e.length,o=-1,a=[];++i<r;){var s=e[i],c=t?t(s,i,e):s;i&&n===c||(n=c,a[++o]=s)}return a}t.exports=i},{}],169:[function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=e(176);t.exports=i},{176:176}],170:[function(e,t,n){function i(e){if(o(e))return e;var t=[];return r(e).replace(a,function(e,n,i,r){t.push(i?r.replace(s,"$1"):n||e)}),t}var r=e(139),o=e(172),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=i},{139:139,172:172}],171:[function(e,t,n){function i(e){return o(e)&&r(e)&&s.call(e,"callee")&&!c.call(e,"callee")}var r=e(158),o=e(163),a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable;t.exports=i},{158:158,163:163}],172:[function(e,t,n){var i=e(156),r=e(162),o=e(163),a="[object Array]",s=Object.prototype,c=s.toString,l=i(Array,"isArray"),u=l||function(e){return o(e)&&r(e.length)&&c.call(e)==a};t.exports=u},{156:156,162:162,163:163}],173:[function(e,t,n){function i(e){return r(e)&&s.call(e)==o}var r=e(176),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=i},{176:176}],174:[function(e,t,n){function i(e){return null==e?!1:r(e)?u.test(c.call(e)):o(e)&&a.test(e)}var r=e(173),o=e(163),a=/^\[object .+?Constructor\]$/,s=Object.prototype,c=Function.prototype.toString,l=s.hasOwnProperty,u=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{163:163,173:173}],175:[function(e,t,n){function i(e){return"number"==typeof e||r(e)&&s.call(e)==o}var r=e(163),o="[object Number]",a=Object.prototype,s=a.toString;t.exports=i},{163:163}],176:[function(e,t,n){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],177:[function(e,t,n){function i(e){return"string"==typeof e||r(e)&&s.call(e)==o}var r=e(163),o="[object String]",a=Object.prototype,s=a.toString;t.exports=i},{163:163}],178:[function(e,t,n){function i(e){return o(e)&&r(e.length)&&!!D[N.call(e)]}var r=e(162),o=e(163),a="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",p="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]",D={};D[w]=D[x]=D[_]=D[E]=D[C]=D[T]=D[A]=D[S]=D[k]=!0,D[a]=D[s]=D[b]=D[c]=D[l]=D[u]=D[p]=D[d]=D[f]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var I=Object.prototype,N=I.toString;t.exports=i},{162:162,163:163}],179:[function(e,t,n){var i=e(109),r=e(110),o=e(144),a=o(function(e,t,n){return n?i(e,t,n):r(e,t)});t.exports=a},{109:109,110:110,144:144}],180:[function(e,t,n){var i=e(156),r=e(158),o=e(176),a=e(167),s=i(Object,"keys"),c=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):o(e)?s(e):[]}:a;t.exports=c},{156:156,158:158,167:167,176:176}],181:[function(e,t,n){function i(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||r(e))&&t||0;for(var n=e.constructor,i=-1,l="function"==typeof n&&n.prototype===e,p=Array(t),d=t>0;++i<t;)p[i]=i+"";for(var f in e)d&&a(f,t)||"constructor"==f&&(l||!u.call(e,f))||p.push(f);return p}var r=e(171),o=e(172),a=e(159),s=e(162),c=e(176),l=Object.prototype,u=l.hasOwnProperty;t.exports=i},{159:159,162:162,171:171,172:172,176:176}],182:[function(e,t,n){var i=e(105),r=e(114),o=e(121),a=e(141),s=e(181),c=e(165),l=e(166),u=e(99),p=u(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=i(o(t),String);return c(e,r(s(e),t))}var n=a(t[0],t[1],3);return l(e,function(e,t,i){return!n(e,t,i)})});t.exports=p},{105:105,114:114,121:121,141:141,165:165,166:166,181:181,99:99}],183:[function(e,t,n){function i(e){e=o(e);for(var t=-1,n=r(e),i=n.length,a=Array(i);++t<i;){var s=n[t];a[t]=[s,e[s]]}return a}var r=e(180),o=e(169);t.exports=i},{169:169,180:180}],184:[function(e,t,n){var i=e(121),r=e(141),o=e(165),a=e(166),s=e(99),c=s(function(e,t){return null==e?{}:"function"==typeof t[0]?a(e,r(t[0],t[1],3)):o(e,i(t))});t.exports=c},{121:121,141:141,165:165,166:166,99:99}],185:[function(e,t,n){function i(e){return e}t.exports=i},{}],186:[function(e,t,n){function i(e){return a(e)?r(e):o(e)}var r=e(135),o=e(136),a=e(161);t.exports=i},{135:135,136:136,161:161}],187:[function(e,t,n){t.exports=function(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}},{}],188:[function(e,t,n){t.exports=e(195)},{195:195}],189:[function(e,t,n){t.exports=e(198)},{198:198}],190:[function(e,t,n){t.exports=e(202)},{202:202}],191:[function(e,t,n){t.exports=e(199)},{199:199}],192:[function(e,t,n){t.exports=e(200)},{200:200}],193:[function(e,t,n){t.exports=e(201)},{201:201}],194:[function(e,t,n){t.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{}],195:[function(e,t,n){function i(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var r=e(196),o=/\s+/,a=Object.prototype.toString;t.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},i.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),n=t.split(o);return""===n[0]&&n.shift(),n},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},{196:196}],196:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],197:[function(e,t,n){var i=e(200);t.exports=function(e,t,n,r){for(e=n?{parentNode:e}:e,r=r||document;(e=e.parentNode)&&e!==document;){if(i(e,t))return e;if(e===r)return}}},{200:200}],198:[function(e,t,n){var i=e(197),r=e(199);n.bind=function(e,t,n,o,a){return r.bind(e,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&o.call(e,n)},a)},n.unbind=function(e,t,n,i){r.unbind(e,t,n,i)}},{197:197,199:199}],199:[function(e,t,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";n.bind=function(e,t,n,r){return e[i](o+t,n,r||!1),n},n.unbind=function(e,t,n,i){return e[r](o+t,n,i||!1),n}},{}],200:[function(e,t,n){function i(e,t){if(!e||1!==e.nodeType)return!1;if(a)return a.call(e,t);for(var n=r.all(t,e.parentNode),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}var r=e(201),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;t.exports=i},{201:201}],201:[function(e,t,n){function i(e,t){return t.querySelector(e)}n=t.exports=function(e,t){return t=t||document,i(e,t)},n.all=function(e,t){return t=t||document,t.querySelectorAll(e)},n.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return i=e.one,n.all=e.all,n}},{}],202:[function(e,t,n){function i(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var r=t.createElement("html");return r.innerHTML=e,r.removeChild(r.lastChild)}var o=a[i]||a._default,s=o[0],c=o[1],l=o[2],r=t.createElement("div");for(r.innerHTML=c+e+l;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var u=t.createDocumentFragment();r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u}t.exports=i;var r,o=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!r.getElementsByTagName("link").length,r=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],203:[function(e,t,n){t.exports=e(204)},{204:204}],204:[function(e,t,n){"use strict";function i(e){function t(e){return r.indexOf(e)>=0}function n(e){r.push(e)}function i(e){t(e)||((e.__depends__||[]).forEach(i),t(e)||(n(e),(e.__init__||[]).forEach(function(e){o.push(e)})))}var r=[],o=[];e.forEach(i);var s=new a.Injector(r);return o.forEach(function(e){try{s["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),s}function r(t){t=t||{};var n={config:["value",t]},r=e(209),o=[n,r].concat(t.modules||[]);return i(o)}function o(e,t){this.injector=t=t||r(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("table.init")}var a=e(60);t.exports=o,o.prototype.destroy=function(){this.get("eventBus").fire("table.destroy")}},{209:209,60:60}],205:[function(e,t,n){"use strict";function i(){this._uid=12}var r=e(250);t.exports=i,i.prototype.createTable=function(e){return document.createElement("table")},i.prototype.createRow=function(e){return this.create("row",e)},i.prototype.createColumn=function(e){return this.create("column",e)},i.prototype.create=function(e,t){return t=t||{},t.id||(t.id=e+"_"+this._uid++),r.create(e,t)}},{250:250}],206:[function(e,t,n){"use strict";function i(){this._elements={}}var r="data-element-id";t.exports=i,i.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),t.setAttribute(r,i),n&&n.setAttribute(r,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},i.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(i.gfx.setAttribute(r,null),i.secondaryGfx&&i.secondaryGfx.setAttribute(r,null),delete t[n])},i.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e));var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},i.prototype.get=function(e){var t;t="string"==typeof e?e:e&&e.getAttribute(r);var n=this._elements[t];return n&&n.element},i.prototype.filter=function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(n)}),t},i.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var i=t[n],r=i.element,o=i.gfx;return e(r,o)})},i.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},i.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}},{}],207:[function(e,t,n){"use strict";function i(e,t){this._renderer=t,this._elementRegistry=e}var r=e(92);i.$inject=["elementRegistry","renderer"],t.exports=i,i.prototype.create=function(e,t,n){var i;switch(e){case"row":i=document.createElement("tr");break;case"cell":i=document.createElement(t.row.useTH?"th":"td");var r=document.createElement("span");i.appendChild(r)}if(i&&"row"===e)t.next?n.insertBefore(i,this._elementRegistry.getGraphics(t.next)):n.appendChild(i);else if("cell"===e){var o=this._elementRegistry.filter(function(e){return e.row===t.row&&e.column===t.column.next})[0];o?n.insertBefore(i,this._elementRegistry.getGraphics(o)):n.appendChild(i)}return i||document.createElement("div")},i.prototype.update=function(e,t,n){if(t.parent){var i=this;if("row"===e)this._renderer.drawRow(n,t),r(this._elementRegistry.filter(function(e){return e.row===t}),function(e){i.update("cell",e,i._elementRegistry.getGraphics(e))});else if("column"===e)this._renderer.drawColumn(n,t),r(this._elementRegistry.filter(function(e){return e.column===t}),function(e){i.update("cell",e,i._elementRegistry.getGraphics(e))});else{if("cell"!==e)throw new Error("unknown type: "+e);this._renderer.drawCell(n,t)}}},i.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);t.parentNode&&t.parentNode.removeChild(t)}},{92:92}],208:[function(e,t,n){"use strict";function i(e){return a(e)?e+"px":e}function r(e){e=s({},{width:"100%",height:"100%"},e);var t=e.container||document.body,n=document.createElement("div");return n.setAttribute("class","tjs-container"),s(n.style,{position:"relative",overflow:"hidden",width:i(e.width),height:i(e.height)}),t.appendChild(n),n}function o(e,t,n,i){this._eventBus=t,this._elementRegistry=n,this._graphicsFactory=i,this._init(e||{})}var a=e(175),s=e(179),c=e(92),l=e(89),u={row:["next","previous"],column:["next","previous"],cell:["row","column"]};o.$inject=["config.sheet","eventBus","elementRegistry","graphicsFactory"],t.exports=o,o.prototype.getLastColumn=function(){return this._lastColumn},o.prototype.setLastColumn=function(e){this._lastColumn=e},o.prototype.getLastRow=function(e){return this._lastRow[e]},o.prototype.setLastRow=function(e,t){this._lastRow[t]=e},o.prototype.setSibling=function(e,t){e&&(e.next=t),t&&(t.previous=e)},o.prototype.addSiblings=function(e,t){var n,i;if("row"===e&&(i=t.isHead?"head":t.isFoot?"foot":"body"),t.previous||t.next){if(t.previous&&!t.next)n=t.previous.next,this.setSibling(t.previous,t),this.setSibling(t,n),n||("row"===e?this.setLastRow(t,i):"column"===e&&this.setLastColumn(t,i));else if(!t.previous&&t.next)n=t.next.previous,this.setSibling(n,t),this.setSibling(t,t.next);else if(t.previous&&t.next){if(t.previous.next!==t.next)throw new Error("cannot set both previous and next when adding new element <"+e+">");this.setSibling(t.previous,t),this.setSibling(t,t.next)}}else"column"===e?(t.next=null,this.setSibling(this.getLastColumn(),t),this.setLastColumn(t)):"row"===e&&(t.next=null,this.setSibling(this.getLastRow(i),t),this.setLastRow(t,i))},o.prototype.removeSiblings=function(e,t){var n;"row"===e&&(n=t.isHead?"head":t.isFoot?"foot":"body"),"column"===e?this.getLastColumn()===t&&this.setLastColumn(t.previous):"row"===e&&this.getLastRow(n)===t&&this.setLastRow(t.previous,n),t.previous&&(t.previous.next=t.next),t.next&&(t.next.previous=t.previous),delete t.previous,delete t.next},o.prototype._init=function(e){var t=this._eventBus,n=r(e),i=this;this._container=n,this._rootNode=document.createElement("table"),s(this._rootNode.style,{width:"100%"}),n.appendChild(this._rootNode),this._head=document.createElement("thead"),this._body=document.createElement("tbody"),this._foot=document.createElement("tfoot"),this._rootNode.appendChild(this._head),this._rootNode.appendChild(this._body),this._rootNode.appendChild(this._foot),this._lastColumn=null,this._lastRow={head:null,body:null,foot:null},t.on("table.init",function(e){t.fire("sheet.init",{sheet:i._rootNode})}),t.on("table.destroy",function(){var e=i._container.parentNode;e&&e.removeChild(n),t.fire("sheet.destroy",{sheet:i._rootNode})})},o.prototype.getContainer=function(){return this._container},o.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=u[e],i=l(n,function(e){return"undefined"!=typeof t[e]});if(!i)throw new Error("must supply { "+n.join(", ")+" } with "+e)},o.prototype._addElement=function(e,t,n){t._type=e;var i=this._eventBus,r=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",t),t.parent=n||this._rootNode;var o=r.create(e,t,t.parent);return this._elementRegistry.add(t,o),r.update(e,t,o),i.fire(e+".added",{element:t,gfx:o}),t},o.prototype.addRow=function(e){this.addSiblings("row",e);var t=this._addElement("row",e,e.isHead?this._head:e.isFoot?this._foot:this._body);this._eventBus.fire("cells.add",t);var n=this;return c(this._elementRegistry.filter(function(e){return"column"===e._type}).sort(function(e,t){for(var n=e;n=n.next;)if(n===t)return-1;return 1}),function(e){n._addCell({row:t,column:e,id:"cell_"+e.id+"_"+t.id})}),this._eventBus.fire("cells.added",t),t},o.prototype.addColumn=function(e){this.addSiblings("column",e);var t=this._addElement("column",e);this._eventBus.fire("cells.add",t);var n=this;return c(this._elementRegistry.filter(function(e){return"row"===e._type}),function(e){n._addCell({row:e,column:t,id:"cell_"+t.id+"_"+e.id})}),this._eventBus.fire("cells.added",t),t},o.prototype._addCell=function(e){return this._addElement("cell",e,this._elementRegistry.getGraphics(e.row.id))},o.prototype.setCellContent=function(e){"object"==typeof e.column&&(e.column=e.column.id),"object"==typeof e.row&&(e.row=e.row.id),this._elementRegistry.get("cell_"+e.column+"_"+e.row).content=e.content,this._graphicsFactory.update("cell",this._elementRegistry.get("cell_"+e.column+"_"+e.row),this._elementRegistry.getGraphics("cell_"+e.column+"_"+e.row))},o.prototype.getCellContent=function(e){return this._elementRegistry.get("cell_"+e.column+"_"+e.row).content},o.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;return(e=n.get(e.id||e))?(r.fire(t+".remove",{element:e}),i.remove(e),e.parent=null,n.remove(e),r.fire(t+".removed",{element:e}),e):void 0},o.prototype.removeRow=function(e){this.removeSiblings("row",e);var t=this._removeElement(e,"row");this._eventBus.fire("cells.remove",t);var n=this;return c(this._elementRegistry.filter(function(t){return t.row===e}),function(e){n._removeElement(e.id,"cell")}),this._eventBus.fire("cells.removed",t),t},o.prototype.removeColumn=function(e){this.removeSiblings("column",e);var t=this._removeElement(e,"column");this._eventBus.fire("cells.remove",t);var n=this;return c(this._elementRegistry.filter(function(t){return t.column===e}),function(e){n._removeElement(e.id,"cell")}),this._eventBus.fire("cells.removed",t),t},o.prototype.getRootElement=function(){return this._rootNode},o.prototype.setRootElement=function(e){this._rootNode=e}},{175:175,179:179,89:89,92:92}],209:[function(e,t,n){t.exports={__depends__:[e(211)],__init__:["sheet"],sheet:["type",e(208)],elementRegistry:["type",e(206)],elementFactory:["type",e(205)],graphicsFactory:["type",e(207)],eventBus:["type",e(51)]}},{205:205,206:206,207:207,208:208,211:211,51:51}],210:[function(e,t,n){"use strict";function i(e,t){this._elementRegistry=e,this._eventBus=t}var r=e(92),o=function(e,t){for(var n=0,i=e.column;i&&i!==t.column;)i=i.next,n++;return i?n:-1},a=function(e,t){for(var n=0,i=e.row;i&&i!==t.row;)i=i.next,n++;return i?n:-1};i.$inject=["elementRegistry","eventBus"],t.exports=i,i.prototype.drawRow=function(e,t){return this._eventBus.fire("row.render",{gfx:e,data:t}),e},i.prototype.drawColumn=function(e,t){return this._eventBus.fire("column.render",{gfx:e,data:t}),e},i.prototype.drawCell=function(e,t){t.colspan&&e.setAttribute("colspan",t.colspan),t.rowspan&&e.setAttribute("rowspan",t.rowspan),e.setAttribute("style","");var n=this._elementRegistry.filter(function(e){return"cell"===e._type&&e.row===t.row});return r(n,function(n){var i=o(n,t);n.colspan&&i>0&&i<n.colspan&&e.setAttribute("style","display: none;")}),n=this._elementRegistry.filter(function(e){return"cell"===e._type&&e.column===t.column}),r(n,function(n){var i=a(n,t);n.rowspan&&i>0&&i<n.rowspan&&e.setAttribute("style","display: none;")}),t.content?"string"!=typeof t.content||t.content.tagName?t.content.tagName&&e.childNodes[0].appendChild(t.content):e.childNodes[0].textContent=t.content:e.childNodes[0].textContent="",this._eventBus.fire("cell.render",{gfx:e,data:t}),e}},{92:92}],211:[function(e,t,n){t.exports={renderer:["type",e(210)]}},{210:210}],212:[function(e,t,n){"use strict";function i(e,t,n,i){this.row=null;var a=this;e.on("utilityColumn.added",function(e){var n=e.column;a.row=t.addRow({id:"tjs-controls",isFoot:!0});var s=r('<a title="Add row" class="table-js-add-row"><span>+</span></a>');s.addEventListener("mouseup",function(){i.createRow({id:o.next()})}),t.setCellContent({row:a.row,column:n,content:s})})}var r=e(190),o=new(e(56))("row");i.$inject=["eventBus","sheet","elementRegistry","modeling"],t.exports=i,i.prototype.getRow=function(){return this.row}},{190:190,56:56}],213:[function(e,t,n){"use strict";function i(e,t){e.on("cell.render",function(e){e.data.row===t.getRow()&&e.data.content&&(r(e.gfx).add("add-rule"),e.gfx.childNodes[0].appendChild(e.data.content))}),e.on("row.render",function(e){e.data===t.getRow()&&r(e.gfx).add("rules-controls")})}var r=e(188);i.$inject=["eventBus","addRow"],t.exports=i},{188:188}],214:[function(e,t,n){t.exports={__init__:["addRow","addRowRenderer"],__depends__:[e(242),e(249)],addRow:["type",e(212)],addRowRenderer:["type",e(213)]}},{212:212,213:213,242:242,249:249}],215:[function(e,t,n){"use strict";function i(e,t,n){e.on("element.changed",function(n){var i=n.element;n.gfx||(n.gfx=t.getGraphics(i)),n.gfx&&(i.column?e.fire("cell.changed",n):e.fire("row.changed",n))}),e.on("elements.changed",function(t){for(var n=0;n<t.elements.length;n++)e.fire("element.changed",{element:t.elements[n]})}),e.on("cell.changed",function(e){n.update("cell",e.element,e.gfx)}),e.on("row.changed",function(e){n.update("row",e.element,e.gfx);for(var i=t.filter(function(t){return t.row===e.element}),r=0;r<i.length;r++)n.update("cell",i[r],t.getGraphics(i[r]))})}i.$inject=["eventBus","elementRegistry","graphicsFactory"],t.exports=i},{}],216:[function(e,t,n){t.exports={__init__:["changeSupport"],changeSupport:["type",e(215)]}},{215:215}],217:[function(e,t,n){"use strict";function i(e){var t=this,n=r('<div>\r\n  <label></label>\r\n  <input tabindex="0" />\r\n  <span class="cb-caret"></span>\r\n</div>\r\n'),i=e.label,a=e.classNames,c=e.options,l=e.dropdownClassNames;this._dropdown=document.createElement("ul"),this._template=n,this._dropdownOpen=!1,this._disabled=!1,this._listeners={},s(a,function(e){o(n).add(e)}),s(l,function(e){o(t._dropdown).add(e)}),s(c,function(e){var n=document.createElement("li");n.setAttribute("tabindex","1"),n.textContent=e,t._dropdown.appendChild(n)}),n.querySelector("label").textContent=i+":",n.querySelector("span").addEventListener("click",function(e){t._toggleDropdown(c),e.stopPropagation()}),document.body.addEventListener("click",function(e){t._closeDropdown()});var u=function(e){t.setValue(e.target.textContent)};this._dropdown.addEventListener("click",function(e){u(e),e.stopPropagation(),t._closeDropdown()}),this._dropdown.addEventListener("focus",u,!0);var p=function(e){var n=e.which||e.keyCode;27===n?t._closeDropdown():13===n?t._toggleDropdown(c):9===n||40===n?(e.preventDefault(),t._focusNext(9===n&&e.shiftKey)):38===n&&(e.preventDefault(),t._focusNext(!0))};return this._dropdown.addEventListener("keydown",p),this._template.querySelector("input").addEventListener("keydown",p),this._template.querySelector("input").addEventListener("input",function(e){var n=c.filter(function(e){return-1!==e.toLowerCase().indexOf(t._template.querySelector("input").value.toLowerCase())});t._openDropdown(n),t._fireEvent("valueChanged",{newValue:t._template.querySelector("input").value})}),this}var r=e(190),o=e(188),a=e(179),s=e(92);i.prototype._focusNext=function(e){if(!this._isDropdownOpen())return void this._openDropdown();
var t,n=document.activeElement;for(n===this._template.querySelector("input")?t=this._dropdown[e?"lastChild":"firstChild"]:n.parentNode===this._dropdown&&(t=n[e?"previousSibling":"nextSibling"]);t&&"none"===t.style.display;)t=t[e?"previousSibling":"nextSibling"];t||(t=this._template.querySelector("input")),t.focus()},i.prototype._toggleDropdown=function(e){this._isDropdownOpen()?this._closeDropdown():this._openDropdown(e)},i.prototype._openedDropdown=null,i.prototype._isDropdownOpen=function(){return this._dropdownOpen},i.prototype._closeDropdown=function(){this._isDropdownOpen()&&(this._dropdownOpen=!1,i.prototype._openedDropdown=null,o(this._template).remove("expanded"),this._dropdown.parentNode.removeChild(this._dropdown))},i.prototype._openDropdown=function(e){if(i.prototype._openedDropdown&&i.prototype._openedDropdown._closeDropdown(),e&&0===e.length||this._disabled)return void this._closeDropdown();s(this._dropdown.childNodes,function(t){e&&-1===e.indexOf(t.textContent)?t.style.display="none":t.style.display="block"});for(var t=this._template.querySelector("input"),n=t,r={x:0,y:0};n;)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;a(this._dropdown.style,{display:"block",position:"absolute",top:r.y+t.clientHeight+"px",left:r.x+"px",width:t.clientWidth+"px"}),document.body.appendChild(this._dropdown),i.prototype._openedDropdown=this,this._dropdownOpen=!0,o(this._template).add("expanded")},i.prototype._fireEvent=function(e,t){s(this._listeners[e],function(e){e(t)})},i.prototype.setValue=function(e){this._fireEvent("valueChanged",{oldValue:this._template.querySelector("input").value,newValue:e}),this._template.querySelector("input").value=e},i.prototype.getValue=function(){return this._template.querySelector("input").value},i.prototype.getNode=function(){return this._template},i.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)},i.prototype.disable=function(){this._disabled=!0,this._template.querySelector("input").setAttribute("disabled","true")},i.prototype.enable=function(){this._disabled=!1,this._template.querySelector("input").setAttribute("disabled","false")},t.exports=i},{179:179,188:188,190:190,92:92}],218:[function(e,t,n){"use strict";function i(e,t){this._eventBus=e,this._elementRegistry=t,this.setupListeners()}var r=e(179),o=e(188),a=e(194);i.prototype.setupListeners=function(){var e=this;document.body.addEventListener("click",function(t){t.preventDialogClose||e.close()}),window.addEventListener("hashchange",function(t){e.close()}),this._eventBus.on(["table.scroll","table.destroy","popupmenu.open"],function(t){e.close()}),this._eventBus.on("element.click",function(t){if(e.close(),t.originalEvent&&(t.originalEvent.preventDialogClose=!0),t.element&&t.element.complex){for(var n=e._elementRegistry.getGraphics(t.element),i=n,r={x:0,y:0};i;)r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;for(i=n;i&&"number"==typeof i.scrollTop&&"number"==typeof i.scrollLeft;)r.x-=i.scrollLeft,r.y-=i.scrollTop,i=i.parentNode;t.element.complex.position={x:r.x,y:r.y},e.open(t.element.complex)}})},i.prototype.close=function(){this._current&&(this._eventBus.fire("complexCell.close",this._current),a(this._current.container),this._current=null)},i.prototype.isOpen=function(){return!!this._current},i.prototype._createContainer=function(e,t){var n=document.createElement("div");if(r(n.style,{position:"absolute",left:t.x+"px",top:t.y+"px",width:"auto",height:"auto"}),n.addEventListener("click",function(e){e.stopPropagation()}),"string"==typeof e)o(n).add(e);else for(var i=0;i<e.length;i++)o(n).add(e[i]);return n},i.prototype.open=function(e){var t=e.className||"complex-cell",n=e.template;this.isOpen()&&this.close();var i={x:e.position.x+(e.offset&&e.offset.x||0),y:e.position.y+(e.offset&&e.offset.y||0)},r=document.body,o=this._createContainer(t,i);return this._attachContainer(o,r),this._attachContent(n,o),this._current={container:o,config:e},this._eventBus.fire("complexCell.open",this._current),this},i.prototype._attachContainer=function(e,t){t.appendChild(e)},i.prototype._attachContent=function(e,t){t.appendChild(e)},i.$inject=["eventBus","elementRegistry"],t.exports=i},{179:179,188:188,194:194}],219:[function(e,t,n){"use strict";t.exports={__init__:["complexCell"],complexCell:["type",e(218)]}},{218:218}],220:[function(e,t,n){"use strict";function i(e){this._eventBus=e,this.controlsContainer;var t=this;e.on("sheet.init",function(n){var i=document.createElement("div");r(i).add("tjs-controls"),t.controlsContainer=i,n.sheet.parentNode.insertBefore(i,n.sheet.parentNode.firstChild),e.fire("controls.init",{node:i,controls:t})})}var r=e(188);i.prototype.addControl=function(e,t){this._eventBus.fire("controls.add",{label:e});var n=document.createElement("a");n.textContent=e,n.addEventListener("click",t),this.controlsContainer.appendChild(n),this._eventBus.fire("controls.added",{label:e,node:n})},i.$inject=["eventBus"],t.exports=i},{188:188}],221:[function(e,t,n){"use strict";t.exports={__init__:["controls"],controls:["type",e(220)]}},{220:220}],222:[function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s,c,l){var u=function(e){var t=e.replace(/<div><br><\/div>/gi,"\n").replace(/<br(\s*)\/*>/gi,"\n").replace(/<(div|p)(\s*)\/*>/gi,"\n").replace(/(<([^>]+)>)/gi,"").trim(),n=document.createElement("textarea");return n.innerHTML=t,n.value};e.on("element.focus",function(e){if(o.allowed("cell.edit",{row:e.element.row,column:e.element.column,content:e.element.content})&&!e.element.row.isFoot&&!e.element.complex){e.gfx.childNodes[0].focus();var n=e.element;t.select(n);var i=window.getSelection();i.selectAllChildren(e.gfx.childNodes[0]);try{document.execCommand("enableInlineTableEditing",!1,"false")}catch(r){if("Invalid argument."!==r.description)throw r}}}),e.on("element.mousedown",function(e){!o.allowed("cell.edit",{row:e.element.row,column:e.element.column,content:e.element.content})||e.element.row.isFoot||t.get()===e.element||e.element.complex||(t.select(e.element),e.preventDefault(),e.gfx.childNodes[0].focus())}),e.on("element.blur",function(e){var n=e.element;t.isSelected(n)&&t.deselect()}),e.on("selection.changed",function(e){if(e.oldSelection){var t=i.getGraphics(e.oldSelection);t&&(r.editCell(e.oldSelection.row.id,e.oldSelection.column.id,u(t.innerHTML)),a.update("row",e.oldSelection.row,i.getGraphics(e.oldSelection.row)),a.update("column",e.oldSelection.column,i.getGraphics(e.oldSelection.column)))}e.newSelection&&(a.update("cell",e.newSelection,i.getGraphics(e.newSelection)),a.update("row",e.newSelection.row,i.getGraphics(e.newSelection.row)),a.update("column",e.newSelection.column,i.getGraphics(e.newSelection.column)))});var p=!1,d=null;e.on("tableName.init",function(t){o.allowed("name.edit")&&(d=t.node,e.fire("tableName.allowEdit",{editAllowed:!0}),t.node.setAttribute("contenteditable",!0),t.node.addEventListener("focus",function(e){p=!0},!0),t.node.addEventListener("blur",function(e){p=!1;var t=u(e.target.innerHTML);t!==l.getName()&&r.editName(t)},!0))}),s&&s._listeners.unshift(function(e,n){if((n.ctrlKey||n.metaKey)&&!n.shiftKey&&90===e){if(p){var i=u(d.innerHTML);i!==l.getName()&&r.editName(i)}var o=t.deselect();t.select(o)}})}i.$inject=["eventBus","selection","sheet","elementRegistry","modeling","rules","graphicsFactory","keyboard","commandStack","tableName"],t.exports=i},{}],223:[function(e,t,n){"use strict";function i(e,t){e.on("cell.render",function(e){!t.allowed("cell.edit",{row:e.data.row,column:e.data.column,content:e.data.content})||e.data.row.isFoot||e.data.complex?e.gfx.childNodes[0].setAttribute("contenteditable",!1):e.gfx.childNodes[0].setAttribute("contenteditable",!0),e.gfx.childNodes[0].setAttribute("spellcheck","false"),e.data.selected?r(e.gfx).add("focused"):r(e.gfx).remove("focused"),e.data.row.isFoot||(e.data.row.selected&&!e.data.isHead?r(e.gfx).add("row-focused"):r(e.gfx).remove("row-focused"),e.data.column.selected&&!e.data.row.useTH?r(e.gfx).add("col-focused"):r(e.gfx).remove("col-focused"))}),e.on("row.render",function(e){e.data.selected&&!e.data.isHead?r(e.gfx).add("row-focused"):r(e.gfx).remove("row-focused")})}var r=e(188);i.$inject=["eventBus","rules"],t.exports=i},{188:188}],224:[function(e,t,n){"use strict";function i(e){this._eventBus=e,this._selectedElement=null}i.$inject=["eventBus"],t.exports=i,i.prototype.deselect=function(e){if(this._selectedElement){var t=this._selectedElement;return this._selectedElement.row.selected=!1,this._selectedElement.column.selected=!1,this._selectedElement.selected=!1,this._selectedElement=null,e||this._eventBus.fire("selection.changed",{oldSelection:t,newSelection:this._selectedElement}),t}},i.prototype.get=function(){return this._selectedElement},i.prototype.isSelected=function(e){return this._selectedElement===e},i.prototype.select=function(e){if(e&&!this.isSelected(e)){var t=this._selectedElement;t&&this.deselect(!0),this._selectedElement=e,e.selected=!0,e.row.selected=!0,e.column.selected=!0,this._eventBus.fire("selection.changed",{oldSelection:t,newSelection:this._selectedElement})}}},{}],225:[function(e,t,n){t.exports={__init__:["editBehavior","editRenderer"],__depends__:[e(229),e(242),e(231),e(54)],selection:["type",e(224)],editBehavior:["type",e(222)],editRenderer:["type",e(223)]}},{222:222,223:223,224:224,229:229,231:231,242:242,54:54}],226:[function(e,t,n){"use strict";function i(e){this._actions={undo:function(){e.undo()},redo:function(){e.redo()}}}function r(e,t){return new Error(e+" "+t)}var o=e(92),a="is not a registered action",s="is already registered";i.$inject=["commandStack"],t.exports=i,i.prototype.trigger=function(e,t){if(!this._actions[e])throw r(e,a);return this._actions[e](t)},i.prototype.register=function(e,t){return"string"==typeof e?this._registerAction(e,t):void o(e,function(e,t){this._registerAction(t,e)},this)},i.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw r(e,s);this._actions[e]=t},i.prototype.unregister=function(e){if(!this.isRegistered(e))throw r(e,a);this._actions[e]=void 0},i.prototype.length=function(){return Object.keys(this._actions).length},i.prototype.isRegistered=function(e){return!!this._actions[e]}},{92:92}],227:[function(e,t,n){t.exports={__init__:["editorActions"],editorActions:["type",e(226)]}},{226:226}],228:[function(e,t,n){"use strict";function i(e,t){function n(n,i){var r,o=i.delegateTarget||i.target,a=o,s=t.get(a);a&&s&&(r=e.fire(n,{element:s,gfx:a,originalEvent:i}),r===!1&&(i.stopPropagation(),i.preventDefault()))}function i(e){var t=m[e];return t||(t=m[e]=function(t){(a(t)||"element.contextmenu"===e)&&n(e,t)}),t}function s(e){return"focus"===e||"blur"===e}function c(e,t,n){var r=i(n);r.$delegate=o.bind(e,v,t,r,s(t))}function l(e,t,n){o.unbind(e,t,i(n).$delegate,s(t))}function u(e){r(g,function(t,n){c(e,n,t)})}function p(e){r(g,function(t,n){l(e,n,t)})}function d(t){var n=m.scroll;return n||(n=m.scroll=function(n){n.target.contains(t)&&e.fire("table.scroll",{gfx:n.target,originalEvent:n})}),n}function f(e){document.addEventListener("scroll",d(e),!0)}function h(e){document.removeEventListener("scroll",d(e),!0)}var m={},g={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",focus:"element.focus",blur:"element.blur",contextmenu:"element.contextmenu"},v="td,th";e.on("sheet.destroy",function(e){p(e.sheet),h(e.sheet)}),e.on("sheet.init",function(e){u(e.sheet),f(e.sheet)}),this.fire=n,this.mouseHandler=i,this.registerEvent=c,this.unregisterEvent=l}var r=e(92),o=e(189),a=e(57).isPrimaryButton;i.$inject=["eventBus","elementRegistry"],t.exports=i},{189:189,57:57,92:92}],229:[function(e,t,n){t.exports={__init__:["interactionEvents"],interactionEvents:["type",e(228)]}},{228:228}],230:[function(e,t,n){"use strict";function i(e,t,n){var i=this;this._eventBus=t,this._editorActions=n,this._listeners=[],this._keyHandler=function(e){var t,n,r=e.target,o=i._listeners,a=e.keyCode||e.charCode||-1;if(!c(r,"input, textarea"))for(t=0;n=o[t];t++)n(a,e)&&(e.stopPropagation(),e.preventDefault())},t.on("table.destroy",function(){i._fire("destroy"),i.unbind(),i._listeners=null}),t.on("table.init",function(){i._fire("init"),e&&e.bindTo&&i.bind(e.bindTo)}),this._init()}function r(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function o(e){return e.ctrlKey||e.metaKey}function a(e){return e.shiftKey}var s=e(191),c=e(192);i.$inject=["config.keyboard","eventBus","editorActions"],t.exports=i,i.prototype.bind=function(e){this._node=e,s.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")},i.prototype.getBinding=function(){return this._node},i.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),s.unbind(e,"keydown",this._keyHandler,!0)),this._node=null},i.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})},i.prototype._init=function(){function e(e,t){return o(t)&&!a(t)&&90===e?(i.trigger("undo"),!0):void 0}function t(e,t){return o(t)&&(89===e||90===e&&a(t))?(i.trigger("redo"),!0):void 0}var n=this._listeners,i=this._editorActions;n.push(e),n.push(t)},i.prototype.addListener=function(e){this._listeners.push(e)},i.prototype.hasModifier=r,i.prototype.isCmd=o,i.prototype.isShift=a},{191:191,192:192}],231:[function(e,t,n){t.exports={__depends__:[e(227)],__init__:["keyboard"],keyboard:["type",e(230)]}},{227:227,230:230}],232:[function(e,t,n){"use strict";function i(e,t){this._sheet=t,this._utilityColumn=null;var n=this;e.on("utilityColumn.added",function(e){var t=e.column;n._utilityColumn=t,n.updateLineNumbers()}),e.on(["cells.added","row.removed"],r(n.updateLineNumbers.bind(n),100,{leading:!0,trailing:!0}))}var r=e(97);i.$inject=["eventBus","sheet"],t.exports=i,i.prototype.updateLineNumbers=function(){if(this._utilityColumn&&this._sheet.getLastRow("body")){for(var e=this._sheet.getLastRow("body");e.previous;)e=e.previous;for(var t=1;e;)this._sheet.setCellContent({row:e,column:this._utilityColumn,content:t}),t++,e=e.next}}},{97:97}],233:[function(e,t,n){t.exports={__init__:["lineNumbers"],__depends__:[e(249)],lineNumbers:["type",e(232)]}},{232:232,249:249}],234:[function(e,t,n){"use strict";function i(e,t,n,i){this._eventBus=e,this._elementFactory=t,this._commandStack=n,this._sheet=i;var r=this;e.on("table.init",1500,function(){r._registerHandlers(n)})}var r=e(92);i.$inject=["eventBus","elementFactory","commandStack","sheet"],t.exports=i,i.prototype.getHandlers=function(){return{"row.create":e(237),"row.delete":e(239),"row.clear":e(235),"column.create":e(236),"column.delete":e(238),"cell.edit":e(240),"name.edit":e(241)}},i.prototype._registerHandlers=function(e){r(this.getHandlers(),function(t,n){e.registerHandler(n,t)})},i.prototype.createRow=function(e){e=this._elementFactory.create("row",e);var t={row:e};return this._commandStack.execute("row.create",t),t.row},i.prototype.createColumn=function(e){e=this._elementFactory.create("column",e);var t={column:e};return this._commandStack.execute("column.create",t),t.column},i.prototype.deleteRow=function(e){var t={row:e};return this._commandStack.execute("row.delete",t),t.row},i.prototype.clearRow=function(e){var t={row:e};return this._commandStack.execute("row.clear",t),t.row},i.prototype.deleteColumn=function(e){var t={column:e};return this._commandStack.execute("column.delete",t),t.column},i.prototype.editCell=function(e,t,n){var i={row:e,column:t,content:n};return n!==this._sheet.getCellContent(i)&&this._commandStack.execute("cell.edit",i),i},i.prototype.editName=function(e){var t={newName:e};return this._commandStack.execute("name.edit",t),t}},{235:235,236:236,237:237,238:238,239:239,240:240,241:241,92:92}],235:[function(e,t,n){"use strict";function i(e,t,n){this._sheet=e,this._elementRegistry=t,this._utilityColumn=n}var r=e(92);i.$inject=["sheet","elementRegistry","utilityColumn"],t.exports=i,i.prototype.execute=function(e){var t=this,n=this._utilityColumn&&this._utilityColumn.getColumn(),i=this._elementRegistry.filter(function(t){return n?"cell"===t._type&&t.row===e.row&&t.column!==n:"cell"===t._type&&t.row===e.row});e._oldContent=[],r(i,function(n){e._oldContent.push(n.content),t._sheet.setCellContent({row:e.row,column:n.column,content:null})})},i.prototype.revert=function(e){var t=this,n=this._utilityColumn&&this._utilityColumn.getColumn(),i=this._elementRegistry.filter(function(t){return n?"cell"===t._type&&t.row===e.row&&t.column!==n:"cell"===t._type&&t.row===e.row}),o=0;r(i,function(n){t._sheet.setCellContent({row:e.row,column:n.column,content:e._oldContent[o++]})})}},{92:92}],236:[function(e,t,n){"use strict";function i(e){this._sheet=e}i.$inject=["sheet"],t.exports=i,i.prototype.execute=function(e){return e._previousColumn&&(e.column.previous=e._previousColumn),e._nextColumn&&(e.column.next=e._nextColumn),this._sheet.addColumn(e.column),e._previousColumn=e.column.previous,e._nextColumn=e.column.next,e.column},i.prototype.revert=function(e){this._sheet.removeColumn(e.column)}},{}],237:[function(e,t,n){"use strict";function i(e){this._sheet=e}i.$inject=["sheet"],t.exports=i,i.prototype.execute=function(e){return e._previousRow&&(e.row.previous=e._previousRow),e._nextRow&&(e.row.next=e._nextRow),this._sheet.addRow(e.row),e._previousRow=e.row.previous,e._nextRow=e.row.next,e.row},i.prototype.revert=function(e){this._sheet.removeRow(e.row)}},{}],238:[function(e,t,n){"use strict";function i(e,t){this._sheet=e,this._elementRegistry=t}var r=e(92);i.$inject=["sheet","elementRegistry"],t.exports=i,i.prototype.execute=function(e){return e._next=e.column.next,e._previous=e.column.previous,e._cells=this._elementRegistry.filter(function(t){return"cell"===t._type&&t.column===e.column}),this._sheet.removeColumn(e.column),e.column},i.prototype.revert=function(e){e.column.next=e._next,e.column.previous=e._previous,this._sheet.addColumn(e.column);var t=this;r(e._cells,function(n){t._sheet.setCellContent({row:n.row,column:e.column,content:n.content})})}},{92:92}],239:[function(e,t,n){"use strict";function i(e,t){this._sheet=e,this._elementRegistry=t}var r=e(92);i.$inject=["sheet","elementRegistry"],t.exports=i,i.prototype.execute=function(e){return e._next=e.row.next,e._previous=e.row.previous,e._cells=this._elementRegistry.filter(function(t){return"cell"===t._type&&t.row===e.row}),this._sheet.removeRow(e.row),e.row},i.prototype.revert=function(e){e.row.next=e._next,e.row.previous=e._previous,this._sheet.addRow(e.row);var t=this;r(e._cells,function(n){t._sheet.setCellContent({column:n.column,row:e.row,content:n.content})})}},{92:92}],240:[function(e,t,n){"use strict";function i(e){this._sheet=e}i.$inject=["sheet"],t.exports=i,i.prototype.execute=function(e){return e.oldContent=this._sheet.getCellContent(e),this._sheet.setCellContent(e),e},i.prototype.revert=function(e){return this._sheet.setCellContent({row:e.row,column:e.column,content:e.oldContent}),e}},{}],241:[function(e,t,n){"use strict";function i(e){this._tableName=e}i.$inject=["tableName"],t.exports=i,i.prototype.execute=function(e){return e.oldName=this._tableName.getName(),this._tableName.setName(e.newName),e},i.prototype.revert=function(e){return this._tableName.setName(e.oldName),e}},{}],242:[function(e,t,n){t.exports={__depends__:[e(50),e(216),e(54),e(249)],__init__:["modeling"],modeling:["type",e(234)]}},{216:216,234:234,249:249,50:50,54:54}],243:[function(e,t,n){"use strict";function i(e,t){this._eventBus=e,this._sheet=t;var n=this;this._eventBus.on("table.scroll",function(e){n.close()})}var r=e(92),o=e(179),a=e(189),s=e(190),c=e(188),l=e(187),u=e(194),p="data-id";i.$inject=["eventBus","sheet"],i.prototype.open=function(e){var t=e.className||"tjs-menu",n=e.position,i=e.entries;if(!n)throw new Error("the position argument is missing");if(!i)throw new Error("the entries argument is missing");this.isOpen()&&this.close();var r=document.body,o=this._createContainer(t,n);return this._createEntries(i,o),this._attachContainer(o,r),this._current={container:o,menu:e},this._eventBus.fire("popupmenu.open",this._current),this},i.prototype.close=function(){this.isOpen()&&(this._eventBus.fire("popupmenu.close",this._current),u(this._current.container),this._current=null)},i.prototype.isOpen=function(){return!!this._current},i.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,n=l(t,p),i=this._getEntry(n);return i.action?i.action.call(null,e,i):void 0},i.prototype.update=function(e,t){"string"==typeof e&&(e=this._getEntry(e)),o(e,t),this.open(this._current.menu)},i.prototype._getEntry=function(e){var t=this._current.menu,n=function(e,t){for(var i=0;i<e.length;i++){if(e[i].id===t)return e[i];if(e[i].content.entries){var r=n(e[i].content.entries,t);if(r)return r}}},i=n(t.entries,e);if(!i)throw new Error("entry not found");return i},i.prototype._createContainer=function(e,t){var n=s('<nav class="tjs-context-menu">');return o(n.style,{position:"absolute",left:t.x+"px",top:t.y+"px"}),c(n).add(e),n},i.prototype._attachContainer=function(e,t){var n=this;a.bind(e,".tjs-entry","click",function(e){n.trigger(e)}),a.bind(e,".tjs-entry","mousedown",function(e){e.preventDefault()}),t.appendChild(e)},i.prototype._createEntries=function(e,t){var n=s('<ul class="tjs-dropdown-menu">'),i=this;r(e,function(e){i._createEntry(e,n)}),t.appendChild(n)},i.prototype._createEntry=function(e,t){if(!e.id)throw new Error("every entry must have the id property set");var n=s('<li class="tjs-entry">'),i=c(n),r=s("<a>"),o=c(r);n.appendChild(r),e.content.className&&i.add(e.content.className),e.content.linkClass&&o.add(e.content.linkClass),l(n,p,e.id);var a=s('<span class="tjs-icon">'),u=c(a);e.content.icon&&u.add(e.content.icon),r.appendChild(a);var d=s('<span class="tjs-label">');r.appendChild(d),e.content.entries?(d.textContent=e.content.label,i.add("tjs-dropdown"),this._createEntries(e.content.entries,n)):(e.content.label&&(d.textContent=e.content.label),e.content.imageUrl&&n.appendChild(s('<img src="'+e.content.imageUrl+'" />')),e.content.active===!0&&i.add("active"),e.content.disabled===!0&&i.add("disabled")),t.appendChild(n)},t.exports=i},{179:179,187:187,188:188,189:189,190:190,194:194,92:92}],244:[function(e,t,n){"use strict";t.exports={__init__:["popupMenu"],popupMenu:["type",e(243)]}},{243:243}],245:[function(e,t,n){"use strict";function i(e,t,n){this.tableName=n,this.node=r('<header><h3 class="tjs-table-name">'+this.tableName+"</h3></header");var i=this;e.on("sheet.init",function(n){t.getContainer().insertBefore(i.node,t.getRootElement()),e.fire("tableName.init",{node:i.node.querySelector("h3")})}),e.on("sheet.destroy",function(n){t.getContainer().removeChild(i.node),e.fire("tableName.destroy",{node:i.node.querySelector("h3")})})}var r=e(190);i.$inject=["eventBus","sheet","config.tableName"],t.exports=i,i.prototype.setName=function(e){this.tableName=e,this.node.querySelector("h3").textContent=e},i.prototype.getName=function(){return this.tableName},i.prototype.getNode=function(){return this.node.querySelector("h3")}},{190:190}],246:[function(e,t,n){"use strict";function i(e,t){this.column=null;var n=this;e.on("sheet.init",function(i){e.fire("utilityColumn.add",i),n.column=t.addColumn({id:"utilityColumn"}),e.fire("utilityColumn.added",{column:n.column})}),e.on("sheet.destroy",function(i){e.fire("utilityColumn.destroy",{column:n.column}),t.removeColumn({id:"utilityColumn"}),e.fire("utilityColumn.destroyed",{column:n.column})})}i.$inject=["eventBus","sheet"],t.exports=i,i.prototype.getColumn=function(){return this.column}},{}],247:[function(e,t,n){"use strict";function i(e,t){e.on("cell.render",function(e){e.data.column!==t.getColumn()||e.data.row.isFoot||(e.gfx.childNodes[0].textContent=e.data.content,r(e.gfx).add(e.data.row.isHead?"hit":"number"))})}var r=e(188);i.$inject=["eventBus","utilityColumn"],t.exports=i},{188:188}],248:[function(e,t,n){"use strict";function i(e,t){o.call(this,e),this._utilityColumn=t}var r=e(84),o=e(52);r(i,o),i.$inject=["eventBus","utilityColumn"],t.exports=i,i.prototype.init=function(){var e=this;this.addRule("cell.edit",function(t){return t.column===e._utilityColumn.getColumn()?!1:void 0})}},{52:52,84:84}],249:[function(e,t,n){t.exports={__init__:["utilityColumn","utilityColumnRules","utilityColumnRenderer"],__depends__:[e(54)],utilityColumn:["type",e(246)],utilityColumnRules:["type",e(248)],utilityColumnRenderer:["type",e(247)]}},{246:246,247:247,248:248,54:54}],250:[function(e,t,n){"use strict";function i(){Object.defineProperty(this,"businessObject",{writable:!0})}function r(){i.call(this)}function o(){i.call(this)}function a(){i.call(this)}var s=e(179),c=e(84);c(r,i),c(o,i),c(a,i);var l={table:r,row:o,column:a};t.exports.create=function(e,t){var n=l[e];if(!n)throw new Error("unknown type: <"+e+">");return s(new n,t)},t.exports.Table=r,t.exports.Row=o,t.exports.Column=a},{179:179,84:84}]},{},[1])(1)}),define("text!camunda-commons-ui/widgets/dmn-viewer/cam-widget-dmn-viewer.html",[],function(){return'<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>Could not render table:</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      Loading table<br />\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n    </div>\n  </div>\n\n  <div class="table-holder"></div>\n\n</div>\n'}),define("camunda-commons-ui/widgets/dmn-viewer/cam-widget-dmn-viewer",["angular","dmn-io","text!./cam-widget-dmn-viewer.html"],function(e,t,n){"use strict";return[function(){return{scope:{tableXml:"=",control:"=?",editMode:"&",showDetails:"&",onLoad:"&"},template:n,link:function(n,i){function r(){s&&(n.loaded=!1,a.importXML(s,function(e,t){n.$apply(function(){return e?void(n.error=e):(n.loaded=!0,void n.onLoad())})}))}n.editMode=n.$eval(n.editMode),n.showDetails=n.$eval(n.showDetails),n.control=n.control||{},n.control.getViewer=function(){return a},n.control.getElement=function(e){return a.get("elementRegistry").get(e)},n.loaded=!1,n.control.isLoaded=function(){return n.loaded},n.control.highlightRow=function(t,n){var i=a.get("elementRegistry");a.get("eventBus").on("row.render",function(i){i.data.id===t&&e.element(i.gfx).addClass(n)}),a.get("graphicsFactory").update("row",i.get(t),i.getGraphics(t))};var o=t;n.editMode||(o=Object.getPrototypeOf(t.prototype).constructor);var a=new o({container:i.find(".table-holder"),width:"100%",height:"100%",hideDetails:!n.showDetails}),s=null;n.$watch("tableXml",function(e){e&&(s=e,r())})}}}]}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Se.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){xe.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return h(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){yt[e]||(r(t),yt[e]=!0)}function s(e,t){return function(n){return v(e.call(this,n),t)}}function c(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function l(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function u(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function p(){}function d(e,t){t!==!1&&R(e),m(this,e),this._d=new Date(+e._d),wt===!1&&(wt=!0,xe.updateOffset(this),wt=!1)}function f(e){var t=A(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=xe.localeData(),this._bubble()}function h(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),$e.length>0)for(n in $e)i=$e[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function b(e,t){var n;return t=F(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function w(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=xe.duration(n,i),x(this,r,e),this}}function x(e,t,n,i){var r=t._milliseconds,o=t._days,a=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&me(e,"Date",he(e,"Date")+o*n),a&&fe(e,he(e,"Month")+a*n),i&&xe.updateOffset(e,o||a)}function _(e){return"[object Array]"===Object.prototype.toString.call(e)}function E(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function C(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&k(e[i])!==k(t[i]))&&a++;return a+o}function T(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=pt[e]||dt[t]||t}return e}function A(e){var t,i,r={};for(i in e)n(e,i)&&(t=T(i),t&&(r[t]=e[i]));return r}function S(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}xe[t]=function(r,o){var a,s,c=xe._locale[t],l=[];if("number"==typeof r&&(o=r,r=e),s=function(e){var t=xe().utc().set(i,e);return c.call(xe._locale,t,r||"")},null!=o)return s(o);for(a=0;n>a;a++)l.push(s(a));return l}}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function D(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function I(e,t,n){return le(xe([e,11,31+t-n]),t,n).week}function N(e){return P(e)?366:365}function P(e){return e%4===0&&e%100!==0||e%400===0}function R(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[De]<0||e._a[De]>11?De:e._a[Ie]<1||e._a[Ie]>D(e._a[ke],e._a[De])?Ie:e._a[Ne]<0||e._a[Ne]>24||24===e._a[Ne]&&(0!==e._a[Pe]||0!==e._a[Re]||0!==e._a[Oe])?Ne:e._a[Pe]<0||e._a[Pe]>59?Pe:e._a[Re]<0||e._a[Re]>59?Re:e._a[Oe]<0||e._a[Oe]>999?Oe:-1,e._pf._overflowDayOfYear&&(ke>t||t>Ie)&&(t=Ie),e._pf.overflow=t)}function O(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function M(e){return e?e.toLowerCase().replace("_","-"):e}function $(e){for(var t,n,i,r,o=0;o<e.length;){for(r=M(e[o]).split("-"),t=r.length,n=M(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=L(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&C(r,n,!0)>=t-1)break;t--}o++}return null}function L(e){var t=null;if(!Me[e]&&Le)try{t=xe.locale(),require("./locale/"+e),xe.locale(t)}catch(n){}return Me[e]}function F(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(xe.isMoment(e)||E(e)?+e:+xe(e))-+n,
n._d.setTime(+n._d+i),xe.updateOffset(n,!1),n):xe(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,i=e.match(Ve);for(t=0,n=i.length;n>t;t++)vt[i[t]]?i[t]=vt[i[t]]:i[t]=B(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function V(e,t){return e.isValid()?(t=U(t,e.localeData()),ft[t]||(ft[t]=j(t)),ft[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ue.lastIndex=0;i>=0&&Ue.test(e);)e=e.replace(Ue,n),Ue.lastIndex=0,i-=1;return e}function q(e,t){var n,i=t._strict;switch(e){case"Q":return Je;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return i?nt:Ye;case"Y":case"G":case"g":return rt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?it:Ge;case"S":if(i)return Je;case"SS":if(i)return et;case"SSS":if(i)return tt;case"DDD":return ze;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return We;case"a":case"A":return t._locale._meridiemParse;case"x":return Qe;case"X":return Ze;case"Z":case"ZZ":return Xe;case"T":return Ke;case"SSSS":return He;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?et:qe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qe;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Z(Q(e.replace("\\","")),"i"))}}function z(e){e=e||"";var t=e.match(Xe)||[],n=t[t.length-1]||[],i=(n+"").match(lt)||["-",0,0],r=+(60*i[1])+k(i[2]);return"+"===i[0]?r:-r}function Y(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[De]=3*(k(t)-1));break;case"M":case"MM":null!=t&&(r[De]=k(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[De]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Ie]=k(t));break;case"Do":null!=t&&(r[Ie]=k(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=k(t));break;case"YY":r[ke]=xe.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[ke]=k(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Ne]=k(t);break;case"m":case"mm":r[Pe]=k(t);break;case"s":case"ss":r[Re]=k(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Oe]=k(1e3*("0."+t));break;case"x":n._d=new Date(k(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=k(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=xe.parseTwoDigitYear(t)}}function G(e){var n,i,r,o,a,s,c;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,i=t(n.GG,e._a[ke],le(xe(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,i=t(n.gg,e._a[ke],le(xe(),a,s).year),r=t(n.w,1),null!=n.d?(o=n.d,a>o&&++r):o=null!=n.e?n.e+a:a),c=ue(i,r,o,s,a),e._a[ke]=c.year,e._dayOfYear=c.dayOfYear}function H(e){var n,i,r,o,a=[];if(!e._d){for(r=X(e),e._w&&null==e._a[Ie]&&null==e._a[De]&&G(e),e._dayOfYear&&(o=t(e._a[ke],r[ke]),e._dayOfYear>N(o)&&(e._pf._overflowDayOfYear=!0),i=oe(o,0,e._dayOfYear),e._a[De]=i.getUTCMonth(),e._a[Ie]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=a[n]=r[n];for(;7>n;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ne]&&0===e._a[Pe]&&0===e._a[Re]&&0===e._a[Oe]&&(e._nextDay=!0,e._a[Ne]=0),e._d=(e._useUTC?oe:re).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ne]=24)}}function W(e){var t;e._d||(t=A(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],H(e))}function X(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===xe.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var n,i,r,o,a,s=""+t._i,c=s.length,l=0;for(r=U(t._f,t._locale).match(Ve)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(q(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),l+=i.length),vt[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),Y(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=c-l,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Ne]<=12&&(t._pf.bigHour=e),t._a[Ne]=u(t._locale,t._a[Ne],t._meridiem),H(t),R(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,r,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[o],K(t),O(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==r||r>a)&&(r=a,n=t));h(e,n||t)}function ee(e){var t,n,i=e._i,r=ot.exec(i);if(r){for(e._pf.iso=!0,t=0,n=st.length;n>t;t++)if(st[t][1].exec(i)){e._f=st[t][0]+(r[6]||" ");break}for(t=0,n=ct.length;n>t;t++)if(ct[t][1].exec(i)){e._f+=ct[t][0];break}i.match(Xe)&&(e._f+="Z"),K(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,xe.createFromInputFallback(e))}function ne(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function ie(t){var n,i=t._i;i===e?t._d=new Date:E(i)?t._d=new Date(+i):null!==(n=Fe.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?te(t):_(i)?(t._a=ne(i.slice(0),function(e){return parseInt(e,10)}),H(t)):"object"==typeof i?W(t):"number"==typeof i?t._d=new Date(i):xe.createFromInputFallback(t)}function re(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ce(e,t,n){var i=xe.duration(e).abs(),r=Ae(i.as("s")),o=Ae(i.as("m")),a=Ae(i.as("h")),s=Ae(i.as("d")),c=Ae(i.as("M")),l=Ae(i.as("y")),u=r<ht.s&&["s",r]||1===o&&["m"]||o<ht.m&&["mm",o]||1===a&&["h"]||a<ht.h&&["hh",a]||1===s&&["d"]||s<ht.d&&["dd",s]||1===c&&["M"]||c<ht.M&&["MM",c]||1===l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,se.apply({},u)}function le(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=xe(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(e,t,n,i,r){var o,a,s=oe(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(r>s?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:N(e-1)+a}}function pe(t){var n,i=t._i,r=t._f;return t._locale=t._locale||xe.localeData(t._l),null===i||r===e&&""===i?xe.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),xe.isMoment(i)?new d(i,!0):(r?_(r)?J(t):K(t):ie(t),n=new d(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function de(e,t){var n,i;if(1===t.length&&_(t[0])&&(t=t[0]),!t.length)return xe();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function fe(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),D(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function he(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?fe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ge(e,t){return function(n){return null!=n?(me(this,e,n),xe.updateOffset(this,t),this):he(this,e)}}function ve(e){return 400*e/146097}function ye(e){return 146097*e/400}function be(e){xe.duration.fn[e]=function(){return this._data[e]}}function we(e){"undefined"==typeof ender&&(_e=Te.moment,e?Te.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",xe):Te.moment=xe)}for(var xe,_e,Ee,Ce="2.9.0",Te="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ae=Math.round,Se=Object.prototype.hasOwnProperty,ke=0,De=1,Ie=2,Ne=3,Pe=4,Re=5,Oe=6,Me={},$e=[],Le="undefined"!=typeof module&&module&&module.exports,Fe=/^\/?Date\((\-?\d+)/i,Be=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,je=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ve=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ue=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qe=/\d\d?/,ze=/\d{1,3}/,Ye=/\d{1,4}/,Ge=/[+\-]?\d{1,6}/,He=/\d+/,We=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xe=/Z|[\+\-]\d\d:?\d\d/gi,Ke=/T/i,Qe=/[\+\-]?\d+/,Ze=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,et=/\d\d/,tt=/\d{3}/,nt=/\d{4}/,it=/[+-]?\d{6}/,rt=/[+-]?\d+/,ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ct=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],lt=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),pt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ft={},ht={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),gt="M D H h m s w W".split(" "),vt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return v(k(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(k(e/60),2)+":"+v(k(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(k(e/60),2)+v(k(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yt={},bt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],wt=!1;mt.length;)Ee=mt.pop(),vt[Ee+"o"]=c(vt[Ee],Ee);for(;gt.length;)Ee=gt.pop(),vt[Ee+Ee]=s(vt[Ee],2);vt.DDDD=s(vt.DDD,3),h(p.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=xe.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=xe([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return le(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),xe=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=r,a._strict=o,a._isUTC=!1,a._pf=i(),pe(a)},xe.suppressDeprecationWarnings=!1,xe.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),xe.min=function(){var e=[].slice.call(arguments,0);return de("isBefore",e)},xe.max=function(){var e=[].slice.call(arguments,0);return de("isAfter",e)},xe.utc=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=r,a._i=t,a._f=n,a._strict=o,a._pf=i(),pe(a).utc()},xe.unix=function(e){return xe(1e3*e)},xe.duration=function(e,t){var i,r,o,a,s=e,c=null;return xe.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(c=Be.exec(e))?(i="-"===c[1]?-1:1,s={y:0,d:k(c[Ie])*i,h:k(c[Ne])*i,m:k(c[Pe])*i,s:k(c[Re])*i,ms:k(c[Oe])*i}):(c=je.exec(e))?(i="-"===c[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:o(c[2]),M:o(c[3]),d:o(c[4]),h:o(c[5]),m:o(c[6]),s:o(c[7]),w:o(c[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=b(xe(s.from),xe(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),r=new f(s),xe.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},xe.version=Ce,xe.defaultFormat=at,xe.ISO_8601=function(){},xe.momentProperties=$e,xe.updateOffset=function(){},xe.relativeTimeThreshold=function(t,n){return ht[t]===e?!1:n===e?ht[t]:(ht[t]=n,!0)},xe.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return xe.locale(e,t)}),xe.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?xe.defineLocale(e,t):xe.localeData(e),n&&(xe.duration._locale=xe._locale=n)),xe._locale._abbr},xe.defineLocale=function(e,t){return null!==t?(t.abbr=e,Me[e]||(Me[e]=new p),Me[e].set(t),xe.locale(e),Me[e]):(delete Me[e],null)},xe.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return xe.localeData(e)}),xe.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xe._locale;if(!_(e)){if(t=L(e))return t;e=[e]}return $(e)},xe.isMoment=function(e){return e instanceof d||null!=e&&n(e,"_isAMomentObject")},xe.isDuration=function(e){return e instanceof f};for(Ee=bt.length-1;Ee>=0;--Ee)S(bt[Ee]);xe.normalizeUnits=function(e){return T(e)},xe.invalid=function(e){var t=xe.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},xe.parseZone=function(){return xe.apply(null,arguments).parseZone()},xe.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)},xe.isDate=E,h(xe.fn=d.prototype,{clone:function(){return xe(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=xe(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return O(this)},isDSTShifted:function(){return this._a?this.isValid()&&C(this._a,(this._isUTC?xe.utc(this._a):xe(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=V(this,e||xe.defaultFormat);return this.localeData().postformat(t)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(e,t,n){var i,r,o=F(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(r=l(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:g(r)},from:function(e,t){return xe.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(xe(),e)},calendar:function(e){var t=e||xe(),n=F(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,xe(t)))},isLeapYear:function(){return P(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:ge("Month",!0),startOf:function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+this>+e):(n=xe.isMoment(e)?+e:+xe(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+e>+this):(n=xe.isMoment(e)?+e:+xe(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=xe.isMoment(e)?e:xe(e),+this===+e):(n=+xe(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=xe.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=xe.apply(null,arguments),e>this?this:e}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=z(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?x(this,xe.duration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xe.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(z(this._i)),this},hasAlignedHourOffset:function(e){return e=e?xe(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(e){var t=Ae((xe(this).startOf("day")-xe(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return I(this.year(),e.dow,e.doy)},get:function(e){return e=T(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=T(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=xe.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),xe.fn.millisecond=xe.fn.milliseconds=ge("Milliseconds",!1),xe.fn.second=xe.fn.seconds=ge("Seconds",!1),xe.fn.minute=xe.fn.minutes=ge("Minutes",!1),xe.fn.hour=xe.fn.hours=ge("Hours",!0),xe.fn.date=ge("Date",!0),xe.fn.dates=o("dates accessor is deprecated. Use date instead.",ge("Date",!0)),xe.fn.year=ge("FullYear",!0),xe.fn.years=o("years accessor is deprecated. Use year instead.",ge("FullYear",!0)),xe.fn.days=xe.fn.day,xe.fn.months=xe.fn.month,xe.fn.weeks=xe.fn.week,xe.fn.isoWeeks=xe.fn.isoWeek,xe.fn.quarters=xe.fn.quarter,xe.fn.toJSON=xe.fn.toISOString,xe.fn.isUTC=xe.fn.isUtc,h(xe.duration.fn=f.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,e=g(i/1e3),a.seconds=e%60,t=g(e/60),a.minutes=t%60,n=g(t/60),a.hours=n%24,r+=g(n/24),s=g(ve(r)),r-=g(ye(s)),o+=g(r/30),r%=30,s+=g(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(e){var t=ce(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=xe.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=xe.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=T(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=T(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ve(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ye(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:xe.fn.lang,locale:xe.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),xe.duration.fn.toString=xe.duration.fn.toISOString;for(Ee in ut)n(ut,Ee)&&be(Ee.toLowerCase());xe.duration.fn.asMilliseconds=function(){return this.as("ms")},xe.duration.fn.asSeconds=function(){return this.as("s")},xe.duration.fn.asMinutes=function(){return this.as("m")},xe.duration.fn.asHours=function(){return this.as("h")},xe.duration.fn.asDays=function(){return this.as("d")},xe.duration.fn.asWeeks=function(){return this.as("weeks")},xe.duration.fn.asMonths=function(){return this.as("M")},xe.duration.fn.asYears=function(){return this.as("y")},xe.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Le?module.exports=xe:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Te.moment=_e),xe}),we(!0)):we()}.call(this),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage();n?n.get(t)?e.use(n.get(t)):angular.isString(e.preferredLanguage())?e.use(e.preferredLanguage()):n.set(t,e.use()):angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,i,r,o,a,s,c,l,u,p,d,f,h,m,g={},v=[],y=e,b=[],w=!1,x="translate-cloak",_=!1,E=".",C="2.4.2",T=function(){var e=window.navigator;return((angular.isArray(e.languages)?e.languages[0]:e.language||e.browserLanguage||e.systemLanguage||e.userLanguage)||"").split("-").join("_")},A=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},S=function(){return this.replace(/^\s+|\s+$/g,"")},k=function(e){for(var t=[],i=angular.lowercase(e),r=0,o=v.length;o>r;r++)t.push(angular.lowercase(v[r]));if(A(t,i)>-1)return e;if(n){var a;for(var s in n){var c=!1,l=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(c=s.slice(0,-1)===e.slice(0,s.length-1)),(l||c)&&(a=n[s],A(t,angular.lowercase(a))>-1))return a}}var u=e.split("_");return u.length>1&&A(t,angular.lowercase(u[0]))>-1?u[0]:e},D=function(e,t){if(!e&&!t)return g;if(e&&!t){if(angular.isString(e))return g[e]}else angular.isObject(g[e])||(g[e]={}),angular.extend(g[e],I(t));return this};this.translations=D,this.cloakClassName=function(e){return e?(x=e,this):x};var I=function(e,t,n,i){var r,o,a,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?I(s,t.concat(r),n,r):(o=t.length?""+t.join(E)+E+r:r,t.length&&r===i&&(a=""+t.join(E),n[a]="@:"+o),n[o]=s));return n};this.addInterpolation=function(e){return b.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return w=e,this},this.preferredLanguage=function(e){return N(e),this};var N=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(f=e,this):f},this.translationNotFoundIndicatorRight=function(e){return e?(h=e,this):h},this.fallbackLanguage=function(e){return P(e),this};var P=function(e){return e?(angular.isString(e)?(r=!0,i=[e]):angular.isArray(e)&&(r=!1,i=e),angular.isString(t)&&A(i,t)<0&&i.push(t),this):r?i[0]:i};this.use=function(e){if(e){if(!g[e]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return o=e,this}return o};var R=function(e){return e?void(y=e):c?c+y:y};this.storageKey=R,
this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return p=e,d=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(c=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return l=e,this},this.usePostCompiling=function(e){return _=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():T();return t=v.length?k(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?m=void 0:e===!0?m=!0:"undefined"==typeof e?m="$translationCache":e&&(m=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,c,v){var E,T,O,M=n.get(u||"$translateDefaultInterpolation"),$=!1,L={},F={},B=function(e,n,r){if(angular.isArray(e)){var a=function(e){for(var t={},i=[],o=function(e){var i=v.defer(),o=function(n){t[e]=n,i.resolve([e,n])};return B(e,n,r).then(o,o),i.promise},a=0,s=e.length;s>a;a++)i.push(o(e[a]));return v.all(i).then(function(){return t})};return a(e)}var c=v.defer();e&&(e=S.apply(e));var l=function(){var e=t?F[t]:F[o];if(T=0,s&&!e){var n=E.get(y);if(e=F[n],i&&i.length){var r=A(i,n);T=0===r?1:0,A(i,t)<0&&i.push(t)}}return e}();return l?l.then(function(){Q(e,n,r).then(c.resolve,c.reject)},c.reject):Q(e,n,r).then(c.resolve,c.reject),c.promise},j=function(e){return f&&(e=[f,e].join(" ")),h&&(e=[e,h].join(" ")),e},V=function(e){o=e,c.$emit("$translateChangeSuccess",{language:e}),s&&E.set(B.storageKey(),o),M.setLocale(o),angular.forEach(L,function(e,t){L[t].setLocale(o)}),c.$emit("$translateChangeEnd",{language:e})},U=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();c.$emit("$translateLoadingStart",{language:e}),$=!0;var i=m;"string"==typeof i&&(i=n.get(i));var r=angular.extend({},d,{key:e,$http:angular.extend({},{cache:i},d.$http)});return n.get(p)(r).then(function(n){var i={};c.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(i,I(e))}):angular.extend(i,I(n)),$=!1,t.resolve({key:e,table:i}),c.$emit("$translateLoadingEnd",{language:e})},function(e){c.$emit("$translateLoadingError",{language:e}),t.reject(e),c.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(E=n.get(s),!E.get||!E.set))throw new Error("Couldn't use storage '"+s+"', missing get() or set() method!");angular.isFunction(M.useSanitizeValueStrategy)&&M.useSanitizeValueStrategy(w),b.length&&angular.forEach(b,function(e){var i=n.get(e);i.setLocale(t||o),angular.isFunction(i.useSanitizeValueStrategy)&&i.useSanitizeValueStrategy(w),L[i.getInterpolationIdentifier()]=i});var q=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(g,e)?t.resolve(g[e]):F[e]?F[e].then(function(e){D(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},z=function(e,t,n,i){var r=v.defer();return q(e).then(function(a){Object.prototype.hasOwnProperty.call(a,t)?(i.setLocale(e),r.resolve(i.interpolate(a[t],n)),i.setLocale(o)):r.reject()},r.reject),r.promise},Y=function(e,t,n,i){var r,a=g[e];return Object.prototype.hasOwnProperty.call(a,t)&&(i.setLocale(e),r=i.interpolate(a[t],n),i.setLocale(o)),r},G=function(e){if(l){var t=n.get(l)(e,o);return void 0!==t?t:e}return e},H=function(e,t,n,r){var o=v.defer();if(e<i.length){var a=i[e];z(a,t,n,r).then(o.resolve,function(){H(e+1,t,n,r).then(o.resolve)})}else o.resolve(G(t));return o.promise},W=function(e,t,n,r){var o;if(e<i.length){var a=i[e];o=Y(a,t,n,r),o||(o=W(e+1,t,n,r))}return o},X=function(e,t,n){return H(O>0?O:T,e,t,n)},K=function(e,t,n){return W(O>0?O:T,e,t,n)},Q=function(e,t,n){var r=v.defer(),a=o?g[o]:g,s=n?L[n]:M;if(a&&Object.prototype.hasOwnProperty.call(a,e)){var c=a[e];"@:"===c.substr(0,2)?B(c.substr(2),t,n).then(r.resolve,r.reject):r.resolve(s.interpolate(c,t))}else{var u;l&&!$&&(u=G(e)),o&&i&&i.length?X(e,t,s).then(function(e){r.resolve(e)},function(e){r.reject(j(e))}):l&&!$&&u?r.resolve(u):r.reject(j(e))}return r.promise},Z=function(e,t,n){var r,a=o?g[o]:g,s=n?L[n]:M;if(a&&Object.prototype.hasOwnProperty.call(a,e)){var c=a[e];r="@:"===c.substr(0,2)?Z(c.substr(2),t,n):s.interpolate(c,t)}else{var u;l&&!$&&(u=G(e)),o&&i&&i.length?(T=0,r=K(e,t,s)):r=l&&!$&&u?u:j(e)}return r};if(B.preferredLanguage=function(e){return e&&N(e),t},B.cloakClassName=function(){return x},B.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(P(e),p&&i&&i.length)for(var t=0,n=i.length;n>t;t++)F[i[t]]||(F[i[t]]=U(i[t]));B.use(B.use())}return r?i[0]:i},B.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=A(i,e);t>-1&&(O=t)}else O=0},B.proposedLanguage=function(){return a},B.storage=function(){return E},B.use=function(e){if(!e)return o;var t=v.defer();c.$emit("$translateChangeStart",{language:e});var n=k(e);return n&&(e=n),g[e]||!p||F[e]?(t.resolve(e),V(e)):(a=e,F[e]=U(e).then(function(n){D(n.key,n.table),t.resolve(n.key),V(n.key),a===e&&(a=void 0)},function(e){a===e&&(a=void 0),c.$emit("$translateChangeError",{language:e}),t.reject(e),c.$emit("$translateChangeEnd",{language:e})})),t.promise},B.storageKey=function(){return R()},B.isPostCompilingEnabled=function(){return _},B.refresh=function(e){function t(){r.resolve(),c.$emit("$translateRefreshEnd",{language:e})}function n(){r.reject(),c.$emit("$translateRefreshEnd",{language:e})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var r=v.defer();if(c.$emit("$translateRefreshStart",{language:e}),e)g[e]?U(e).then(function(n){D(n.key,n.table),e===o&&V(o),t()},n):n();else{var a=[],s={};if(i&&i.length)for(var l=0,u=i.length;u>l;l++)a.push(U(i[l])),s[i[l]]=!0;o&&!s[o]&&a.push(U(o)),v.all(a).then(function(e){angular.forEach(e,function(e){g[e.key]&&delete g[e.key],D(e.key,e.table)}),o&&V(o),t()})}return r.promise},B.instant=function(e,n,r){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var a={},s=0,c=e.length;c>s;s++)a[e[s]]=B.instant(e[s],n,r);return a}if(angular.isString(e)&&e.length<1)return e;e&&(e=S.apply(e));var u,p=[];t&&p.push(t),o&&p.push(o),i&&i.length&&(p=p.concat(i));for(var d=0,f=p.length;f>d;d++){var h=p[d];if(g[h]&&"undefined"!=typeof g[h][e]&&(u=Z(e,n,r)),"undefined"!=typeof u)break}return u||""===u||(u=M.interpolate(e,n),l&&!$&&(u=G(e))),u},B.versionInfo=function(){return C},B.loaderCache=function(){return m},p&&(angular.equals(g,{})&&B.use(B.use()),i&&i.length))for(var J=function(e){D(e.key,e.table),c.$emit("$translateChangeEnd",{language:e.key})},ee=0,te=i.length;te>ee;ee++)F[i[ee]]=U(i[ee]).then(J);return B}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},i="default",r=null,o={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},a=function(e){var t;return t=angular.isFunction(o[r])?o[r](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return i},n.useSanitizeValueStrategy=function(e){return r=e,this},n.interpolate=function(t,n){return r&&(n=a(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,i,r,o){return{restrict:"AE",scope:!0,compile:function(t,a){var s=a.translateValues?a.translateValues:void 0,c=a.translateInterpolation?a.translateInterpolation:void 0,l=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)";return function(t,p,d){if(t.interpolateParams={},t.preText="",t.postText="",d.$observe("translate",function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var i=p.text().match(u);angular.isArray(i)?(t.preText=i[1],t.postText=i[3],t.translationId=n(i[2])(t.$parent)):t.translationId=p.text().replace(/^\s+|\s+$/g,"")}else t.translationId=e}),d.$observe("translateDefault",function(e){t.defaultText=e}),s&&d.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,r(e)(t.$parent))})}),l){var f=function(e){d.$observe(e,function(n){t.interpolateParams[angular.lowercase(e.substr(14,1))+e.substr(15)]=n})};for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&"translateValue"===h.substr(0,14)&&"translateValues"!==h&&f(h)}var m=function(t,n,r){r||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(n.preText+t+n.postText);var o=e.isPostCompilingEnabled(),s="undefined"!=typeof a.translateCompile,c=s&&"false"!==a.translateCompile;(o&&!s||c)&&i(p.contents())(n)},g=function(){return s||l?function(){var n=function(){t.translationId&&t.interpolateParams&&e(t.translationId,t.interpolateParams,c).then(function(e){m(e,t,!0)},function(e){m(e,t,!1)})};t.$watch("interpolateParams",n,!0),t.$watch("translationId",n)}:function(){var n=t.$watch("translationId",function(i){t.translationId&&i&&e(i,{},c).then(function(e){m(e,t,!0),n()},function(e){m(e,t,!1),n()})},!0)}}(),v=o.$on("$translateChangeSuccess",g);g(),t.$on("$destroy",v)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var i=function(){n.addClass(t.cloakClassName())},r=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){r(),o(),o=null});return i(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(r,i)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,i,r){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r)};return n.$stateful=!0,n}]),define("angular-translate",["angular"],function(){}),define("camunda-commons-ui/filter/date/index",["angular","moment","angular-translate"],function(e,t){"use strict";var n=e.module("cam.commons.filter.date",["pascalprecht.translate"]);return n.provider("camDateFormat",function(){var e={normal:"LLL","short":"LL","long":"LLLL"};this.setDateFormat=function(t,n){n=n||"normal",e[n]=t},this.$get=function(){return function(t){return t=t||"normal",e[t]}}}),n.config(["$filterProvider",function(e){e.register("camDate",["$translate","camDateFormat",function(e,n){return function(e,i){return e?t(e).format(n(i)):""}}])}]),n}),define("camunda-commons-ui/widgets/variable/cam-variable-validator",["camunda-bpm-sdk-js-type-utils"],function(e){"use strict";return[function(){return{require:"ngModel",link:function(t,n,i,r){var o=function(t){var n=i.camVariableValidator;return-1!==["String","Object","Null"].indexOf(n)?r.$setValidity("camVariableValidator",!0):r.$setValidity("camVariableValidator",e.isType(t,n)),t};r.$parsers.unshift(o),r.$formatters.push(o),i.$observe("camVariableValidator",function(){return o(r.$viewValue)})}}}]}),define("camunda-commons-ui/widgets/index",["angular","./inline-field/cam-widget-inline-field","./search-pill/cam-widget-search-pill","./search-pill/cam-query-component","./header/cam-widget-header","./footer/cam-widget-footer","./loader/cam-widget-loader","./debug/cam-widget-debug","./variable/cam-widget-variable","./variables-table/cam-widget-variables-table","./variables-table/cam-render-var-template","./search/cam-widget-search","./bpmn-viewer/cam-widget-bpmn-viewer","./dmn-viewer/cam-widget-dmn-viewer","../filter/date/index","../directives/index","../search/index","./variable/cam-variable-validator","angular-bootstrap"],function(e,t,n,i,r,o,a,s,c,l,u,p,d,f,h,m,g,v){"use strict";var y=e.module("camunda.common.widgets",[h.name,m.name,g.name,"ui.bootstrap"]);return y.directive("camWidgetInlineField",t),y.directive("camWidgetSearchPill",n),y.directive("camWidgetHeader",r),y.directive("camWidgetFooter",o),y.directive("camWidgetLoader",a),y.directive("camWidgetDebug",s),y.directive("camWidgetVariable",c),y.directive("camWidgetVariablesTable",l),y.directive("camRenderVarTemplate",u),y.directive("camWidgetSearch",p),y.directive("camWidgetBpmnViewer",d),y.directive("camWidgetDmnViewer",f),y.directive("camVariableValidator",v),y.filter("camQueryComponent",i),y}),define("camunda-commons-ui/index",["angular","./auth/index","./util/index","./pages/index","./plugin/index","./directives/index","./resources/index","./search/index","./services/index","./widgets/index","./filter/date/index","angular-bootstrap","angular-translate"],function(e,t,n,i,r,o,a,s,c,l,u){"use strict";return e.module("cam.commons",[t.name,n.name,i.name,r.name,o.name,a.name,s.name,c.name,l.name,u.name,"ui.bootstrap","pascalprecht.translate"])}),define("camunda-commons-ui",["camunda-commons-ui/index"],function(e){return e}),define("text!repository/controllers/cam-cockpit-repository-view.html",[],function(){return'<!-- # cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n<div cam-repository\n     class="ctn-fixed-view">\n  <div class="ctn-content-container">\n\n      <!-- # deployment-list column -->\n    <section class="ctn-column deployments"\n             ng-controller="camDeploymentsCtrl">\n\n      <header class="cell top">\n        <div cam-deployments-sorting-choices\n             deployments-data="deploymentsData"></div>\n      </header>\n\n      <div class="cell content">\n\n        <view ng-repeat="deploymentsPlugin in deploymentsPlugins"\n              provider="deploymentsPlugin"\n              class="deployment-plugins"\n              vars="deploymentsVars" />\n\n        <div cam-deployments\n             ng-style="{top: deploymentsListTop}"\n             deployments-data="deploymentsData"></div>\n      </div>\n\n    </section>\n    <!-- / deployment-list column -->\n\n\n\n    <!-- # resource-list column -->\n    <section class="ctn-column resources">\n\n      <header class="cell top">\n      </header>\n\n      <div class="cell content">\n        <div cam-resources\n             repository-data="repositoryData"></div>\n      </div>\n\n    </section>\n    <!-- / resource-list column -->\n\n\n\n    <!-- # resource-details column -->\n    <section class="ctn-column resource-details"\n             ng-controller="camResourceDetailsCtrl">\n\n      <header class="cell top">\n        <div class="resource-actions"\n             ng-if="resource"\n             ng-repeat="resourceAction in resourceActions">\n          <view provider="resourceAction" vars="resourceVars">\n        </div>\n      </header>\n\n      <div class="cell content">\n        <div cam-resource-wrapper\n             resource-details-data="resourceDetailsData"\n             control="control"></div>\n      </div>\n\n    </section>\n    <!-- # resource-details column -->\n\n  </div>\n</div>\n<!-- / cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n'}),define("repository/config/routes",["text!./../controllers/cam-cockpit-repository-view.html"],function(e){"use strict";return["$routeProvider",function(t){t.when("/repository",{template:e,controller:"camCockpitRepositoryViewCtrl",authentication:"required",reloadOnSearch:!1})}]}),define("repository/controllers/cam-cockpit-repository-view-ctrl",["angular"],function(e){"use strict";return["$scope","$q","$location","$timeout","search","dataDepend","page","camAPI",function(t,n,i,r,o,a,s,c){function l(){var n=e.element('[ng-controller="camDeploymentsCtrl"] .content view');t.deploymentsListTop=1*n[0].offsetTop+Math.max(49,n.height()||0)+"px"}s.titleSet(["Camunda Cockpit","Deployments"].join(" | "));var u=function(e){o.updateSilently(e)},p=function(e){var t=i.search()||{};return t[e]||null},d=15,f=c.resource("deployment"),h=t.repositoryData=a.create(t),m=p("deploymentsSortBy"),g=p("deploymentsSortOrder"),v=p("deploymentsPage"),y=p("deployment"),b=p("resource"),w=p("resourceName");h.provide("deploymentsSearchQuery",{}),h.provide("deploymentsPagination",function(){var e=n.defer();return v=p("deploymentsPage"),r(function(){e.resolve({firstResult:((v||1)-1)*d,maxResults:d})}),e.promise}),h.provide("deploymentsSorting",function(){return m=p("deploymentsSortBy"),g=p("deploymentsSortOrder"),{sortBy:m||"deploymentTime",sortOrder:g||"desc"}}),r(l,200),h.provide("deploymentsQuery",["deploymentsSearchQuery","deploymentsPagination","deploymentsSorting",function(t,i,o){var a=n.defer();return r(function(){t=t||{},a.resolve(e.extend({},t,i,o)),l()}),a.promise}]),h.provide(["deployments","deploymentsCount"],["deploymentsQuery",function(e){var t=n.defer();return f.list(e,function(e,n){e?t.reject(e):t.resolve([n.items,n.count])}),t.promise}]),h.provide("currentDeployment",["deployments",function(t){t=t||[];for(var n,r,o=p("deployment"),a=0;r=t[a];a++){if(o===r.id){n=r;break}n||(n=r)}return n?(y=n.id,n.id!==o&&(u({deployment:n.id,resource:null,viewbox:null,editMode:null}),i.replace())):(u({deployment:null,resource:null,viewbox:null,editMode:null}),i.replace()),e.copy(n)}]),h.provide("resources",["currentDeployment",function(e){var t=n.defer();return e&&null!==e.id?f.getResources(e.id,function(e,n){e?t.reject(e):t.resolve(n)}):t.resolve(null),t.promise}]),h.provide("resourceId",["resources",function(e){if(b=p("resource"),w=p("resourceName"),b)return{resourceId:b};if(w){e=e||[];for(var t,n=0;t=e[n];n++)if(t.name===w)return{resourceId:t.id}}return{resourceId:null}}]),h.provide("resource",["resourceId","currentDeployment",function(e,t){var i=n.defer();return e=e.resourceId,"string"!=typeof e?i.resolve(null):t&&null!==t.id?f.getResource(t.id,e,function(e,t){e?i.reject(e):i.resolve(t)}):i.resolve(null),i.promise}]),t.$on("$routeChanged",function(){var e=m,t=g,n=v,i=y,r=b,o=w;m=p("deploymentsSortBy"),g=p("deploymentsSortOrder"),v=p("deploymentsPage"),y=p("deployment"),b=p("resource"),w=p("resourceName"),(m&&e!==m||g&&t!==g)&&h.changed("deploymentsSorting"),v&&n!==v?h.changed("deploymentsPagination"):y&&i!==y?h.changed("currentDeployment"):(b&&r!==b||w&&o!==w)&&h.changed("resourceId")})}]}),define("repository/deployments/controllers/cam-cockpit-deployments-ctrl",[],function(){"use strict";return["$scope","Views",function(e,t){e.deploymentsData=e.repositoryData.newChild(e),e.deploymentsVars={read:["deploymentsData"]},e.deploymentsPlugins=t.getProviders({component:"cockpit.repository.deployments.list"})}]}),define("text!repository/deployments/directives/cam-cockpit-deployments.html",[],function(){return'<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-show="state.$error" class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">Failure:</strong>\n  <span class="message">Loading the deployments finished with failures. Try to refresh the page to try again.</span>\n</div>\n\n<div ng-show="state.$loaded && !state.$error"\n     class="wrapper">\n\n  <div ng-hide="totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    No deployments available.\n  </div>\n\n  <div ng-show="totalItems && (!deployments || !deployments.length)"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    The current search parameters could not retrieve any tasks. Try to reset the search parameters or to&nbsp;\n    <a ng-click="resetPage()">reset page number.</a>\n  </div>\n\n  <ul class="deployments">\n    <li ng-show="totalItems"\n        ng-repeat="(delta, deployment) in deployments"\n        ng-class="{active: isFocused(deployment), deployment: true}"\n        ng-style="{\'z-index\': ((deployments.length + 10) - delta) }"\n        ng-click="focus(deployment)">\n\n      <div cam-deployment\n           deployment="deployment"\n           deployments-list-data="deploymentsListData"\n           control="control">\n      </div>\n\n    </li>\n  </ul>\n</div>\n\n<pagination ng-show="state.$loaded && totalItems > pageSize"\n            class="pagination-sm"\n\n            ng-model="pageNum"\n            ng-change="pageChange(pageNum)"\n\n            total-items="totalItems"\n            items-per-page="pageSize"\n            max-size="3"\n\n            boundary-links="false"\n\n            next-text="&rsaquo;"\n            last-text="&raquo;"\n            previous-text="&lsaquo;"\n            first-text="&laquo;"></pagination>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n'}),define("repository/deployments/directives/cam-cockpit-deployments",["text!./cam-cockpit-deployments.html","angular"],function(e,t){"use strict";return[function(){return{restrict:"A",scope:{deploymentsData:"="},template:e,controller:["$scope","$location","search","Notifications",function(e,t,n,i){var r=e.deploymentsListData=e.deploymentsData.newChild(e),o=function(e){n.updateSilently(e)},a=e.control={};a.addMessage=function(t,n){i.addMessage({status:t,message:n,scope:e})},e.pageNum=1,e.pageSize=null,e.totalItems=0;var s=e.pageChange=function(e){o({deploymentsPage:e,editMode:null}),r.changed("deploymentsPagination")};e.resetPage=function(){s(null)},e.state=r.observe("deployments",function(t){e.deployments=t}),e.state=r.observe(["deploymentsQuery","deploymentsCount",function(t,n){e.pageSize=t.maxResults,e.pageNum=t.firstResult/e.pageSize+1,e.totalItems=n}]),r.observe("currentDeployment",function(t){e.currentDeployment=t}),e.focus=function(e){c(e)||n.updateSilently({resource:null,resourceName:null,viewbox:null,editMode:!0}),n.updateSilently({deployment:e.id}),r.changed("currentDeployment")};var c=e.isFocused=function(t){return t&&e.currentDeployment&&t.id===e.currentDeployment.id}}]}}]}),define("text!repository/deployments/directives/cam-cockpit-deployment.html",[],function(){return'<div class="deployment-actions">\n  <view ng-repeat="deploymentPlugin in deploymentPlugins"\n        provider="deploymentPlugin"\n        vars="deploymentVars" />\n</div>\n\n<h4 class="name">{{ deployment.name || deployment.id }}</h4>\n\n<dl>\n  <dt>Time:</dt>\n  <dd class="time">{{ deployment.deploymentTime | camDate:\'normal\' }}</dd>\n\n  <dt>Source:</dt>\n  <dd ng-class="{ undefined: !deployment.source}" class="source">\n    {{ deployment.source ? deployment.source : \'&lt;undefined&gt;\' }}\n  </dd>\n</dl>\n'}),define("repository/deployments/directives/cam-cockpit-deployment",["angular","text!./cam-cockpit-deployment.html"],function(e,t){"use strict";return[function(){return{restrict:"A",scope:{deploymentsListData:"=",deployment:"=",control:"="},template:t,controller:["$scope","Views",function(e,t){e.deploymentData=e.deploymentsListData.newChild(e),e.deploymentVars={read:["deploymentData","deployment","control"]},e.deploymentPlugins=t.getProviders({component:"cockpit.repository.deployment.action"})}]}}]}),define("text!repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html",[],function(){return'<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n<div class="dropdown">\n\n  <a href\n     tabindex="-1"\n     role="button"\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="hidden-xs hidden-sm hidden-md"></span>\n    <span class="sort-by">{{ byLabel(sorting.sortBy) }}</span>\n  </a>\n\n  <a href\n     tabindex="-1"\n     tooltip="{{ (sorting.sortOrder === \'desc\' ? \'DESC\' : \'ASC\') }}"\n     class="glyphicon sort-direction"\n     ng-class="sorting.sortOrder === \'asc\' ? \'glyphicon-chevron-up\' : \'glyphicon-chevron-down\'"\n     ng-click="changeOrder()"></a>\n\n  <ul class="dropdown-menu"\n      role="menu">\n\n    <li ng-show="sorting.sortBy !== id"\n        ng-repeat="(id, name) in uniqueProps">\n      <a href\n         tabindex="-1"\n         class="sort-by-choice"\n         ng-click="changeBy(id)">{{ name }}</a>\n    </li>\n\n  </ul>\n\n</div>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n'}),define("repository/deployments/directives/cam-cockpit-deployments-sorting-choices",["text!./cam-cockpit-deployments-sorting-choices.html","angular"],function(e,t){"use strict";return[function(){return{restrict:"A",scope:{deploymentsData:"="},template:e,controller:["$scope","search",function(e,n){var i=e.deploymentsSortingData=e.deploymentsData.newChild(e),r=e.uniqueProps={id:"Id",name:"Name",deploymentTime:"Deployment Time"},o=function(e){n.updateSilently(e)},a=function(e,t){var n={};n[e]=t,o(n),i.changed("deploymentsSorting")};i.observe("deploymentsSorting",function(n){e.sorting=t.copy(n)}),e.byLabel=function(e){return r[e]},e.changeOrder=function(){var t="asc"===e.sorting.sortOrder?"desc":"asc";a("deploymentsSortOrder",t)},e.changeBy=function(e){a("deploymentsSortBy",e)}}]}}]}),define("text!repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin.html",[],function(){return'<!-- # cockpit client/scripts/repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin.html -->\n<div cam-widget-search\n     cam-widget-search-id="deployments"\n     cam-widget-search-valid-searches="searches"\n     cam-widget-search-translations="translations"\n     cam-widget-search-types="types"\n     cam-widget-search-operators="operators"></div>\n<!-- / cockpit client/scripts/repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin.html -->\n'}),define("text!repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin-config.json",[],function(){return'{\n  "types": [\n    {\n      "id": {\n        "key": "id",\n        "value": "ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "name",\n        "value": "Name"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "deploymentTime",\n        "value": "Time"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "before"\n        },\n        {\n          "key": "After",\n          "value": "after"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "source",\n        "value": "Source"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutSource",\n        "value": "Source Undefined"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "date":       [\n      {\n        "key": "lteq",\n        "value": "before"\n      },\n      {\n        "key": "gteq",\n        "value": "after"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "Add criteria",\n    "invalid": "This search query is not valid",\n    "deleteSearch": "Remove search",\n    "type": "Type",\n    "name": "Property",\n    "operator": "Operator",\n    "value": "Value"\n  }\n}\n'}),define("repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin",["angular","text!./cam-cockpit-deployments-search-plugin.html","text!./cam-cockpit-deployments-search-plugin-config.json"],function(e,t,n){"use strict";var i=JSON.parse(n),r=["$scope",function(t){var n=function(e){return isNaN(e)||""===e.trim()?"true"===e?!0:"false"===e?!1:"NULL"===e?null:e:+e},r=function(e,t){return"Like"===t||"like"===t?"%"+e+"%":e},o=function(e){var t=e.type.value.key,n=e.operator.value.key;return-1!==["Like","like"].indexOf(n)?t+=n:-1!==["Before","before","After","after"].indexOf(n)&&(t=n.toLowerCase()),t},a=function(e){return e.basic?!0:r(n(e.value.value),e.operator.value.key)},s=function(e,t){var n=o(t),i=a(t);e[n]=i};t.translations=i.tooltips,t.types=i.types,t.operators=i.operators;var c=t.deploymentsData.newChild(t);t.$watch("searches",function(t){var n={};e.forEach(t,function(e){s(n,e)}),c.set("deploymentsSearchQuery",n)},!0)}],o=function(e){e.registerDefaultView("cockpit.repository.deployments.list",{id:"deployments-search",template:t,controller:r,priority:100})};return o.$inject=["ViewsProvider"],o}),define("text!repository/deployments/plugins/actions/delete/cam-cockpit-delete-deployment-plugin.html",[],function(){return'<a class="delete-deployment"\n   ng-click="deleteDeployment($event, deployment)"\n   tooltip="Delete Deployment">\n  <span class="glyphicon glyphicon-trash"></span>\n</a>'}),define("text!repository/deployments/plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal.html",[],function(){return'<!-- # cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n<div class="modal-header">\n  <h3 class="modal-title">Delete Deployment: {{ deployment.name || deployment.id }}</h3>\n</div>\n\n<div class="modal-body delete-deployment-dialog">\n  <div notifications-panel></div>\n\n  <div ng-hide="countsLoaded()"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    Loading deployment informations...\n  </div>\n\n  <div ng-show="countsLoaded()">\n\n    This deployment will be deleted.\n\n    <div class="alert alert-info" ng-show="hasInstances()">\n      {{ getInfoSnippet() }} In order to delete this deployment it is necessary to enable the <code>Cascade</code> flag.\n    </div>\n\n    <form class="form-horizontal"\n          name="deleteDeploymentForm"\n          novalidate\n          request-aware>\n\n      <div class="form-group cascade">\n\n        <label class="control-label col-xs-5"\n               for="cascade">\n          Cascade\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="If the value is enabled, all instances, including historic instances, related to this deployment will also be deleted."\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="cascade"\n                   type="checkbox"\n                   ng-model="options.cascade">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          Skip Custom Listeners\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="If the value is enabled, only built-in listeners will be notified with the end event."\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n    </form>\n\n    Are you sure to delete the given deployment?\n\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="$dismiss()"\n          ng-disabled="status === \'PERFORM_DELETE\'">Close</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="deleteDeployment()"\n          ng-show="countsLoaded()"\n          ng-disabled="!canDeleteDeployment() || status === \'PERFORM_DELETE\'">Delete</button>\n</div>\n<!-- / cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n';
}),define("repository/deployments/plugins/actions/delete/cam-cockpit-delete-deployment-plugin",["angular","text!./cam-cockpit-delete-deployment-plugin.html","text!./modals/cam-cockpit-delete-deployment-modal.html"],function(e,t,n){"use strict";var i=["$scope","$modal",function(e,t){var i=e.deploymentData;e.deployment;e.deleteDeployment=function(e,r){e.stopPropagation(),t.open({controller:"camDeleteDeploymentModalCtrl",template:n,resolve:{deploymentData:function(){return i},deployment:function(){return r}}}).result.then(function(){i.changed("deployments")})}}],r=function(e){e.registerDefaultView("cockpit.repository.deployment.action",{id:"delete-deployment",template:t,controller:i,priority:1e3})};return r.$inject=["ViewsProvider"],r}),define("repository/deployments/plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl",["angular"],function(e){"use strict";return["$scope","$q","camAPI","Notifications","deploymentData","deployment",function(e,t,n,i,r,o){var a=n.resource("deployment"),s=n.resource("process-instance"),c=n.resource("case-instance"),l=r.newChild(e),u=e.options={cascade:!1,skipCustomListeners:!0};e.deployment=o,e.status,e.$on("$routeChangeStart",function(){e.$dismiss()}),l.provide("processInstanceCount",function(){var e=t.defer();return s.count({deploymentId:o.id},function(t,n){return t?e.reject(t):void e.resolve(n.count)}),e.promise}),l.provide("caseInstanceCount",function(){var e=t.defer();return c.count({deploymentId:o.id},function(t,n){return t?e.reject(t):void e.resolve(n.count)}),e.promise}),e.processInstanceCountState=l.observe("processInstanceCount",function(t){e.processInstanceCount=t}),e.caseInstanceCountState=l.observe("caseInstanceCount",function(t){e.caseInstanceCount=t}),e.countsLoaded=function(){return e.processInstanceCountState&&(e.processInstanceCountState.$loaded||e.processInstanceCountState.$error)&&e.caseInstanceCountState&&(e.caseInstanceCountState.$loaded||e.caseInstanceCountState.$error)};var p=e.hasInstances=function(){return e.processInstanceCount>0||e.caseInstanceCount>0};e.canDeleteDeployment=function(){return!u.cascade&&p()?!1:!0},e.getInfoSnippet=function(){var t=["There are"];return e.processInstanceCount>0&&(t.push(e.processInstanceCount),t.push("running process"),e.processInstanceCount>1?t.push("instances"):t.push("instance")),e.processInstanceCount>0&&e.caseInstanceCount>0&&t.push("and"),e.caseInstanceCount>0&&(t.push(e.caseInstanceCount),t.push("open case"),e.caseInstanceCount>1?t.push("instances"):t.push("instance")),t.push("which belong to this deployment."),t=t.join(" ")},e.deleteDeployment=function(){e.status="PERFORM_DELETE",a["delete"](o.id,u,function(t){return e.status=null,t?i.addError({status:"Finished",message:"Could not delete deployment: "+t.message,exclusive:!0}):void e.$close()})}}]}),define("repository/deployments/main",["angular","./controllers/cam-cockpit-deployments-ctrl","./directives/cam-cockpit-deployments","./directives/cam-cockpit-deployment","./directives/cam-cockpit-deployments-sorting-choices","./plugins/search/cam-cockpit-deployments-search-plugin","./plugins/actions/delete/cam-cockpit-delete-deployment-plugin","./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl"],function(e,t,n,i,r,o,a,s){"use strict";var c=e.module("cam.cockpit.repository.deployments",["ui.bootstrap"]);return c.controller("camDeploymentsCtrl",t),c.directive("camDeployments",n),c.directive("camDeployment",i),c.directive("camDeploymentsSortingChoices",r),c.config(o),c.config(a),c.controller("camDeleteDeploymentModalCtrl",s),c}),define("text!repository/resources/directives/cam-cockpit-resources.html",[],function(){return'<!-- # cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-show="state.$error" class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">Failure:</strong>\n  <span class="message">Loading the resources finished with failures. Try to refresh the page to try again.</span>\n</div>\n\n<div ng-show="state.$loaded && !state.$error">\n\n  <div ng-hide="resources.length"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    No resources available.\n  </div>\n\n  <div ng-show="resources.length"\n       tabindex="0"\n       ng-keydown="handleKeydown($event)">\n    <ol class="resources list-unstyled">\n      <li class="resource"\n          ng-repeat="(delta, resource) in resources"\n          ng-class="{active: currentResourceId === resource.id, clickable: true}"\n          ng-click="focus($event, resource)">\n        <div class="filepath">{{ truncateFilepath(resource._filepath) }}</div>\n        <a href>\n          {{ resource._filename }}\n        </a>\n      </li>\n    </ol>\n  </div>\n</div>\n<!-- / cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n'}),define("repository/resources/directives/cam-cockpit-resources",["angular","text!./cam-cockpit-resources.html"],function(e,t){"use strict";var n=e.element;return[function(){return{restrict:"A",scope:{repositoryData:"="},template:t,controller:["$scope","$location","$timeout","search",function(e,t,i,r){function o(e){for(var t=e.concat().sort(),n=t[0],i=t[t.length-1],r=n.length,o=0;r>o&&n.charAt(o)===i.charAt(o);)o++;return n.substring(0,o)}var a=e.repositoryData.newChild(e),s=function(e){r.updateSilently(e)};e.state=a.observe("resourceId",function(t){e.currentResourceId=t.resourceId}),e.sharedStart="",e.state=a.observe("resources",function(t){var n=[];e.resources=(t||[]).map(function(e){var t=(e.name||e.id).split("/");return e._filename=t.pop(),e._filepath=t.join("/"),n.push(e._filepath),e}),e.sharedStart=o(n)}),e.truncateFilepath=function(t){return t.slice(e.sharedStart.length)},e.focus=function(t,n){t&&t.preventDefault();var i=n.id;s(e.currentResourceId===i?{resource:i,resourceName:null,editMode:null}:{resource:i,resourceName:null,viewbox:null,editMode:null}),a.changed("resourceId")};var c=function(){for(var t=0;t<e.resources.length-1;t++)if(e.resources[t].id===e.currentResourceId)return e.focus(null,e.resources[t+1])},l=function(){for(var t=1;t<e.resources.length;t++)if(e.resources[t].id===e.currentResourceId)return e.focus(null,e.resources[t-1])};e.handleKeydown=function(e){40===e.keyCode?(e.preventDefault(),c(e)):38===e.keyCode&&(e.preventDefault(),l()),i(function(){var t=n(e.target).find("li.active")[0];t&&t.scrollIntoView(!1)})}}]}}]}),define("repository/resources/main",["angular","./directives/cam-cockpit-resources"],function(e,t){"use strict";var n=e.module("cam.cockpit.repository.resources",[]);return n.directive("camResources",t),n}),define("repository/resource/controllers/cam-cockpit-resource-details-ctrl",[],function(){"use strict";return["$scope","$q","Uri","camAPI","Views",function(e,t,n,i,r){var o=angular.isObject,a=function(e,t){return e&&t.test(e.toLowerCase())},s=e.resourceDetailsData=e.repositoryData.newChild(e),c=i.resource("deployment"),l=e.control={},u=/\.(bpmn\d*.xml|bpmn)$/,p=/\.(cmmn\d*.xml|cmmn)$/,d=/\.(dmn\d*.xml|dmn)$/,f=/\.(gif|jpg|jpeg|jpe|png|svg|tif|tiff)$/,h="cockpit.repository.resource.action",m=function(e){return o(e)?e.name:e},g=l.isBpmnResource=e.isBpmnResource=function(e){var t=m(e);return a(t,u)},v=l.isCmmnResource=e.isCmmnResource=function(e){var t=m(e);return a(t,p)},y=l.isDmnResource=e.isDmnResource=function(e){var t=m(e);return a(t,d)},b=l.isImageResource=e.isImageResource=function(e){var t=m(e);return a(t,f)},w=(l.isUnkownResource=e.isUnkownResource=function(e){return!(g(e)||v(e)||y(e)||b(e))},i.resource("process-definition")),x=i.resource("case-definition"),_=i.resource("decision-definition");l.downloadLink=e.downloadLink=function(e,t){return e&&t&&n.appUri("engine://engine/:engine/deployment/"+e.id+"/resources/"+t.id+"/data")};s.provide("binary",["resource","currentDeployment",function(e,n){var i=t.defer();return e&&n&&null!==n.id?b(e)?i.resolve(null):c.getResourceData(n.id,e.id,function(e,t){e?i.reject(e):i.resolve({data:t})}):i.resolve(null),i.promise}]),s.provide("definitions",["currentDeployment","resource",function(n,i){var r=t.defer();e.loadingState="LOADING";var o=null,a=!1;return n&&i?(g(i)?(a=!0,o=w):v(i)?o=x:y(i)&&(o=_),o?o.list({deploymentId:n.id,resourceName:i.name},function(t,n){return t?(e.loadingState="ERROR",e.textError=t.message||"Failed to load definitions.",r.reject(t)):void r.resolve(a?n.items:n)}):r.resolve([])):r.resolve([]),r.promise}]),s.observe("resource",function(t){e.resource=t}),s.observe("currentDeployment",function(t){e.deployment=t}),e.resourceVars={read:["control","deployment","resource","resourceDetailsData"]},e.resourceActions=r.getProviders({component:h})}]}),define("text!repository/resource/directives/cam-cockpit-resource-wrapper.html",[],function(){return'<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n<div ng-show="!resourceState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-show="resourceState.$loaded">\n\n  <div ng-if="!resource">\n    <div class="no-resource well">\n      <span class="glyphicon glyphicon-info-sign"></span>\n      Select a resource in the list.\n    </div>\n  </div>\n\n  <section ng-if="resource" class="resource">\n\n    <header class="row">\n      <div class="col-xs-12"\n           cam-resource-meta\n           resource-data="resourceData"\n           control="control">\n      </div>\n    </header>\n\n    <div class="section-content row">\n      <div class="col-xs-12"\n           cam-resource-content\n           resource-data="resourceData"\n           control="control">\n      </div>\n\n      <div ng-show="resourceDetailTabs.length"\n           class="col-xs-12 ctn-tabbed-content">\n\n        <ul class="nav nav-tabs">\n          <li ng-class="{ active: selectedResourceDetailTab == resourceDetailTab }"\n              ng-repeat="resourceDetailTab in resourceDetailTabs">\n            <a href\n               ng-click="selectResourceDetailTab(resourceDetailTab)">{{ resourceDetailTab.label }}</a>\n          </li>\n        </ul>\n\n        <div class="tab-content">\n          <view provider="selectedResourceDetailTab"\n                vars="resourceVars" />\n        </div>\n\n      </div><!-- / !!resourceDetailTabs -->\n\n    </div><!-- / .section-content -->\n\n  </section>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n'}),define("repository/resource/directives/cam-cockpit-resource-wrapper",["angular","text!./cam-cockpit-resource-wrapper.html"],function(e,t){"use strict";return[function(){return{restrict:"A",scope:{resourceDetailsData:"=",control:"=?"},template:t,controller:["$scope","$q","$location","camAPI","Views","Notifications","search",function(t,n,i,r,o,a,s){function c(e){var n=s().detailsTab;if(e&&e.length){if(n){var i=o.getProvider({component:f,id:n});if(i&&-1!=e.indexOf(i))return void(t.selectedResourceDetailTab=i)}s.updateSilently({detailsTab:null}),t.selectedResourceDetailTab=e[0]}}var l=function(e,n){if(n.message){var i=n.message.indexOf("<-");-1!==i&&(n.message=n.message.split("<-")[1].trim())}a.addError({status:e,message:n?n.message:"",exclusive:!0,scope:t})},u=function(e){return e&&-1===e.indexOf("does not exist")?"The deployment resource does not exist anymore":"Could not load deployment resource"},p=function(){var t=i.search()||{};delete t.resource,delete t.resourceName,i.search(e.copy(t)),i.replace()},d=(r.resource("deployment"),t.resourceData=t.resourceDetailsData.newChild(t)),f="cockpit.repository.resource.detail";d.observe("currentDeployment",function(e){t.deployment=e}),t.resourceState=d.observe(["resource","binary",function(e,n){t.resource=e}]),t.$watch("resourceState.$error",function(e){if(e){var t=u(e.message);l(t,e),p()}}),t.resourceVars={read:["control","deployment","resource","resourceData"]},t.resourceDetailTabs=o.getProviders({component:f}),t.selectedResourceDetailTab=t.resourceDetailTabs[0],t.selectResourceDetailTab=function(e){t.selectedResourceDetailTab=e,s.updateSilently({detailsTab:e.id})},c(t.resResourceDetailTabs),t.$on("$routeChanged",function(){c(t.resResourceDetailTabs)})}]}}]}),define("text!repository/resource/directives/cam-cockpit-resource-meta.html",[],function(){return'<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n<div class="filepath">{{ resource._filepath }}</div>\n<div class="table-row">\n  <h2 class="name">{{ resource._filename }}</h2>\n  <h3 class="version" ng-show="definitions.length > 0">Version: {{ definitions[0].version }}</h3>\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n'}),define("repository/resource/directives/cam-cockpit-resource-meta",["angular","text!./cam-cockpit-resource-meta.html"],function(e,t){"use strict";return[function(){return{scope:{resourceData:"=",control:"="},template:t,controller:["$scope",function(e){var t=e.resourceData.newChild(e);t.observe("resource",function(t){if(t){var n=(t.name||t.id).split("/");t._filename=n.pop(),t._filepath=n.join("/")}e.resource=t}),t.observe("definitions",function(t){e.definitions=t})}]}}]}),define("text!repository/resource/directives/cam-cockpit-resource-content.html",[],function(){return'<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n<div ng-if="binary || (resource && isImageResource(resource))"\n     class="resource-wrapper">\n\n  <div ng-if="isBpmnResource(resource)"\n       cam-widget-bpmn-viewer\n       diagram-data="binary">\n  </div>\n\n\n  <div ng-if="isDmnResource(resource)"\n       cam-widget-dmn-viewer\n       table-xml="binary">\n  </div>\n\n\n  <div ng-if="isCmmnResource(resource)"\n       class="cmmn-resource">\n    <div cam-source\n         name="resource.name"\n         source="binary">\n    </div>\n  </div>\n\n\n  <div ng-if="isImageResource(resource)"\n       class="image-resource">\n    <img ng-src="{{ imageLink(deployment, resource) }}">\n  </div>\n\n\n  <div ng-if="isUnkownResource(resource)"\n       class="unkown-resource">\n    <div cam-source\n         name="resource.name"\n         source="binary">\n    </div>\n  </div>\n\n  <div>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n'}),define("repository/resource/directives/cam-cockpit-resource-content",["angular","text!./cam-cockpit-resource-content.html"],function(e,t){"use strict";return[function(){return{scope:{resourceData:"=",control:"="},template:t,controller:["$scope",function(e){var t,n,i=e.resourceData.newChild(e);e.isBpmnResource=e.control.isBpmnResource,e.isCmmnResource=e.control.isCmmnResource,e.isDmnResource=e.control.isDmnResource,e.isImageResource=e.control.isImageResource,e.isUnkownResource=e.control.isUnkownResource,e.imageLink=e.control.downloadLink,i.observe("resource",function(n){n&&t&&n.id!==t.id&&(e.binary=null),t=e.resource=n}),i.observe("currentDeployment",function(t){n=e.deployment=t}),i.observe("binary",function(t){e.binary=(t||{}).data})}]}}]}),define("text!repository/resource/directives/cam-cockpit-source.html",[],function(){return"<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n<pre><code ng-class=\"'language-' + extension()\">{{ source }}</code></pre>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n"});var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=_self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=t.util.clone(e[r]));return i;case"Array":return e.map&&e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var r in n)i[r]=n[r];return i},insertBefore:function(e,n,i,r){r=r||t.languages;var o=r[e];if(2==arguments.length){i=arguments[1];for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);return o}var s={};for(var c in o)if(o.hasOwnProperty(c)){if(c==n)for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s[c]=o[c]}return t.languages.DFS(t.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=s)}),r[e]=s},DFS:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],i||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],n):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},plugins:{},highlightAll:function(e,n){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;i=r[o++];)t.highlightElement(i,e===!0,n)},highlightElement:function(n,i,r){for(var o,a,s=n;s&&!e.test(s.className);)s=s.parentNode;s&&(o=(s.className.match(e)||[,""])[1],a=t.languages[o]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+o,s=n.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var c=n.textContent,l={element:n,language:o,grammar:a,code:c};if(!c||!a)return void t.hooks.run("complete",l);if(t.hooks.run("before-highlight",l),i&&_self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){l.highlightedCode=e.data,t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r&&r.call(l.element),t.hooks.run("after-highlight",l),t.hooks.run("complete",l)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else l.highlightedCode=t.highlight(l.code,l.grammar,l.language),t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r&&r.call(n),t.hooks.run("after-highlight",l),t.hooks.run("complete",l)},highlight:function(e,i,r){var o=t.tokenize(e,i);return n.stringify(t.util.encode(o),r)},tokenize:function(e,n){var i=t.Token,r=[e],o=n.rest;if(o){for(var a in o)n[a]=o[a];delete n.rest}e:for(var a in n)if(n.hasOwnProperty(a)&&n[a]){var s=n[a];s="Array"===t.util.type(s)?s:[s];for(var c=0;c<s.length;++c){var l=s[c],u=l.inside,p=!!l.lookbehind,d=0,f=l.alias;l=l.pattern||l;for(var h=0;h<r.length;h++){var m=r[h];if(r.length>e.length)break e;if(!(m instanceof i)){l.lastIndex=0;var g=l.exec(m);if(g){p&&(d=g[1].length);var v=g.index-1+d,g=g[0].slice(d),y=g.length,b=v+y,w=m.slice(0,v+1),x=m.slice(b+1),_=[h,1];w&&_.push(w);var E=new i(a,u?t.tokenize(g,u):g,f);_.push(E),x&&_.push(x),Array.prototype.splice.apply(r,_)}}}}}return r},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var r,o=0;r=i[o++];)r(n)}}},n=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(n.stringify=function(e,i,r){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map(function(t){return n.stringify(t,i,e)}).join("");var o={type:e.type,content:n.stringify(e.content,i,r),tag:"span",classes:["token",e.type],attributes:{},language:i,parent:r};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}t.hooks.run("wrap",o);var s="";for(var c in o.attributes)s+=(s?" ":"")+c+'="'+(o.attributes[c]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var n=JSON.parse(e.data),i=n.language,r=n.code,o=n.immediateClose;_self.postMessage(t.highlight(r,t.languages[i],i)),o&&_self.close()},!1),_self.Prism):_self.Prism;var i=document.getElementsByTagName("script");return i=i[i.length-1],i&&(t.filename=i.src,document.addEventListener&&!i.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,Prism.languages.groovy=Prism.languages.extend("clike",{keyword:/\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,string:/("""|''')[\W\w]*?\1|("|'|\/)(?:\\?.)*?\2|(\$\/)(\$\/\$|[\W\w])*?\/\$/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?[\d]+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.{1,2}(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0}}),Prism.hooks.add("wrap",function(e){if("groovy"===e.language&&"string"===e.type){var t=e.content[0];if("'"!=t){var n=/([^\\])(\$(\{.*?\}|[\w\.]+))/;"$"===t&&(n=/([^\$])(\$(\{.*?\}|[\w\.]+))/),e.content=Prism.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push("/"===t?"regex":"gstring")}}}),Prism.languages.java=Prism.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),Prism.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),Prism.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),Prism.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),Prism.languages.markup&&(Prism.hooks.add("before-highlight",function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"}))}),Prism.hooks.add("before-insert",function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),Prism.hooks.add("after-highlight",function(e){if("php"===e.language){for(var t,n=0;t=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(n+1)+"}}}",Prism.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}}),Prism.hooks.add("wrap",function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),Prism.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:Prism.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},!function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(Prism),define("prismjs",function(){}),define("repository/resource/directives/cam-cockpit-source",["angular","text!./cam-cockpit-source.html","prismjs"],function(e,t){"use strict";return["$window",function(n){return{restrict:"A",scope:{name:"=",source:"="},template:t,link:function(t,i){var r=n.Prism,o={js:"javascript",html:"markup",xml:"markup",py:"python",rb:"ruby",bpmn:"markup",cmmn:"markup",dmn:"markup"},a=t.name;t.extension=function(){if(a){var e=(a.match(/\.(\w+)$/)||[,""])[1];return e=e&&e.toLowerCase(),o[e]||e}},t.$watch("source",function(t){if(t){var n=e.element("code",i);r.highlightElement(n[0])}})}}}]}),define("text!repository/resource/plugins/details/definitions/cam-cockpit-definitions-plugin.html",[],function(){return'<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="No definitions matched by current deployment resource."\n     text-error="{{ textError }}">\n  <table class="definitions cam-table">\n    <thead>\n      <tr>\n        <th class="name">Name</th>\n        <th class="key">Key</th>\n        <th ng-if="!isDmnResource(resource)"\n            class="instance-count">Instance Count</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="definition in definitions">\n        <td class="name">\n          <a ng-if="!isCmmnResource(resource)"\n             ng-href="{{ getDefinitionLink(definition, resource) }}">\n            {{ definition.name || definition.key || definition.id }}\n          </a>\n          <span ng-if="isCmmnResource(resource)">\n            {{ definition.name || definition.key || definition.id }}\n          </span>\n        </td>\n\n        <td class="key">\n          {{ definition.key }}\n        </td>\n\n        <td ng-if="!isDmnResource(resource)"\n            class="instance-count">\n          <span ng-if="!definition.instances.$loaded">\n            <span class="glyphicon glyphicon-refresh animate-spin"></span>&nbsp;Loading…\n          </span>\n          <span ng-if="definition.instances.$loaded">\n            {{ definition.instances.count }}\n          </span>\n          <span ng-if="definition.instances.$error">\n            Could not load instances count.\n          </span>\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n</div>\n';
}),define("repository/resource/plugins/details/definitions/cam-cockpit-definitions-plugin",["angular","text!./cam-cockpit-definitions-plugin.html"],function(e,t){"use strict";var n=["$scope","$q","camAPI",function(e,t,n){var i,r=e.resourceData.newChild(e),o=e.isBpmnResource=e.control.isBpmnResource,a=e.isCmmnResource=e.control.isCmmnResource,s=e.isDmnResource=e.control.isDmnResource,c=n.resource("process-instance"),l=n.resource("case-instance");r.observe("definitions",function(t){e.loadingState=t&&t.length?"LOADED":"EMPTY",e.definitions=t,t&&t.length&&!s(i)&&u(t)}),r.observe("resource",function(t){i=e.resource=t});var u=function(e){function t(e,t,n){e.instances={$loaded:!1},n.count(t,function(t,n){return t?e.instances.$error=!0:(e.instances.$loaded=!0,void(e.instances.count=n.count))})}for(var n,i=0;n=e[i];i++){var r=null,s=null;o(n.resource)?(r=c,s={processDefinitionId:n.id}):a(n.resource)&&(r=l,s={caseDefinitionId:n.id}),r&&t(n,s,r)}};e.getDefinitionLink=function(e,t){if(t){var n=null;return o(t)?n="process-definition":s(t)&&(n="decision-definition"),"#/"+n+"/"+e.id}}}],i=function(e){e.registerDefaultView("cockpit.repository.resource.detail",{id:"resource-details",label:"Definitions",template:t,controller:n,priority:1e3})};return i.$inject=["ViewsProvider"],i}),define("text!repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html",[],function(){return'<!-- # cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n<a class="download-resource"\n   ng-href="{{ downloadLink(deployment, resource) }}">\n  <span class="glyphicon glyphicon-download-alt"></span> Download\n</a>\n<!-- / cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n'}),define("repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin",["text!./cam-cockpit-resource-action-download-plugin.html"],function(e){"use strict";var t=["$scope",function(e){var t=e.resourceDetailsData.newChild(e);t.observe("resource",function(t){e.resource=t}),t.observe("currentDeployment",function(t){e.deployment=t}),e.downloadLink=e.control.downloadLink}],n=function(n){n.registerDefaultView("cockpit.repository.resource.action",{id:"download-resource",controller:t,template:e,priority:100})};return n.$inject=["ViewsProvider"],n}),define("repository/resource/main",["angular","./controllers/cam-cockpit-resource-details-ctrl","./directives/cam-cockpit-resource-wrapper","./directives/cam-cockpit-resource-meta","./directives/cam-cockpit-resource-content","./directives/cam-cockpit-source","./plugins/details/definitions/cam-cockpit-definitions-plugin","./plugins/actions/download/cam-cockpit-resource-action-download-plugin"],function(e,t,n,i,r,o,a,s){"use strict";var c=e.module("cam.cockpit.repository.resource",[]);return c.controller("camResourceDetailsCtrl",t),c.directive("camResourceWrapper",n),c.directive("camResourceMeta",i),c.directive("camResourceContent",r),c.directive("camSource",o),c.config(a),c.config(s),c}),define("repository/main",["angular","angular-data-depend","camunda-commons-ui","./config/routes","./controllers/cam-cockpit-repository-view-ctrl","./deployments/main","./resources/main","./resource/main"],function(e,t,n,i,r,o,a,s){"use strict";var c=["cam.commons","dataDepend","ngRoute",o.name,a.name,s.name],l=e.module("cam.cockpit.repository",c);return l.config(i),l.controller("camCockpitRepositoryViewCtrl",r),l}),define("repository",["repository/main"],function(e){return e}),define("text!directives/breadcrumbs.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/directives/breadcrumbs.html -->\n<ul class="breadcrumb">\n  <li>\n    <a href="#">Home</a>\n  </li>\n\n  <li ng-repeat="(index, crumb) in breadcrumbs"\n      ng-class="{ active: !!$last }"\n      data-index="{{ index }}">\n    <span class="divider">{{ crumb.divider || divider }}</span>\n\n    <span ng-if="!!crumb.href">\n      <a ng-if="!$last"\n         href="{{ getHref(crumb) }}">{{ crumb.label }}</a>\n\n      <span ng-if="!!$last">{{ crumb.label }}</span>\n    </span>\n\n    <span ng-if="!crumb.href">\n      <a ng-if="!!crumb.callback"\n         ng-click="crumb.callback(index, breadcrumbs)"\n         href>{{ crumb.label }}</a>\n\n      <span ng-if="!crumb.callback">{{ crumb.label }}</span>\n    </span>\n  </li>\n</ul>\n<!-- / CE - camunda-cockpit-ui/client/scripts/directives/breadcrumbs.html -->\n'}),define("directives/breadcrumbs",["angular","text!./breadcrumbs.html"],function(e,t){"use strict";return["$location","routeUtil",function(e,n){return{scope:{divider:"@"},restrict:"A",template:t,link:function(t){t.$on("page.breadcrumbs.changed",function(e,n){t.breadcrumbs=n}),t.getHref=function(t){return n.redirectTo(t.href,e.search(),t.keepSearchParams)}},controller:["$scope","page",function(e,t){e.breadcrumbs=t.breadcrumbsGet()}]}}]}),define("directives/numeric",[],function(){"use strict";var e=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=n.integer?/^-?[\d]+$/:/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,o=function(e){var t=r.test(e);return i.$setValidity("numeric",t),t?parseFloat(e,10):e};i.$parsers.push(o);var a=function(e){if(void 0!==e&&null!==e){var n=r.test(e);return i.$setValidity("numeric",n),n?parseFloat(e,10):(i.$pristine=!1,i.$dirty=!0,t.addClass("ng-dirty"),e)}};i.$formatters.push(a)}}};return e}),define("directives/date",["angular"],function(e){"use strict";return function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=/^(\d{2}|\d{4})(?:\-)([0]{1}\d{1}|[1]{1}[0-2]{1})(?:\-)([0-2]{1}\d{1}|[3]{1}[0-1]{1})T(?:\s)?([0-1]{1}\d{1}|[2]{1}[0-3]{1}):([0-5]{1}\d{1}):([0-5]{1}\d{1})?$/,o=function(e){var t=r.test(e);return i.$setValidity("date",t),e};i.$parsers.push(o);var a=function(e){if(e){var n=r.test(e);return i.$setValidity("date",n),n||(i.$pristine=!1,i.$dirty=!0,t.addClass("ng-dirty")),e}};i.$formatters.push(a)}}}}),define("text!directives/processDiagram.html",[],function(){return"<div cam-widget-bpmn-viewer\n  diagram-data='diagramData'\n  control='control'\n  on-load='onLoad()'\n  on-click='onClick(element, $event)'\n  on-mouse-enter='onMouseEnter(element, $event)'\n  on-mouse-leave='onMouseLeave(element, $event)'\n  style='height: 100%'>\n</div>\n"}),define("directives/processDiagram",["angular","jquery","text!./processDiagram.html"],function(e,t,n){"use strict";var i=["$scope","$compile","Views","$timeout",function(t,n,i,r){function o(t){e.forEach(t,function(e){a(e)})}function a(i){var r=t.control.getElement(i.id);if(r){var o=t.$new();o.bpmnElement=i;var a=e.element(h);a.css({width:r.width,height:r.height}),n(a)(o);try{t.control.createBadge(i.id,{html:a,position:{top:0,left:0}})}catch(s){}}}function s(){t.actionProviders=i.getProviders({component:t.actionProviderComponent});var r=e.element(m),o=t.$new();n(r)(o),t.control.addAction({html:r})}function c(n){t.control.isLoaded()&&(d&&e.forEach(d,function(e){p[e]&&t.control.clearHighlight(e)}),n&&e.forEach(n,function(e){p[e]&&t.control.highlight(e)})),t.$root.$emit("instance-diagram-selection-change",n),d=n}function l(e){t.control.isLoaded()&&e&&u(e),f=e}function u(e){p[e]&&t.control.scrollToElement(e)}t.vars={read:["processData","bpmnElement","pageData","viewer"]},t.overlayProviders=i.getProviders({component:t.overlayProviderComponent});var p,d,f,h='<div class="bpmn-overlay"><div view ng-repeat="overlayProvider in overlayProviders" provider="overlayProvider" vars="vars"></div></div>',m='<ul><li view ng-repeat="actionProvider in actionProviders" provider="actionProvider" vars="vars"></li></ul>';t.$on("$destroy",function(){t.processDiagram=null,t.overlayProviders=null}),t.control={},t.$watch("processDiagram",function(e){e&&e.$loaded!==!1&&(p=e.bpmnElements,t.diagramData=e.bpmnDefinition)}),t.onLoad=function(){t.viewer=t.control.getViewer(),o(t.processDiagram.bpmnElements),t.actionProviderComponent&&s(),c(d)};var g=function(e){return e.isSelectable||t.selectAll&&e.$instanceOf("bpmn:FlowNode")};t.onClick=function(e,n){p[e.businessObject.id]&&g(p[e.businessObject.id])?t.onElementClick({id:e.businessObject.id,$event:n}):t.onElementClick({id:null,$event:n})},t.onMouseEnter=function(e,n){p[e.businessObject.id]&&g(p[e.businessObject.id])&&(t.control.getViewer().get("canvas").addMarker(e.businessObject.id,"selectable"),t.control.highlight(e.businessObject.id))},t.onMouseLeave=function(e,n){!p[e.businessObject.id]||!g(p[e.businessObject.id])||d&&-1!==d.indexOf(e.businessObject.id)||t.control.clearHighlight(e.businessObject.id)},t.$watch("selection.activityIds",function(e,t){c(e)}),t.$watch("selection.scrollToBpmnElement",function(e){e&&l(e)})}],r=function(e,t){return{restrict:"EAC",scope:{processDiagram:"=",processDiagramOverlay:"=",onElementClick:"&",selection:"=",processData:"=",pageData:"=",overlayProviderComponent:"@",actionProviderComponent:"@",selectAll:"&"},controller:i,template:n,link:function(e){e.selectAll=e.$eval(e.selectAll)}}};return r.$inject=["$compile","Views"],r}),define("text!directives/decisionTable.html",[],function(){return"<div cam-widget-dmn-viewer\n  table-xml='decisionTable'\n  control='control'\n  on-load='onLoad()'\n  style='height: 100%; margin: 10px; overflow-y: auto;'>\n</div>\n"}),define("directives/decisionTable",["text!./decisionTable.html"],function(e){"use strict";var t=["$scope",function(e){e.control={}}],n=function(n){return{restrict:"EAC",scope:{decisionTable:"=",control:"=?",onLoad:"&"},controller:t,template:e,link:function(e){}}};return n.$inject=["$compile"],n}),define("text!directives/processDiagramPreview.html",[],function(){return"<span ng-hide=\"diagramXML\">\n  <i class=\"glyphicon glyphicon-loading\"></i> loading process diagram...\n</span>\n<div ng-show=\"diagramXML\">\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramXML'\n    control='control'\n    disable-navigation='true'>\n  </div>\n</div>\n"}),define("directives/processDiagramPreview",["text!./processDiagramPreview.html","angular"],function(e,t){"use strict";return["ProcessDefinitionResource","debounce",function(n,i){return{restrict:"EAC",template:e,controller:["$scope",function(e){e.control={}}],link:function(e,r,o){e.$watch(o.processDefinitionId,function(o){if(o){var a="processDiagram_"+o.replace(/[.|:]/g,"_");r.attr("id",a),n.getBpmn20Xml({id:o}).$promise.then(function(n){e.diagramXML=n.bpmn20Xml,r.find("[cam-widget-bpmn-viewer]").css({width:parseInt(r.parent().width(),10),height:r.parent().height()});var o=i(function(){e.control.resetZoom(),e.control.resetZoom()},500);t.element(window).on("resize",function(){r.find("[cam-widget-bpmn-viewer]").css({width:parseInt(r.parent().width(),10),height:r.parent().height()}),o()})})}})}}}]}),define("text!directives/activity-instance-tree.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n<div class="tree-node" >\n\n  <div id="{{ node.id }}"\n       ng-class="{ \'state-running\': !node.endTime, \'state-completed\' : node.endTime && !node.canceled, \'state-canceled\': node.endTime && node.canceled }"\n       class="tree-node-group">\n\n    <span class="tree-node-label"\n          ng-class="{ \'selected\' : node.isSelected, \'has-children\': node.children.length }">\n\n      <button class="btn btn-link btn-control-link btn-toggle"\n              ng-if="node.children.length"\n              ng-click="toggleOpen()">\n        <span class="glyphicon"\n           ng-class="{ \'glyphicon-chevron-right\' : !node.isOpen, \'glyphicon-chevron-down\' : node.isOpen }"></span>\n      </button>\n\n      <button class="btn btn-link btn-control-link btn-control remove"\n              ng-click="deselect($event)">\n        <span class="glyphicon glyphicon-remove"></span>\n      </button>\n\n      <span class="{{ symbolIconName(node.activityType) }}"\n            tooltip="{{ node.activityType }}"></span>\n\n      <a ng-click="select($event)"\n         tooltip-placement="right"\n         tooltip="{{ node.name }}">\n        {{ node.name }}\n      </a>\n\n    </span>\n\n    <!-- running -->\n    <span ng-if="!node.endTime"\n          class="tree-node-addon activity-instance-running"\n          tooltip="Running Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-adjust"></span>\n    </span>\n\n    <!-- completed -->\n    <span ng-if="node.endTime && !node.canceled"\n          class="tree-node-addon activity-instance-completed"\n          tooltip="Completed Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ok-circle"></span>\n    </span>\n\n    <!-- canceled -->\n    <span ng-if="node.endTime && node.canceled"\n          class="tree-node-addon activity-instance-canceled"\n          tooltip="Canceled Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ban-circle"></span>\n    </span>\n\n  </div>\n\n  <ul class="list-unstyled" ng-show="node.isOpen" ng-if="node.children.length">\n    <li ng-repeat="child in node.children">\n      <div activity-instance-tree="child"\n           selection="selection"\n           on-element-click="propogateSelection(id, activityId, $event)"\n           order-children-by="orderChildrenBy()">\n      </div>\n    </li>\n  </ul>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n'}),define("directives/activityInstanceTree",["angular","require","text!./activity-instance-tree.html"],function(e,t,n){"use strict";function i(e){return(e||"").replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var r={"start-event":"start-event-none","error-start-event":"start-event-error","cancel-end-event":"end-event-cancel","error-end-event":"end-event-error","none-end-event":"end-event-none","parallel-gateway":"gateway-parallel","exclusive-gateway":"gateway-xor","intermediate-compensation-throw-event":"intermediate-event-throw-compensation"},o=["$compile","$http","$filter",function(t,o,a){return{restrict:"EAC",scope:{node:"=activityInstanceTree",onElementClick:"&",selection:"=",quickFilters:"=",orderChildrenBy:"&"},link:function(o,s){function c(e){e(n)}function l(e,t){var n=o.node,i=e.name;n&&(i===h||i===f)&&n.id===t.parentActivityInstanceId&&(n.isOpen=!0,n.parentActivityInstanceId&&n.id!==n.parentActivityInstanceId&&u(h,n))}function u(e,t){var n=t.id,i=t.parentActivityInstanceId;o.$emit(e,{id:n,parentActivityInstanceId:i})}function p(n){c(function(i){n.isOpen=n.endTime?!1:!0;var r=e.element(i);t(r)(o),d.replaceWith(r),d=r})}o.symbolIconName=function(e){var t=i(e);return t=r[t]?r[t]:t,"icon-"+t};var d=s,f="node.selected",h="node.opened",m=o.orderChildrenBy();o.$watch("node",function(e){if(e&&e.$loaded!==!1){var t=(e.childActivityInstances||[]).concat(e.childTransitionInstances||[]);m&&(t=a("orderBy")(t,m)),e.children=t,p(e)}}),o.$on(h,function(e,t){l(e,t)}),o.$on(f,function(e,t){l(e,t)}),o.$watch("selection.activityInstanceIds",function(e,t){var n=o.node;n&&(t&&-1!=t.indexOf(n.id)&&(n.isSelected=!1),e&&-1!=e.indexOf(n.id)&&(n.isSelected=!0,n.parentActivityInstanceId&&u(f,n)))}),o.deselect=function(e){e.ctrlKey=!0,o.select(e)},o.select=function(e){var t=o.node;e.stopPropagation(),o.$emit("instance-tree-selection-change"),o.onElementClick({id:t.id,activityId:t.activityId||t.targetActivityId,$event:e})},o.propogateSelection=function(e,t,n){o.onElementClick({id:e,activityId:t,$event:n})},o.toggleOpen=function(){var e=o.node;e.isOpen=!e.isOpen}}}}];return o}),function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),define("jquery-ui-core",["jquery"],function(){}),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,a,s,c={},l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?void(c[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(c[t]=i)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},c,{constructor:a,namespace:l,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,c=a.length;c>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(e.isPlainObject(o)?n[r]=e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):n[r]=o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,c=i.call(arguments,1),l=this;return a=!s&&c.length?e.widget.extend.apply(null,[a].concat(c)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,c),i!==r&&i!==t?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),1===arguments.length)return o[n]===t?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var c=i.match(/^(\w+)\s*(.*)$/),l=c[1]+o.eventNamespace,u=c[2];u?r.delegate(u,l,s):n.bind(l,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),define("jquery-ui-widget",["jquery-ui-core"],function(){}),function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),define("jquery-ui-mouse",["jquery-ui-widget"],function(){}),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),
e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],void(i&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,r,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=t.pageX,l=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,c=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,o=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,function(){var o=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,r,o,a,s,c,l,u,p,d,f=e(this).data("ui-draggable"),h=f.options,m=h.snapTolerance,g=n.offset.left,v=g+f.helperProportions.width,y=n.offset.top,b=y+f.helperProportions.height;for(p=f.snapElements.length-1;p>=0;p--)s=f.snapElements[p].left,c=s+f.snapElements[p].width,l=f.snapElements[p].top,u=l+f.snapElements[p].height,s-m>v||g>c+m||l-m>b||y>u+m||!e.contains(f.snapElements[p].item.ownerDocument,f.snapElements[p].item)?(f.snapElements[p].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[p].item})),f.snapElements[p].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(l-b)<=m,r=Math.abs(u-y)<=m,o=Math.abs(s-v)<=m,a=Math.abs(c-g)<=m,i&&(n.position.top=f._convertPositionTo("relative",{top:l-f.helperProportions.height,left:0}).top-f.margins.top),r&&(n.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s-f.helperProportions.width}).left-f.margins.left),a&&(n.position.left=f._convertPositionTo("relative",{top:0,left:c}).left-f.margins.left)),d=i||r||o||a,"outer"!==h.snapMode&&(i=Math.abs(l-y)<=m,r=Math.abs(u-b)<=m,o=Math.abs(s-g)<=m,a=Math.abs(c-v)<=m,i&&(n.position.top=f._convertPositionTo("relative",{top:l,left:0}).top-f.margins.top),r&&(n.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s}).left-f.margins.left),a&&(n.position.left=f._convertPositionTo("relative",{top:0,left:c-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[p].snapping&&(i||r||o||a||d)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[p].item})),f.snapElements[p].snapping=i||r||o||a||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),define("jquery-ui-draggable",["jquery-ui-widget","jquery-ui-mouse"],function(){}),define("directives/sidebarContainer",["jquery","jquery-ui-draggable"],function(e){"use strict";return function(){return{restrict:"CA",link:function(t,n,i){function r(e){e?(m.hide(),h.css("display","block")):(h.hide(),m.css("display","block")),localStorage&&localStorage.setItem("ctnCollapsableParent:collapsed:"+s,e?"yes":"no")}function o(){function n(e){var t={};return t[l]=e,t}function i(e){var t={};return t[g]=e,t}function o(){var e=c[g](),t=c.position();"left"===l||"top"===l?f.css(v,e):f.css(v,t[v])}var g=u?"width":"height",v=u?"left":"top",y=u?"x":"y";f.addClass(u?"vertical":"horizontal");var b=c[g]();if(localStorage){var w=localStorage.getItem("ctnCollapsableParent:size:"+s);b=null!==w?w:b}"yes"===p?(c.css(g,0),d.css(l,"6px")):(c.css(g,b),d.css(l,b+"px")),e(f).draggable({axis:y,containment:"parent"}).on("drag",function(){var e=f.position(),t=e[l];"right"===l&&(t=a.width()-e.left),"bottom"===l&&(t=a.height()-e.top),r(10>t),c.css(g,t),d.css(l,t+6+"px"),localStorage&&localStorage.setItem("ctnCollapsableParent:size:"+s,t)}).on("dragstop",function(e){t.$broadcast("resize",[e])}),m.click(function(){r(!0),f.animate(n(0)),c.animate(i(0)),d.animate(n(0))}),h.click(function(){r(!1),f.animate(n(b)),c.animate(i(b)),d.animate(n(b))}),e(window).on("resize",o),t.$on("$destroy",function(){e(window).off("resize",o)}),o()}var a=e(n),s=i.ctnCollapsableParent,c=e("[ctn-collapsable]",a).eq(0),l=c.attr("ctn-collapsable")||"left",u="left"===l||"right"===l,p=localStorage?localStorage.getItem("ctnCollapsableParent:collapsed:"+s):"no",d=c["left"===l||"top"===l?"next":"prev"](),f=e('<div class="resize-handle"></div>').appendTo(a),h=d.children(".show-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-chevron-right"></i>').attr("title","Show sidebar"),m=c.children(".hide-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-chevron-left"></i>').attr("title","Hide sidebar");r("yes"===p),o()}}}}),define("directives/stateCircle",[],function(){"use strict";return function(){return{restrict:"EAC",link:function(e,t,n){function i(){var t=e.$eval(n.incidents),i=e.$eval(n.incidentsForTypes)||[];if(t&&t.length>0){if(0===i.length)return void o();for(var a=0;a<t.length;a++){var s=t[a];if(-1!=s.incidentType.indexOf(i)&&s.incidentCount>0)return void o()}}r()}function r(){t.removeClass("circle-red").addClass("circle-green")}function o(){t.removeClass("circle-green").addClass("circle-red")}t.addClass("circle"),e.$watch(n.incidents,function(){i()})}}}}),define("text!directives/variable.html",[],function(){return'<div>\n  <!-- # CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n\n  <div ng-if="isBoolean(variable)">\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="true"\n             type="radio"\n             name="booleanValue">\n       true\n    </label>\n\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="false"\n             type="radio"\n             name="booleanValue">\n       false\n    </label>\n  </div>\n\n  <input ng-if="isInteger(variable) || isShort(variable) || isLong(variable)"\n         class="form-control"\n         name="editIntegerValue"\n         type="text"\n         numeric\n         integer="true"\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <input ng-if="isDouble(variable) || isFloat(variable)"\n         class="form-control"\n         name="editFloatValue"\n         type="text"\n         numeric\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <input ng-if="isDate(variable)"\n         class="form-control"\n         date\n         name="editDateValue"\n         ng-model="variable.value"\n         type="text"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <textarea ng-if="isString(variable)"\n            rows="5"\n            ng-model="variable.value"\n            class="form-control variable-type-string"\n            ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n            autofocus="autofocus"\n            required></textarea>\n\n  <div ng-if="isObject(variable)">\n      <label class="control-label"\n             for="objectTypeName">Object type name*</label>\n        <input id="objectTypeName"\n               name="objectTypeName"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.objectTypeName"\n               autofocus\n               required />\n      <label class="control-label"\n             for="serializationDataFormat">Serialization data format*</label>\n        <input id="serializationDataFormat"\n               name="serializationDataFormat"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.serializationDataFormat"\n               required />\n      <label class="control-label"\n             for="serializedValue">Serialized value</label>\n        <textarea rows="5"\n                  ng-model="variable.value"\n                  class="form-control"\n                  ></textarea>\n  </div>\n  <!-- / CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n</div>\n'}),define("directives/variable",["angular","text!./variable.html"],function(e,t){"use strict";var n=["$compile",function(e){return{restrict:"EAC",scope:{variable:"="},replace:!0,template:t,link:function(e,t,n){var i,r=void 0!==t.attr("inline-edit"),o=!0;e.autofocus=!(void 0===t.attr("autofocus"));e.isBoolean=function(e){return"boolean"===e.type.toLowerCase()},e.isInteger=function(e){return"integer"===e.type.toLowerCase()},e.isShort=function(e){return"short"===e.type.toLowerCase()},e.isLong=function(e){return"long"===e.type.toLowerCase()},e.isDouble=function(e){return"double"===e.type.toLowerCase()},e.isFloat=function(e){return"float"===e.type.toLowerCase()},e.isString=function(e){return"string"===e.type.toLowerCase()},e.isDate=function(e){return"date"===e.type.toLowerCase()},e.isNull=function(e){return"null"===e.type.toLowerCase()},e.isObject=function(e){return"object"===e.type.toLowerCase()};e.isInPlaceEdit=function(){return r},e.$watch("variable.type",function(t,n){if(n!==t){if("boolean"===t.toLowerCase())return i=e.variable.value,void(e.variable.value=o);if("boolean"===n.toLowerCase())return o=e.variable.value,void(e.variable.value=i);"null"===t.toLowerCase()&&(e.variable.value=null),"object"===t.toLowerCase()&&(e.variable.valueInfo=e.variable.valueInfo||{})}})}}}];return n}),define("directives/focus",["angular"],function(e){"use strict";var t=["$compile",function(e){return{restrict:"A",link:function(e,t,n){var i=n.focus;i&&t.focus()}}}];return t}),define("directives/viewPills",[],function(){"use strict";return[function(){var e=["$scope","Views","$location","routeUtil",function(e,t,n,i){var r=t.getProviders({component:e.id});e.providers=r;var o=e.isActive=function(e){return-1!=n.path().indexOf("/"+e.id)};e.getUrl=function(e){var t=e.id,r=n.path(),a=n.search(),s=o(e)?!0:e.keepSearchParams;return"#"+i.replaceLastPathFragment(t,r,a,s)}}];return{restrict:"EAC",scope:{id:"@"},template:'<ul class="nav nav-pills">  <li ng-repeat="provider in providers" ng-class="{ active: isActive(provider) }" class="{{ provider.id }}">    <a ng-href="{{ getUrl(provider) }}">{{ provider.label }}</a>  </li></ul>',replace:!0,controller:e}}]}),define("directives/selectActivity",[],function(){"use strict";return function(){return{link:function(e,t){var n=e.processData,i=t.attr("cam-select-activity");if(!n)throw new Error("No processData defined in scope");if(!i)throw new Error("No activity id query given in @cam-select-activity");t.on("click",function(t){t.preventDefault(),e.$apply(function(){n.set("filter",{activityIds:[e.$eval(i)]})})})}}}}),define("directives/selectActivityInstance",[],function(){"use strict";return function(){return{link:function(e,t){var n=e.processData,i=t.attr("cam-select-activity-instance");if(!n)throw new Error("No processData defined in scope");if(!i)throw new Error("No activity instance id query given in @cam-select-activity");t.on("click",function(t){t.preventDefault(),e.$apply(function(){n.set("filter",{activityInstanceIds:[e.$eval(i)]})})})}}}}),define("directives/processVariable",[],function(){"use strict";return["Variables",function(e){return{require:"ngModel",link:function(t,n,i,r){function o(t){var n;try{n=e.parse(t)}catch(i){}return r.$setValidity("processVariableFilter",!!n),n}r.$parsers.push(o),r.$formatters.push(e.toString)}}}]}),define("directives/dynamicName",["angular"],function(e){"use strict";return["$interpolate","$compile",function(e,t){return{restrict:"A",priority:9999,terminal:!0,link:function(n,i,r){i.attr("name",e(r.camDynamicName)(n)),t(i,null,9999)(n)}}}]}),define("text!directives/quick-filter.html",[],function(){return'<!-- # CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n<form name="quickFilters"\n      class="quick-filters">\n  <div class="quick-filter name-filter"\n       ng-if="showNameFilter">\n    <label class="input-group">\n      <input ng-keyup="search()"\n             ng-model="name"\n             name="name"\n             type="text"\n             class="form-control" />\n      <span class="input-group-addon"\n            tooltip="Click here to clear the field value.">\n        <span class="glyphicon glyphicon-search"\n              ng-click="clearName()"></span>\n      </span>\n    </label>\n    <button class="btn btn-sm btn-link btn-control-link"\n            type="button"\n            tooltip="Filters activity instances that have the entered name.">\n      <span class="glyphicon glyphicon-question-sign"></span>\n    </button>\n  </div>\n\n  <div class="quick-filter state-filter"\n       ng-if="showStateFilter">\n    <span class="name">State</span>\n\n    <ul class="list-inline">\n      <li>\n        <label class="btn btn-default btn-xs running"\n               tooltip="Running Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-adjust"></span>\n          <input ng-change="search()"\n                 ng-model="running"\n                 name="running"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs completed"\n               tooltip="Completed Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ok-circle"></span>\n          <input ng-change="search()"\n                 ng-model="completed"\n                 name="completed"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs canceled"\n               tooltip="Canceled Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n          <input ng-change="search()"\n                 ng-model="canceled"\n                 name="canceled"\n                 type="checkbox" />\n        </label>\n      </li>\n    </ul>\n  </div>\n</form>\n<!-- / CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n'}),define("directives/quickFilter",["jquery","text!./quick-filter.html"],function(e,t){"use strict";return function(){function n(t,n,i){if(i.find(".selected").length)return!0;if((t.canceled||t.running||t.completed)&&(!t.canceled&&i.hasClass("state-canceled")||!t.running&&i.hasClass("state-running")||!t.completed&&i.hasClass("state-completed")))return!1;if(!n)return!0;var r=new RegExp(n,"i");return r.test(e.trim(i.text()))}return{scope:{holderSelector:"@",labelSelector:"@",itemSelector:"@"},restrict:"A",template:t,link:function(t,i,r){function o(){setTimeout(t.search,200)}if(!t.holderSelector)throw new Error("A holder-selector attribute must be specified");if(!t.labelSelector)throw new Error("A label-selector attribute must be specified");if(!t.itemSelector)throw new Error("A item-selector attribute must be specified");t.$root.$on("instance-tree-selection-change",o),t.$root.$on("instance-diagram-selection-change",o);var a=e(t.holderSelector);t.showNameFilter="undefined"!=typeof r.nameFilter,t.showStateFilter="undefined"!=typeof r.stateFilter,t.search=function(){t.quickFilters&&t.quickFilters.running&&t.quickFilters.running.$viewValue&&t.quickFilters.canceled&&t.quickFilters.canceled.$viewValue&&t.quickFilters.completed&&t.quickFilters.completed.$viewValue&&(t.quickFilters.running.$setViewValue(!1),t.quickFilters.running.$render(),t.quickFilters.canceled.$setViewValue(!1),t.quickFilters.canceled.$render(),t.quickFilters.completed.$setViewValue(!1),t.quickFilters.completed.$render());var i=t.showNameFilter&&t.quickFilters.name?e.trim(t.quickFilters.name.$viewValue):"",r={running:!!t.showStateFilter&&!!t.quickFilters.running&&!!t.quickFilters.running.$viewValue,canceled:!!t.showStateFilter&&!!t.quickFilters.canceled&&!!t.quickFilters.canceled.$viewValue,completed:!!t.showStateFilter&&!!t.quickFilters.completed&&!!t.quickFilters.completed.$viewValue};e(t.itemSelector,a).each(function(){var t=e(this),o=n(r,i,t);t[o?"show":"hide"]()})},t.clearName=function(){t.quickFilters.name.$setViewValue(""),t.quickFilters.name.$render(),t.search()}}}}}),define("directives/main",["angular","./breadcrumbs","./numeric","./date","./processDiagram","./decisionTable","./processDiagramPreview","./activityInstanceTree","./sidebarContainer","./stateCircle","./variable","./focus","./viewPills","./selectActivity","./selectActivityInstance","./processVariable","./dynamicName","./quickFilter"],function(e,t,n,i,r,o,a,s,c,l,u,p,d,f,h,m,g,v){"use strict";var y=e.module("cam.cockpit.directives",[]);return y.directive("camBreadcrumbsPanel",t),y.directive("numeric",n),y.directive("date",i),y.directive("processDiagram",r),y.directive("decisionTable",o),y.directive("processDiagramPreview",a),y.directive("activityInstanceTree",s),y.directive("ctnCollapsableParent",c),y.directive("stateCircle",l),y.directive("variable",u),y.directive("focus",p),y.directive("viewPills",d),y.directive("camSelectActivity",f),y.directive("camSelectActivityInstance",h),y.directive("processVariable",m),y.directive("camDynamicName",g),y.directive("camQuickFilter",v),y}),define("directives",["directives/main"],function(e){return e}),define("filters/shorten",[],function(){"use strict";var e=function(){return function(e,t){return e.length>t?e.substring(0,t)+"...":e}};return e}),define("filters/abbreviateNumber",[],function(){var e=function(){function e(e,t){t=Math.pow(10,t);for(var n=["k","m","b","t"],i=n.length-1;i>=0;i--){var r=Math.pow(10,3*(i+1));if(e>=r)return e=Math.round(e*t/r)/t,1e3==e&&i<n.length-1&&(e=1,i++),e+=n[i]}return e}return function(t,n){return t?950>t?t:(n||(n=1),e(t,n)):void 0}};return e}),define("filters/duration",[],function(){"use strict";var e=function(){function e(e,t,n){if(e){var i=[];i.push(e),i.push(1===e?t:t+"s"),n.push(i.join(" "))}}return function(t){if(t){var n=t/1e3,i=Math.floor(n%60);n/=60;var r=Math.floor(n%60);n/=60;var o=Math.floor(n%24);n/=24;var a=Math.floor(n),s=[];return e(a,"day",s),e(o,"hour",s),e(r,"minute",s),e(i,"second",s),s.join(", ")}}};return e}),define("filters/main",["angular","./shorten","./abbreviateNumber","./duration"],function(e,t,n,i){"use strict";var r=e.module("cam.cockpit.filters",[]);return r.filter("shorten",t),r.filter("abbreviateNumber",n),r.filter("duration",i),r}),define("filters",["filters/main"],function(e){return e}),define("text!pages/dashboard.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class="ctn-view">\n\n  <ul class="dashboard-menu">\n    <li ng-repeat="dashboardProvider in dashboardProviders">\n      <a ng-click="scrollToPlugin(dashboardProvider)">{{ dashboardProvider.dashboardMenuLabel }}</a>\n    </li>\n  </ul>\n\n\n  <div ng-repeat="dashboardProvider in dashboardProviders"\n       class="dashboard-view"\n       data-plugin-id="{{ dashboardProvider.id }}">\n    <view vars="dashboardVars"\n          provider="dashboardProvider"></view>\n  </div>\n\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n'}),define("pages/dashboard",["angular","text!./dashboard.html"],function(e,t){"use strict";var n=e.element,i=["$scope","$rootScope","Views","Data","dataDepend","page",function(e,t,i,r,o,a){
var s=e.processData=o.create(e);e.dashboardVars={read:["processData"]},e.dashboardProviders=i.getProviders({component:"cockpit.dashboard"}),e.scrollToPlugin=function(e){var t=n('[data-plugin-id="'+e.id+'"]');t[0]&&t[0].scrollIntoView()},r.instantiateProviders("cockpit.dashboard.data",{$scope:e,processData:s});for(var c=i.getProviders({component:"cockpit.dashboard"}),l={$scope:e,processData:s},u=0;u<c.length;u++)"function"==typeof c[u].initialize&&c[u].initialize(l);t.showBreadcrumbs=!1,a.breadcrumbsClear(),a.titleSet(["Camunda Cockpit","Dashboard"].join(" | "))}],r=["$routeProvider",function(e){e.when("/dashboard",{template:t,controller:i,authentication:"required",reloadOnSearch:!1})}];return r}),define("cockpit/util/routeUtil",[],function(){"use strict";var e={};return e.redirectToRuntime=function(t,n,i){var r=n+"/runtime";return e.redirectTo(r,i,!0)},e.replaceLastPathFragment=function(t,n,i,r){var o=n.replace(/[^\/]*$/,t);return e.redirectTo(o,i,r)},e.redirectTo=function(e,t,n){var i,r=[];if(t&&n){var o="[object Array]"===Object.prototype.toString.call(n);for(i in t)o&&-1===n.indexOf(i)||r.push(i+"="+encodeURIComponent(t[i]))}return e+(r.length?"?"+r.join("&"):"")},e}),define("text!pages/process-definition.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n<div class="ctn-fixed-view">\n\n  <div class="ctn-header">\n    <h1>\n      <span class="process-name-prefix">\n        <span>Process</span>\n        <span>definition</span>\n      </span>\n\n      {{ processDefinition.name || processDefinition.key }}\n\n      <span class="badge badge-warning badge-suspended"\n            ng-show="processDefinition.suspended"\n            tooltip="Currently suspended"\n            tooltip-placement="top">\n        <span class="glyphicon glyphicon-pause white"></span>\n      </span>\n    </h1>\n\n    <div class="view-pills" id="cockpit.processDefinition.view"></div>\n  </div>\n\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="actionProvider in processDefinitionActions">\n        <view provider="actionProvider"\n              vars="processDefinitionVars" />\n      </span>\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left">\n\n      <div class="definition-details">\n        <div class="key">\n          <span class="name">\n            Key\n          </span>\n          {{ processDefinition.key }}\n        </div>\n      </div>\n\n      <div class="filters"\n           ng-controller="ProcessDefinitionFilterController">\n        <div class="version-filter filter">\n          <span class="name">\n            Version\n          </span>\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="btn-group dropdown"\n               ng-if="instanceStatistics.$loaded && filterData.allDefinitions.length > 1">\n            <button class="btn btn-default dropdown-toggle"\n                    data-toggle="dropdown">\n              {{ processDefinition.version }} <span class="caret"></span>\n            </button>\n\n            <ul class="dropdown-menu">\n              <li ng-repeat="definition in filterData.allDefinitions">\n                <a ng-href="#/process-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if="instanceStatistics.$loaded && filterData.allDefinitions.length < 2">\n            {{ filterData.allDefinitions.length }}\n          </span>\n        </div>\n\n\n        <div class="process-instances">\n          <label>Running Instances</label>\n          <ul ng-if="instanceStatistics.$loaded">\n            <li>\n              of the selected version:\n              <label>{{ instanceStatistics.current.count }}</label>\n            </li>\n\n            <li>\n              of all versions:\n              <label>{{ instanceStatistics.all.count }}</label>\n            </li>\n          </ul>\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n        </div>\n\n\n        <h5>\n          Filter\n          <div class="btn-group btn-control dropdown">\n            <button class="btn btn-link dropdown-toggle"\n                    data-toggle="dropdown">\n              <span class="glyphicon glyphicon-plus-sign"></span>\n            </button>\n\n            <ul class="dropdown-menu">\n              <li>\n                <a href\n                   ng-click="addVariableFilter()">\n                  by variable\n                </a>\n              </li>\n              <li ng-hide="filterData.businessKey">\n                <a href\n                   ng-click="addBusinessKeyFilter()">\n                  by business key\n                </a>\n              </li>\n              <li ng-hide="filterData.start.length">\n                <a href\n                   ng-click="addStartDateFilter()">\n                  by start date\n                </a>\n              </li>\n            </ul>\n          </div>\n        </h5>\n\n\n        <form name="filterForm"\n              novalidate\n              ng-submit="filterChanged()">\n          <ul class="list-unstyled">\n            <li class="parent-filter filter" ng-if="filterData.parent">\n              <div class="name">\n                Parent\n              </div>\n\n              <div class="search search-text">\n\n                <button class="btn btn-link btn-xs btn-control remove"\n                        ng-click="removeParentFilter()">\n                  <span class="glyphicon glyphicon-remove"></span>\n                </button>\n\n                <a ng-href="#/process-definition/{{ filterData.parent.id }}">\n                  {{ filterData.parent.name || filterData.parent.key }}\n                </a>\n              </div>\n            </li>\n\n            <li class="business-key-filter filter" ng-if="filterData.businessKey">\n              <div class="name">\n                Business Key\n              </div>\n\n              <div class="search">\n                <button class="btn btn-link btn-xs btn-control remove"\n                        ng-click="removeBusinessKeyFilter()">\n                  <span class="glyphicon glyphicon-remove"></span>\n                </button>\n                <input type="text"\n                       required\n                       placeholder="Filter Business Key"\n                       name="businessKey"\n                       class="form-control"\n                       ng-model="filterData.businessKey.value"\n                       ng-change="filterChanged()" />\n              </div>\n\n              <div class="note note-error note-small"\n                   ng-if="filterForm.businessKey.$invalid">\n                Field is required\n              </div>\n            </li>\n\n            <li class="date-filter filter" ng-if="filterData.start.length">\n              <div class="name">\n                Start Date\n              </div>\n\n              <div class="search search-date"\n                   ng-repeat="date in filterData.start">\n                <div class="wrapper">\n                  <select ng-model="date.type"\n                          ng-options="item as item for item in dateTypeItems"\n                          required\n                          class="form-control"\n                          cam-dynamic-name="startDateFilterType{{$index}}"\n                          ng-change="dateFilterTypeChanged(filterForm[\'startDateFilterType0\'], filterForm[\'startDateFilterType1\'])">\n                  </select>\n\n                  <div class="removable-input">\n                    <input type="text"\n                           class="form-control"\n                           date\n                           required\n                           ng-change="filterChanged()"\n                           ng-model="date.value"\n                           cam-dynamic-name="startDateFilterValue{{$index}}" />\n\n                    <button class="btn btn-link btn-xs btn-control remove-date-filter"\n                            ng-click="removeStartDateFilter(date)">\n                      <span class="glyphicon glyphicon-remove"></span>\n                    </button>\n                  </div>\n                </div><!-- / .wrapper -->\n\n                <div class="note note-error note-small"\n                     ng-if="filterForm[\'startDateFilterValue\' + $index].$invalid">\n                  <div ng-show="filterForm[\'startDateFilterValue\' + $index].$error.required">\n                    Field is required.\n                  </div>\n\n                  <div ng-show="filterForm[\'startDateFilterValue\' + $index].$error.date && !filterForm[\'startDateFilterValue\' + $index].$error.required">\n                    Syntax for a date is <code>yyyy-MM-ddTHH:mm:ss</code>.\n                  </div>\n                </div><!-- / .error -->\n\n                <div class="note note-error note-small"\n                     ng-if="filterForm[\'startDateFilterType0\'].$invalid && filterForm[\'startDateFilterType1\'].$invalid">\n                  <div ng-show="filterForm[\'startDateFilterType0\'].$error.dateTypeEqual && filterForm[\'startDateFilterType1\'].$error.dateTypeEqual">\n                    Only the combination <code>after/before</code> is allowed.\n                  </div>\n                </div><!-- / .error -->\n\n                <a class="glyphicon glyphicon-plus-sign pull-right"\n                   tooltip="Add a start date filter"\n                   tooltip-placement="right"\n                   ng-click="addStartDateFilter()"\n                   ng-if="filterData.start.length < 2"></a>\n              </div><!-- ./ ng-repeat -->\n\n            </li>\n\n            <li class="variable-filter filter"\n                ng-if="filterData.variables.length">\n              <div class="name">\n                Variables\n                <a href\n                   ng-click="toggleVariableFilterHelp()"\n                   tooltip-placement="right"\n                   tooltip="Get help on variable filters">\n                  <span class="glyphicon glyphicon-question-sign"></span>\n                </a>\n              </div>\n\n              <div class="search"\n                   ng-repeat="variable in filterData.variables">\n\n                <button class="btn btn-link btn-xs btn-control remove"\n                        ng-click="removeVariableFilter(variable)">\n                  <span class="glyphicon glyphicon-remove"></span>\n                </button>\n\n                <input type="text"\n                       required\n                       class="form-control"\n                       cam-dynamic-name="variableFilter{{$index}}"\n                       placeholder="Filter Variable"\n                       ng-model="variable.value"\n                       ng-change="filterChanged()"\n                       process-variable />\n\n                <div class="note note-error note-small"\n                     ng-show="filterForm[\'variableFilter\' + $index].$invalid">\n                  <div ng-show="filterForm[\'variableFilter\' + $index].$error.required">\n                    Field is required.\n                  </div>\n                  <div ng-show="filterForm[\'variableFilter\' + $index].$error.processVariableFilter && !filterForm[\'variableFilter\' + $index].$error.required">\n                    Syntax for variable filters is <code>variableName OPERATOR value</code>.\n                    <a href\n                       ng-show="!showVariableFilterHelp" ng-click="toggleVariableFilterHelp()">\n                      Learn more.\n                    </a>\n                  </div>\n                </div>\n              </div>\n\n              <a tooltip="Add a variable filter"\n                 tooltip-placement="right"\n                 class="pull-right glyphicon glyphicon-plus-sign"\n                 ng-click="addVariableFilter()">\n              </a>\n\n              <div class="note"\n                   ng-show="showVariableFilterHelp">\n                <h5>\n                  Variable filter syntax\n                  <a ng-click="toggleVariableFilterHelp()">hide</a>\n                </h5>\n\n                <div>\n                  Filters on variables must be specified as\n                  <code>variableName OPERATOR value</code> where <code>OPERATOR</code> may be any of\n                  <span ng-repeat="op in operators">\n                    <span ng-show="$index > 0">, </span>\n                    <code>{{ op }}</code>\n                  </span>.\n                  <br/>\n                  All variable filters are applied using the logical <code>AND</code>.\n                  Strings must be properly enclosed in <code>""</code>.\n                  <br/>\n                  <br/>\n                  Samples:  <code>customerId = 1212</code>,\n                            <code>name like "%Walter"</code>,\n                            <code>checked = true</code>\n                </div>\n              </div>\n            </li>\n\n            <li class="activity-filter filter"\n                ng-if="filterData.activities.length">\n              <div class="name">\n                Activity\n              </div>\n\n              <div class="search search-text"\n                   ng-repeat="activity in filterData.activities">\n                <button class="btn btn-link btn-xs btn-control remove"\n                        ng-click="removeActivityFilter(activity)">\n                  <span class="glyphicon glyphicon-remove"></span>\n                </button>\n                {{ activity.name }}\n              </div>\n            </li>\n          </ul>\n        </form>\n\n        <div class="footer"\n             ng-show="filterChanged.$loading">\n          <span class="glyphicon glyphicon-refresh animate-spin"></span> refreshing…\n        </div>\n      </div>\n\n      <a class="navigate-deployment" ng-href="{{ getDeploymentUrl() }}">Navigate to deployment</a>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top">\n        <div process-diagram="processDiagram"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             overlay-provider-component="cockpit.processDefinition.diagram.overlay"></div>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed"\n           ctn-collapsable="bottom">\n        <div ng-show="processDefinitionTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in processDefinitionTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="processDefinitionVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n'}),define("pages/processDefinition",["angular","cockpit/util/routeUtil","angular-data-depend","camunda-commons-ui","text!./process-definition.html"],function(e,t,n,i,r){"use strict";var o=e.module("cam.cockpit.pages.processDefinition",[n.name,i.name]),a=["$scope","$rootScope","$q","search","ProcessDefinitionResource","ProcessInstanceResource","Views","Data","Transform","Variables","dataDepend","processDefinition","page",function(n,i,r,o,a,s,c,l,u,p,d,f,h){function m(t,n){var i=[];return e.forEach(t,function(e){try{var t=n(e);void 0!==t&&i.push(t)}catch(r){}}),i}function g(t){if(x!==t){var i=t.activityIds,r=null,o=!1;i&&i.length&&(r=i[i.length-1]),t.scrollToBpmnElement!==r&&(o=!0),t!=x&&y(t),n.filter=x=e.extend({},t,{scrollToBpmnElement:r}),o&&w.set("filter",x),y(x)}}function v(){function e(e){return e?e.split(/,/):[]}function t(e){return m(e,p.parse)}function n(e){var t=e.startedAfter,n=e.startedBefore,i=[];return t&&i.push({type:"after",value:t}),n&&i.push({type:"before",value:n}),i}var i,r=o(),a=e(r.activityIds);return i={activityIds:a,parentProcessDefinitionId:r.parentProcessDefinitionId,businessKey:r.businessKey,variables:t(e(r.variables)),start:n(r),page:parseInt(r.page)||void 0}}function y(e){function t(e){return e&&e.length}function n(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.type===t)return i.value}return null}var i=e.businessKey,r=e.activityIds,a=e.parentProcessDefinitionId,s=e.variables,c=e.start;o.updateSilently({businessKey:i||null,activityIds:t(r)?r.join(","):null,variables:t(s)?m(s,p.toString).join(","):null,parentProcessDefinitionId:a||null,startedAfter:t(c)?n(c,"after"):null,startedBefore:t(c)?n(c,"before"):null}),x=e}function b(e){var t=o().detailsTab;if(e&&e.length){if(t){var i=c.getProvider({component:"cockpit.processDefinition.runtime.tab",id:t});if(i&&-1!=e.indexOf(i))return void(n.selectedTab=i)}o.updateSilently({detailsTab:null}),n.selectedTab=e[0]}}var w=n.processData=d.create(n);n.$on("$routeChanged",function(){w.set("filter",v()),b(n.processDefinitionTabs)});var x=null;w.provide("processDefinition",f),w.provide("filter",v()),w.provide("parentId",["filter",function(e){return e.parentProcessDefinitionId}]),w.provide("parent",["parentId",function(e){return e?a.get({id:e}).$promise:null}]),w.provide("instances.all",["processDefinition",function(e){return s.count({processDefinitionKey:e.key}).$promise}]),w.provide("instances.current",["processDefinition",function(e){return s.count({processDefinitionId:e.id}).$promise}]),w.provide("bpmn20Xml",["processDefinition",function(e){return a.getBpmn20Xml({id:e.id}).$promise}]),w.provide("parsedBpmn20",["bpmn20Xml",function(e){return u.transformBpmn20Xml(e.bpmn20Xml)}]),w.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),w.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),w.provide("allProcessDefinitions",["processDefinition",function(e){return a.query({key:e.key,sortBy:"version",sortOrder:"desc"}).$promise}]),w.provide("processDiagram",["bpmnDefinition","bpmnElements",function(t,i){var r=n.processDiagram=n.processDiagram||{};return e.extend(r,{bpmnDefinition:t,bpmnElements:i}),r}]),i.showBreadcrumbs=!0,n.breadcrumbData=w.observe(["processDefinition","parent"],function(e,t){h.breadcrumbsClear(),t&&h.breadcrumbsAdd({type:"processDefinition",label:t.name||t.id,href:"#/process-definition/"+t.id+"/runtime",processDefinition:t}),h.breadcrumbsAdd({type:"processDefinition",label:e.name||e.key||e.id,href:"#/process-definition/"+e.id+"/runtime",processDefinition:e}),h.titleSet(["Camunda Cockpit",e.name||e.key||e.id,"Definition View"].join(" | "))}),n.instanceStatistics=w.observe(["instances.all","instances.current"],function(e,t){n.instanceStatistics.all=e,n.instanceStatistics.current=t}),n.processDiagramData=w.observe("processDiagram",function(e){n.processDiagram=e}),w.observe("filter",g),n.handleBpmnElementSelection=function(t,n){var i=e.copy(x),r=n.ctrlKey,o=e.copy(i.activityIds)||[],a=o.indexOf(t),s=-1!==a;t?r?s?o.splice(a,1):o.push(t):o=[t]:o=null,i.activityIds=o,w.set("filter",i)},n.processDefinition=f,n.processDefinitionVars={read:["processDefinition","selection","processData","filter"]},n.processDefinitionTabs=c.getProviders({component:"cockpit.processDefinition.runtime.tab"}),n.processDefinitionActions=c.getProviders({component:"cockpit.processDefinition.runtime.action"}),l.instantiateProviders("cockpit.processDefinition.data",{$scope:n,processData:w});for(var _=c.getProviders({component:"cockpit.processDefinition.runtime.tab"}).concat(c.getProviders({component:"cockpit.processDefinition.runtime.action"})).concat(c.getProviders({component:"cockpit.processDefinition.view"})).concat(c.getProviders({component:"cockpit.processDefinition.diagram.overlay"})).concat(c.getProviders({component:"cockpit.jobDefinition.action"})),E={processDefinition:f,processData:w},C=0;C<_.length;C++)"function"==typeof _[C].initialize&&_[C].initialize(E);n.selectTab=function(e){n.selectedTab=e,o.updateSilently({detailsTab:e.id})},b(n.processDefinitionTabs),n.getDeploymentUrl=function(){var e="#/repository",n=f.deploymentId,i={deployment:n,resourceName:f.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:n}])};return t.redirectTo(e,i,["deployment","resourceName","deploymentsQuery"])}}],s=["$scope","$filter","debounce","Variables",function(t,n,i,r){function o(t){var n=[];return e.forEach(t,function(e){n.push({value:e})}),n}function a(t,n){var i=[];return e.forEach(t,function(e){i.push({id:e,name:n[e].name||e})}),i}function s(t){return e.copy(t)||[]}var c,l=t.processData.newChild(t),u=n("date"),p="yyyy-MM-dd'T'HH:mm:ss";t.dateTypeItems=["after","before"],l.provide("filterData",["processDefinition","allProcessDefinitions","filter","parent","bpmnElements",function(e,t,n,i,r){return c&&c.filter==n?c:{definition:e,allDefinitions:t,businessKey:n.businessKey?{value:n.businessKey}:null,parent:i,filter:n,variables:o(n.variables),activities:a(n.activityIds,r),start:s(n.start)}}]),l.observe(["filterData"],function(e){t.filterData=c=e}),t.operators=r.operators,t.filterChanged=i(function(){if(!t.filterForm.$invalid){var n=c.variables,i=c.activities,r=c.parent,o=c.businessKey,a=c.start,s=[],u=[],p=[],d={};o&&(d.businessKey=o.value),e.forEach(n,function(e){e.value&&s.push(e.value)}),s.length&&(d.variables=s),e.forEach(a,function(e){e.value&&("after"===e.type?p.push({type:"after",value:e.value}):"before"===e.type&&p.push({type:"before",value:e.value}))}),d.start=p,r&&(d.parentProcessDefinitionId=r.id),e.forEach(i,function(e){u.push(e.id)}),u.length&&(d.activityIds=u),c.filter=d,l.set("filter",d)}},2e3),t.toggleVariableFilterHelp=function(){t.showVariableFilterHelp=!t.showVariableFilterHelp},t.addVariableFilter=function(){c.variables.push({})},t.addBusinessKeyFilter=function(){c.businessKey={}},t.addStartDateFilter=function(){var e=u(Date.now(),p),n=c.start=c.start||[];if(n&&!n.length)n.push({type:"after",value:e});else{if(1!==n.length)return;var i="after"===n[0].type?"before":"after";n.push({type:i,value:e})}t.filterChanged()},t.removeBusinessKeyFilter=function(){c.businessKey=null,t.filterChanged()},t.removeParentFilter=function(){c.parent=null,t.filterChanged()},t.removeVariableFilter=function(e){var n=c.variables,i=n.indexOf(e);-1!==i&&n.splice(i,1),t.filterChanged()},t.removeActivityFilter=function(e){var n=c.activities,i=n.indexOf(e);-1!==i&&n.splice(i,1),t.filterChanged()},t.removeStartDateFilter=function(e){var n=c.start,i=n.indexOf(e);-1!==i&&n.splice(i,1),t.filterChanged()},t.dateFilterTypeChanged=function(e,n){e&&n&&(e.$modelValue===n.$modelValue?(e.$setValidity("dateTypeEqual",!1),n.$setValidity("dateTypeEqual",!1)):(e.$setValidity("dateTypeEqual",!0),n.$setValidity("dateTypeEqual",!0))),t.filterChanged()}}],c=["$routeProvider",function(e){e.when("/process-definition/:id",{redirectTo:t.redirectToRuntime}).when("/process-definition/:id/runtime",{template:r,controller:a,authentication:"required",resolve:{processDefinition:["ResourceResolver","ProcessDefinitionResource",function(e,t){return e.getByRouteParam("id",{name:"process definition",resolve:function(e){return t.get({id:e})}})}]},reloadOnSearch:!1})}],l=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.view",{id:"runtime",priority:20,label:"Runtime",keepSearchParams:["parentProcessDefinitionId","businessKey","variables","startedAfter","startedBefore","viewbox"]})}];return o.controller("ProcessDefinitionFilterController",s).config(c).config(l),o}),define("text!pages/process-instance.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n<div class="ctn-fixed-view">\n  <div class="ctn-header">\n    <h1>\n      <span class="process-name-prefix">\n        <span>Process</span>\n        <span>instance</span>\n      </span>\n\n      {{ processDefinition.name || processDefinition.key }}\n\n      <span title="Process instance id, as it appears in the database">\n        &lt;{{ processInstance.id }}&gt;\n      </span>\n\n      <span ng-show="processInstance.businessKey.length > 0"\n            title="Business key of the process instance">\n        &lt;{{ processInstance.businessKey}}&gt;\n      </span>\n\n      <span class="badge badge-warning badge-suspended"\n            ng-show="processInstance.suspended"\n            tooltip="Currently suspended"\n            tooltip-placement="top">\n        <span class="glyphicon glyphicon-pause white"></span>\n      </span>\n    </h1>\n\n    <div class="view-pills"\n         id="cockpit.processInstance.view"></div>\n  </div>\n\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    <!-- toolbar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in processInstanceActions">\n        <view provider="tabProvider"\n              vars="processInstanceVars" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left">\n\n      <div class="filters"\n           ng-controller="ProcessInstanceFilterController">\n        <h5>\n          Filter\n\n          <button class="btn btn-sm btn-link btn-control btn-control-link"\n                  tooltip="The activity instance tree with all currently selected activity instances. You may change the selection via (CTRL +) click.">\n            <span class="glyphicon glyphicon-question-sign"></span>\n          </button>\n        </h5>\n\n        <div cam-quick-filter\n             name-filter\n             holder-selector=".instance-tree"\n             label-selector=".tree-node-label"\n             item-selector=".tree-node-group">\n        </div>\n\n        <div class="filter">\n          <button class="btn btn-link btn-xs btn-control"\n                  ng-show="filterData.activityInstanceCount"\n                  ng-click="clearSelection()">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n\n          <ng-pluralize count="filterData.activityInstanceCount"\n                        when="{ \'null\' : \'Nothing\',\n                                \'0\': \'Nothing\',\n                                \'one\': \'1 activity instance\',\n                                \'other\': \'{{ filterData.activityInstanceCount }} activity instances\'}">\n          </ng-pluralize>\n\n          selected\n        </div>\n\n\n        <div class="filter instance-tree">\n          <div activity-instance-tree="activityInstanceTree"\n               selection="filter"\n               on-element-click="handleActivityInstanceSelection(id, activityId, $event)"\n               order-children-by="orderChildrenBy()">\n          </div>\n        </div>\n      </div>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top">\n        <div process-diagram="processDiagram"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             page-data="pageData"\n             overlay-provider-component="cockpit.processInstance.diagram.overlay"></div>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed"\n           ctn-collapsable="bottom">\n        <div ng-show="processInstanceTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in processInstanceTabs">\n              <a href\n                 ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="processInstanceVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n'}),define("pages/processInstance",["require","angular","cockpit/util/routeUtil","camunda-commons-ui","angular-data-depend","text!./process-instance.html"],function(e,t,n,i,r,o){"use strict";var a=t.module("cam.cockpit.pages.processInstance",[i.name,r.name]),s=["$scope","$filter","$rootScope","$location","search","ProcessDefinitionResource","ProcessInstanceResource","IncidentResource","Views","Data","Transform","processInstance","dataDepend","page","breadcrumbTrails",function(e,n,i,r,o,a,s,c,l,u,p,d,f,h,m){function g(){function t(e){return e?e.split(/,/):[]}var n=o(),i=t(n.activityInstanceIds),r=t(n.activityIds);return e.filter=x={activityIds:r,activityInstanceIds:i,page:parseInt(n.page,10)||void 0},x}function v(t){function n(e){return e&&e.length}var i=t.activityIds,r=t.activityInstanceIds;o.updateSilently({activityIds:n(i)?i.join(","):null,activityInstanceIds:n(r)?r.join(","):null}),e.filter=x=t}function y(n,i,r){var o,a,s=n.activityIds||[],c=n.activityInstanceIds||[],l=parseInt(n.page,10)||null,u=n.scrollToBpmnElement,p=n!==x;t.forEach(c,function(e){var t=i[e]||{},n=t.activityId||t.targetActivityId,r=s.indexOf(n);-1===r&&(s.push(n),o=!0)}),t.forEach(s,function(e){var t=r[e],n=!1,i=[];if(t){for(var a,s=0;a=t[s];s++){var l=c.indexOf(a.id);if(-1!==l){n=!0;break}i.push(a.id)}n||(c=c.concat(i),o=!0)}});for(var d=0;d<s.length;d++)r[s[d]]||(s.splice(d,1),d--);for(d=0;d<c.length;d++)i[c[d]]||(c.splice(d,1),d--);if(s.length>0){var f=s[s.length-1];f!==u&&(u=f,o=!0)}a={activityIds:s,activityInstanceIds:c,scrollToBpmnElement:u,page:l},o=!t.equals(a,n),o&&(e.filter=x=a,_.set("filter",x)),p&&v(x)}function b(e,t){s.query({subProcessInstance:e.id}).$promise.then(function(e){var n=e[0];t(null,n)})}function w(e){var t=o().detailsTab;if(e&&e.length){if(t){var n=l.getProvider({component:"cockpit.processInstance.runtime.tab",id:t});if(n&&-1!=e.indexOf(n))return n}return e[0]}}e.processInstance=d;var x,_=e.processData=f.create(e),E=e.pageData=f.create(e);e.$on("$routeChanged",function(){_.set("filter",g()),E.set("activeTab",w(e.processInstanceTabs))}),_.provide("processInstance",d),_.provide("filter",g()),_.provide("processDefinition",["processInstance",function(e){return a.get({id:e.definitionId}).$promise}]),_.provide("bpmn20Xml",["processDefinition",function(e){return a.getBpmn20Xml({id:e.id}).$promise}]),_.provide("parsedBpmn20",["bpmn20Xml",function(e){return p.transformBpmn20Xml(e.bpmn20Xml)}]),_.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),_.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),_.provide("activityInstances",["processInstance",function(e){return s.activityInstances({id:e.id}).$promise}]),_.provide(["activityInstanceTree","activityIdToInstancesMap","instanceIdToInstanceMap"],["activityInstances","processDefinition","bpmnElements",function(e,t,i){function r(e){var t=e.name;if(!t){var i=n("shorten");t=e.$type.substr(5)+" ("+i(e.id,8)+")"}return t}function o(e){var t=e.childActivityInstances;if(t&&t.length>0)for(var n,c=0;n=t[c];c++){
var l=n.activityId,u=i[l],p=a[l]||[];u?n.name=r(u):n.name=l,n.isTransitionInstance=!1,a[l]=p,s[n.id]||(s[n.id]=n),p.push(n),o(n)}var d=e.childTransitionInstances;if(d&&d.length>0)for(var f,h=0;f=d[h];h++){var m=f.targetActivityId,g=i[m],v=a[m]||[];g?f.name=r(g):f.name=m,f.isTransitionInstance=!0,a[m]=v,s[f.id]||(s[f.id]=f),v.push(f)}}var a={},s={},c=i[t.key];return e.name=r(c),s[e.id]=e,o(e),[e,a,s]}]),_.provide("executionIdToInstanceMap",["instanceIdToInstanceMap",function(e){var t={};for(var n in e){var i=e[n],r=i.executionIds,o=i.executionId;if(r)for(var a,s=0;a=r[s];s++)t[a]=i;o&&(t[o]=i)}return t}]),_.provide("incidents",["processInstance",function(e){return c.query({processInstanceId:e.id}).$promise}]),_.provide("activityIdToIncidentsMap",["incidents",function(e){for(var t,n={},i=0;t=e[i];i++){var r=n[t.activityId];r||(r=[],n[t.activityId]=r),r.push(t)}return n}]),_.provide("processDiagram",["bpmnDefinition","bpmnElements",function(e,t){var n={};return n.bpmnDefinition=e,n.bpmnElements=t,n}]),_.observe(["filter","instanceIdToInstanceMap","activityIdToInstancesMap"],y),e.processDefinition=_.observe("processDefinition",function(t){e.processDefinition=t}),_.provide("superProcessInstanceCount",["processInstance",function(e){return s.count({subProcessInstance:e.id}).$promise}]),i.showBreadcrumbs=!0,_.observe(["processDefinition","processInstance","superProcessInstanceCount"],function(t,n,i){var r=[];i.count&&r.push(function(e){m(n,b,[],e,"runtime")}),r.push({label:t.name||(t.key||t.id).slice(0,8)+"…",href:"#/process-definition/"+t.id+"/runtime",keepSearchParams:["viewbox"]}),r.push({divider:":",label:n.name||(n.key||n.id).slice(0,8)+"…",href:"#/process-instance/"+n.id+"/runtime"}),h.breadcrumbsClear().breadcrumbsAdd(r),h.titleSet(["Camunda Cockpit",e.processDefinition.name||e.processDefinition.id,"Instance View"].join(" | "))}),e.activityInstanceTree=_.observe("activityInstanceTree",function(t){e.activityInstanceTree=t}),e.processDiagram=_.observe("processDiagram",function(t){e.processDiagram=t}),_.observe(["instanceIdToInstanceMap","activityIdToInstancesMap"],function(t,n){e.instanceIdToInstanceMap=t,e.activityIdToInstancesMap=n}),e.handleBpmnElementSelection=function(n,i){if(!n)return void _.set("filter",{});var r,o=i.ctrlKey,a=t.copy(x.activityIds)||[],s=t.copy(x.activityInstanceIds)||[],c=a.indexOf(n),l=e.activityIdToInstancesMap[n];o?o&&(-1===c?(a.push(n),t.forEach(l,function(e){s.push(e.id)})):-1!==c&&(a.splice(c,1),t.forEach(l,function(e){var t=e.id,n=s.indexOf(t);-1!==n&&s.splice(n,1)}))):(a=[n],s=[],t.forEach(l,function(e){s.push(e.id)})),r={activityIds:a,activityInstanceIds:s},_.set("filter",r)},e.handleActivityInstanceSelection=function(n,i,r){if(!n)return void _.set("filter",{});var o,a=r.ctrlKey,s=t.copy(x.activityIds)||[],c=t.copy(x.activityInstanceIds)||[],l=c.indexOf(n),u=e.activityIdToInstancesMap[i];if(a){if(a)if(-1===l){c.push(n);var p=s.indexOf(i);-1===p&&s.push(i)}else{c.splice(l,1);var d=!1;if(u)for(var f,h=0;f=u[h];h++){var m=f.id,g=c.indexOf(m);-1!==g&&(d=!0)}if(!d){var v=s.indexOf(i);s.splice(v,1)}}}else s=[i],c=[n];o={activityIds:s,activityInstanceIds:c,scrollToBpmnElement:i},_.set("filter",o)},e.orderChildrenBy=function(){return function(e){var t=e.id,n=t.indexOf(":");return-1!==n?t.substr(n+1,t.length):t}},e.$on("$routeChangeStart",function(){h.breadcrumbsClear()}),e.processInstanceVars={read:["processInstance","processData","filter","pageData"]};var C=l.getProviders({component:"cockpit.processInstance.runtime.tab"});e.processInstanceActions=l.getProviders({component:"cockpit.processInstance.runtime.action"}),u.instantiateProviders("cockpit.processInstance.data",{$scope:e,processData:_});for(var T=l.getProviders({component:"cockpit.processInstance.runtime.tab"}).concat(l.getProviders({component:"cockpit.processInstance.runtime.action"})).concat(l.getProviders({component:"cockpit.processInstance.view"})).concat(l.getProviders({component:"cockpit.processInstance.diagram.overlay"})),A={processInstance:d,processData:_,filter:x,pageData:E},S=0;S<T.length;S++)"function"==typeof T[S].initialize&&T[S].initialize(A);E.provide("tabs",C),E.provide("activeTab",w(C)),E.observe(["tabs"],function(t){e.processInstanceTabs=t,E.set("activeTab",w(t))}),E.observe("activeTab",function(t){e.selectedTab=t;var n=!o().detailsTab;o.updateSilently({detailsTab:t&&t.id||null}),n&&r.replace()}),e.selectTab=function(e){E.set("activeTab",e)}}];a.controller("ProcessInstanceFilterController",["$scope",function(e){var t,n=e.processData.newChild(e);n.provide("filterData",["filter",function(e){if(t&&t.filter==e)return t;var n=e.activityIds||[],i=e.activityInstanceIds||[];return{filter:e,activityCount:n.length||0,activityInstanceCount:i.length||0}}]),n.observe(["filterData"],function(n){e.filterData=t=n}),e.clearSelection=function(){t={activityCount:0,activityInstanceCount:0,filter:{}},n.set("filter",t.filter)}}]);var c=["$routeProvider",function(e){e.when("/process-instance/:id",{redirectTo:n.redirectToRuntime}),e.when("/process-instance/:id/runtime",{template:o,controller:s,authentication:"required",resolve:{processInstance:["ResourceResolver","ProcessInstanceResource","Uri","Views","Notifications","$route","$http","$location",function(e,t,n,i,r,o,a,s){return e.getByRouteParam("id",{name:"running process instance",resolve:function(e){return t.get({id:e})},redirectTo:function(e){var t=o.current.params.id;a.get(n.appUri("engine://engine/:engine/history/process-instance/")+t).success(function(e){var n,o,a="Unable to display running process instance",c="Process instance with ID "+t+" has been completed. Redirecting to ",l=i.getProvider({id:"history",component:"cockpit.processInstance.view"});if(l){s.path();o=s.search(),n="/process-instance/"+t+"/history",c+="historic process instance view."}else n="/process-definition/"+e.processDefinitionId,c+="process definition view.";s.path(n),s.search(o||{}),s.replace(),r.addMessage({status:a,message:c,http:!0,exclusive:["http"],duration:5e3})}).error(function(e){s.path("/dashboard"),s.search({}),s.replace(),r.addError({status:"Failed to display running process instance",message:"No running process instance with ID "+t,http:!0,exclusive:["http"]})})}})}]},reloadOnSearch:!1})}],l=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.view",{id:"runtime",priority:20,label:"Runtime",keepSearchParams:["viewbox"]})}];return a.config(c).config(l),a}),define("text!pages/decision-definition.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n<div class="ctn-fixed-view">\n\n  <div class="ctn-header">\n    <h1>\n      <span class="process-name-prefix">\n        <span>Decision</span>\n        <span>definition</span>\n      </span>\n\n      {{ decisionDefinition.name || decisionDefinition.key }}\n\n    </h1>\n\n    <div class="view-pills" id="cockpit.decisionDefinition.view"></div>\n  </div>\n\n\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in decisionDefinitionActions">\n        <view provider="tabProvider"\n              vars="decisionDefinitionVars" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left">\n\n\n      <div class="definition-details">\n        <div class="key">\n          <span class="name">\n            Key\n          </span>\n          {{ decisionDefinition.key }}\n        </div>\n      </div>\n\n      <div class="filters">\n        <div class="version-filter filter">\n          <span class="name">\n            Version\n          </span>\n\n          <span ng-if="!allDefinitions || !decisionDefinition"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="btn-group dropdown"\n               ng-if="allDefinitions && allDefinitions.length > 1">\n            <button class="btn btn-default dropdown-toggle"\n                    data-toggle="dropdown">\n              {{ decisionDefinition.version }} <span class="caret"></span>\n            </button>\n\n            <ul class="dropdown-menu">\n              <li ng-repeat="definition in allDefinitions">\n                <a ng-href="#/decision-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if="allDefinitions && allDefinitions.length < 2 && decisionDefinition">\n            {{ decisionDefinition.version }}\n          </span>\n        </div>\n\n      </div>\n\n      <a class="navigate-deployment" ng-href="{{ getDeploymentUrl() }}">Navigate to deployment</a>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top">\n        <div decision-table="tableXml" style="height: 100%;"></div>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed"\n           ctn-collapsable="bottom">\n        <div ng-show="decisionDefinitionTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in decisionDefinitionTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="decisionDefinitionVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n'}),define("pages/decisionDefinition",["angular","cockpit/util/routeUtil","angular-data-depend","camunda-commons-ui","text!./decision-definition.html"],function(e,t,n,i,r){"use strict";var o=e.module("cam.cockpit.pages.decisionDefinition",[n.name,i.name]),a=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionDefinition","Views","search",function(e,n,i,r,o,a,s,c,l){function u(t){var n=l().detailsTab;if(t&&t.length){if(n){var i=c.getProvider({component:"cockpit.decisionDefinition.tab",id:n});if(i&&-1!=t.indexOf(i))return void(e.selectedTab=i)}l.updateSilently({detailsTab:null}),e.selectedTab=t[0]}}var p=e.decisionData=r.create(e),d=a.resource("decision-definition");p.provide("decisionDefinition",s),p.provide("tableXml",["decisionDefinition",function(e){var t=i.defer(),n=e.id;return d.getXml(n,function(e,n){e?t.reject(e):t.resolve(n.dmnXml)}),t.promise}]),p.provide("allDefinitions",["decisionDefinition",function(e){var t=i.defer();return d.list({key:e.key,sortBy:"version",sortOrder:"desc"},function(e,n){e?t.reject(e):t.resolve(n)}),t.promise}]),p.observe(["decisionDefinition"],function(t){e.decisionDefinition=t}),p.observe(["allDefinitions"],function(t){e.allDefinitions=t}),n.showBreadcrumbs=!0,e.breadcrumbData=p.observe(["decisionDefinition"],function(e){o.breadcrumbsClear(),o.breadcrumbsAdd({type:"decisionDefinition",label:e.name||e.key||e.id,href:"#/decision-definition/"+e.id}),o.titleSet(["Camunda Cockpit",e.name||e.key||e.id,"Definition View"].join(" | "))}),p.observe(["tableXml"],function(t){e.tableXml=t}),e.decisionDefinitionVars={read:["decisionDefinition","decisionData"]},e.decisionDefinitionTabs=c.getProviders({component:"cockpit.decisionDefinition.tab"}),e.decisionDefinitionActions=c.getProviders({component:"cockpit.decisionDefinition.action"});for(var f=c.getProviders({component:"cockpit.decisionDefinition.tab"}).concat(c.getProviders({component:"cockpit.decisionDefinition.action"})),h={decisionDefinition:e.decisionDefinitionService,decisionData:p},m=0;m<f.length;m++)"function"==typeof f[m].initialize&&f[m].initialize(h);e.selectTab=function(t){e.selectedTab=t,l.updateSilently({detailsTab:t.id})},u(e.decisionDefinitionTabs),e.getDeploymentUrl=function(){var e="#/repository",n=s.deploymentId,i={deployment:n,resourceName:s.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:n}])};return t.redirectTo(e,i,["deployment","resourceName","deploymentsQuery"])}}],s=["$routeProvider",function(e){e.when("/decision-definition/:id",{redirectTo:function(e,n,i){var r=n+"/history";return t.redirectTo(r,i,!0)}}).when("/decision-definition/:id/history",{template:r,controller:a,authentication:"required",resolve:{decisionDefinition:["ResourceResolver","camAPI","$q",function(e,t,n){return e.getByRouteParam("id",{name:"decision definition",resolve:function(e){var i=n.defer(),r=t.resource("decision-definition");return r.get(e,function(e,t){e?i.reject(e):i.resolve(t)}),i.promise}})}]},reloadOnSearch:!1})}],c=["ViewsProvider",function(e){e.registerDefaultView("cockpit.decisionDefinition.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}];return o.config(s).config(c),o}),define("text!pages/decision-instance.html",[],function(){return'<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n<div class="ctn-fixed-view">\n\n  <div class="ctn-header">\n    <h1>\n      <span class="process-name-prefix">\n        <span>Decision</span>\n        <span>instance</span>\n      </span>\n\n      {{ decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionKey }}\n\n      <span title="Decision instance id, as it appears in the database">\n        &lt;{{ decisionInstance.id }}&gt;\n      </span>\n\n    </h1>\n\n    <div class="view-pills"\n         id="cockpit.decisionInstance.view"></div>\n  </div>\n\n\n  <div class="ctn-content-container">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in decisionInstanceActions">\n        <view provider="tabProvider"\n              vars="decisionInstanceVars" />\n      </span>\n\n    </div>\n\n    <div class="ctn-column ctn-content"\n         style="left: 0;"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top">\n        <div decision-table="tableXml" control="control" on-load="initializeTablePlugins()" style="height: 100%;"></div>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed"\n           ctn-collapsable="bottom">\n        <div ng-show="decisionInstanceTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in decisionInstanceTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="decisionInstanceVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n'}),define("pages/decisionInstance",["angular","cockpit/util/routeUtil","angular-data-depend","camunda-commons-ui","text!./decision-instance.html"],function(e,t,n,i,r){"use strict";var o=e.module("cam.cockpit.pages.decisionInstance",[n.name,i.name]),a=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionInstance","Views","search",function(e,t,n,i,r,o,a,s,c){function l(t){var n=c().detailsTab;if(t&&t.length){if(n){var i=s.getProvider({component:"cockpit.decisionInstance.tab",id:n});if(i&&-1!=t.indexOf(i))return void(e.selectedTab=i)}c.updateSilently({detailsTab:null}),e.selectedTab=t[0]}}e.control={},e.decisionInstance=a;var u=e.decisionData=i.create(e),p=o.resource("decision-definition");u.provide("tableXml",function(){var e=n.defer();return p.getXml(a.decisionDefinitionId,function(t,n){t?e.reject(t):e.resolve(n.dmnXml)}),e.promise}),t.showBreadcrumbs=!0,r.breadcrumbsClear(),r.breadcrumbsAdd({type:"decisionDefinition",label:a.decisionDefinitionName||(a.decisionDefinitionKey||a.decisionDefinitionId).slice(0,8)+"…",href:"#/decision-definition/"+a.decisionDefinitionId}),r.breadcrumbsAdd({type:"decisionInstance",label:a.id.slice(0,8)+"…",href:"#/decision-instance/"+a.id}),r.titleSet(["Camunda Cockpit",a.id.slice(0,8)+"…","Instance View"].join(" | ")),u.observe(["tableXml"],function(t){e.tableXml=t}),e.initializeTablePlugins=function(){for(var t=s.getProviders({component:"cockpit.decisionInstance.table"}),n={decisionInstance:a,tableControl:e.control},i=0;i<t.length;i++)"function"==typeof t[i].initialize&&t[i].initialize(n)},e.decisionInstanceVars={read:["decisionInstance","decisionData"]},e.decisionInstanceTabs=s.getProviders({component:"cockpit.decisionInstance.tab"}),e.decisionInstanceActions=s.getProviders({component:"cockpit.decisionInstance.action"});for(var d=s.getProviders({component:"cockpit.decisionInstance.tab"}).concat(s.getProviders({component:"cockpit.decisionInstance.action"})),f={decisionInstance:a,decisionData:u},h=0;h<d.length;h++)"function"==typeof d[h].initialize&&d[h].initialize(f);e.selectTab=function(t){e.selectedTab=t,c.updateSilently({detailsTab:t.id})},l(e.decisionInstanceTabs)}],s=["$routeProvider",function(e){e.when("/decision-instance/:id",{redirectTo:function(e,n,i){var r=n+"/history";return t.redirectTo(r,i,!0)}}),e.when("/decision-instance/:id/history",{template:r,controller:a,authentication:"required",resolve:{decisionInstance:["ResourceResolver","camAPI","$q",function(e,t,n){return e.getByRouteParam("id",{name:"decision instance",resolve:function(e){var i=n.defer(),r=t.resource("history");return r.decisionInstance({decisionInstanceId:e,includeInputs:!0,includeOutputs:!0,disableBinaryFetching:!0,disableCustomObjectDeserialization:!0},function(e,t){!e&&t.length?i.resolve(t[0]):i.reject(e||{status:404})}),i.promise}})}]},reloadOnSearch:!1})}],c=["ViewsProvider",function(e){e.registerDefaultView("cockpit.decisionInstance.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}];return o.config(s).config(c),o}),define("pages/main",["angular","./dashboard","./processDefinition","./processInstance","./decisionDefinition","./decisionInstance"],function(e,t,n,i,r,o){"use strict";var a=e.module("cam.cockpit.pages",[n.name,i.name,r.name,o.name]);return a.config(t),a}),define("pages",["pages/main"],function(e){return e}),define("resources/processDefinitionResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/process-definition/:id/:action"),{id:"@id"},{queryStatistics:{method:"GET",isArray:!0,params:{id:"statistics"}},queryActivityStatistics:{method:"GET",isArray:!0,params:{action:"statistics"}},getBpmn20Xml:{method:"GET",params:{action:"xml"},cache:!0}})}];return e}),define("resources/incidentResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/incident/:action"),{},{count:{method:"GET",isArray:!1,params:{count:"count"}}})}];return e}),define("resources/processInstanceResource",[],function(){"use strict";return["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/process-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},activityInstances:{method:"GET",isArray:!1,params:{action:"activity-instances"}}})}]}),define("resources/localExecutionVariableResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/execution/:executionId/localVariables/:localVariableName"),{},{updateVariables:{method:"POST"}})}];return e}),define("resources/jobResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/job/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}}})}];return e}),define("resources/taskResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){var n=t.appUri("engine://engine/:engine/task/:id/:action/:subAction"),i={id:"@id"};return e(n,i,{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},getIdentityLinks:{method:"GET",isArray:!0,params:{action:"identity-links"}},addIdentityLink:{method:"POST",params:{action:"identity-links"}},deleteIdentityLink:{method:"POST",params:{action:"identity-links",subAction:"delete"}},setAssignee:{method:"POST",params:{action:"assignee"}}})}];return e}),define("resources/jobDefinitionResource",[],function(){"use strict";var e=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/job-definition/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}},setJobPriority:{method:"PUT",params:{action:"jobPriority"}}})}];return e}),define("resources/main",["angular","camunda-commons-ui/util/index","./processDefinitionResource","./incidentResource","./processInstanceResource","./localExecutionVariableResource","./jobResource","./taskResource","./jobDefinitionResource"],function(e,t,n,i,r,o,a,s,c){"use strict";var l=e.module("cam.cockpit.resources",[]);return l.factory("ProcessDefinitionResource",n),l.factory("IncidentResource",i),l.factory("ProcessInstanceResource",r),l.factory("LocalExecutionVariableResource",o),l.factory("JobResource",a),l.factory("TaskResource",s),l.factory("JobDefinitionResource",c),l}),define("resources",["resources/main"],function(e){return e}),define("services/transform",["bpmn-io"],function(e){"use strict";var t=["$q",function(t){return{transformBpmn20Xml:function(n){var i=t.defer();e.prototype.options={};var r=e.prototype.createModdle();return r.fromXML(n,"bpmn:Definitions",function(e,t,n){i.resolve({definitions:t,bpmnElements:n.elementsById})}),i.promise}}}];return t}),define("services/variables",[],function(){"use strict";var e=[function(){function e(e){var t={};for(var n in e)t[e[n]]=n;return t}function t(e){var t=[];for(var n in e)t.push(n);return t}function n(e){return o[e]}function i(e){if(/^".*"\s*$/.test(e))return e.substring(1,e.length-1);if(parseFloat(e)+""===e)return parseFloat(e);if("true"===e||"false"===e)return"true"===e;throw new Error("Cannot infer type of value "+e)}function r(e){if(!e)return e;if("string"==typeof e)return'"'+e+'"';if("boolean"==typeof e)return e?"true":"false";if("number"==typeof e)return e;throw new Error("Cannot infer type of value "+e)}var o={eq:"=",neq:"!=",gt:">",gteq:">=",lt:"<",lteq:"<=",like:" like "},a=e(o),s=new RegExp("^(\\w+)\\s*("+t(a).join("|")+")\\s*([^!=<>]+)$");return{parse:function(e){var t,n=s.exec(e);if(!n)throw new Error("Invalid variable syntax: "+e);return t=i(n[3]),{name:n[1],operator:a[n[2]],value:t}},toString:function(e){return e?e.name+n(e.operator)+r(e.value):""},operators:t(a)}}];return e}),define("services/page",["angular"],function(e){"use strict";return["$rootScope","$location","camAPI",function(t,n,i){function r(e){if(!e||!e.name)return void(t.userFullName=null);var n=i.resource("user");n.profile(e.name,function(e,n){if(e)throw t.userFullName=null,e;t.userFullName=n.firstName+" "+n.lastName})}var o={title:"Camunda",breadcrumbs:[]},a=e.element("head title");return t.$on("page.title.changed",function(){a.text(o.title)}),t.isActivePage=function(e){return 0===n.path().indexOf("/"+e)?"active":""},t.$on("authentication.changed",function(e,t){r(t)}),r(t.authentication),{titleSet:function(e){return o.title=e,t.$broadcast("page.title.changed",o.title),this},titleGet:function(){return o.title},breadcrumbsAdd:function(n){if(e.isArray(n))return e.forEach(n,this.breadcrumbsAdd);if(e.isFunction(n)){var i=n;n={callback:i}}return n.label=n.label||"…",o.breadcrumbs.push(n),t.$broadcast("page.breadcrumbs.changed",o.breadcrumbs),this},breadcrumbsInsertAt:function(n,i){return o.breadcrumbs=o.breadcrumbs.slice(0,n).concat(e.isArray(i)?i:[i]).concat(o.breadcrumbs.slice(n+1)),t.$broadcast("page.breadcrumbs.changed",o.breadcrumbs),this},breadcrumbsGet:function(e){return e?("last"===e&&(e=o.length-1),o.breadcrumbs[e]):o.breadcrumbs},breadcrumbsClear:function(){return o.breadcrumbs=[],t.$broadcast("page.breadcrumbs.changed",o.breadcrumbs),this}}}]}),define("services/breadcrumbTrails",[],function(){"use strict";return["ProcessDefinitionResource","page",function(e,t){function n(i,r,o,a,s){function c(i,c){return c?void e.get({id:c.processDefinitionId||c.definitionId}).$promise.then(function(e){var t=e;o=[{href:"#/process-definition/"+t.id+(s?"/"+s:""),label:t.name||t.key},{divider:":",href:"#/process-instance/"+c.id+(s?"/"+s:""),label:c.id.slice(0,8)+"…"}].concat(o),n(c,r,o,a,s)}):void t.breadcrumbsInsertAt(a,o)}o=o||[],r(i,c)}return n}]}),define("services/routeUtil",["cockpit/util/routeUtil"],function(e){"use strict";return[function(){return{redirectToRuntime:function(t,n,i){return e.redirectToRuntime(t,n,i)},replaceLastPathFragment:function(t,n,i,r){return e.replaceLastPathFragment(t,n,i,r)},redirectTo:function(t,n,i){return e.redirectTo(t,n,i)}}}]}),define("services/cam-api",["camunda-bpm-sdk-js"],function(e){"use strict";return["Uri","camAPIHttpClient",function(t,n){return new e.Client({HttpClient:n,apiUri:t.appUri("engine://"),engine:t.appUri(":engine")})}]}),define("services/main",["angular","./transform","./variables","./page","./breadcrumbTrails","./routeUtil","./cam-api"],function(e,t,n,i,r,o,a){"use strict";var s=e.module("cam.cockpit.services",[]);return s.factory("Transform",t),s.factory("Variables",n),s.service("page",i),s.factory("breadcrumbTrails",r),s.factory("routeUtil",o),s.factory("camAPI",a),s}),define("services",["services/main"],function(e){return e}),define("camunda-cockpit-ui",["./repository/main","./directives/main","./filters/main","./pages/main","./resources/main","./services/main","camunda-commons-ui","camunda-bpm-sdk-js","ngDefine"],function(){"use strict";var e="cam.cockpit",t=window.PLUGIN_PACKAGES||[],n=window.PLUGIN_DEPENDENCIES||[];require.config({packages:t});var i=[].concat(n.map(function(e){return e.requirePackageName}));require(i,function(){var t=["ng","ngResource",require("camunda-commons-ui").name,require("./repository/main").name,require("./directives/main").name,require("./filters/main").name,require("./pages/main").name,require("./resources/main").name,require("./services/main").name].concat(n.map(function(e){return e.ngModuleName})),i=require("angular"),r=require("jquery"),o=i.module(e,t),a=["$routeProvider","UriProvider",function(e,t){function n(e){var t=r("base").attr(e);if(!e)throw new Error("Uri base for "+e+" could not be resolved");return t}e.otherwise({redirectTo:"/dashboard"}),t.replace(":appName","cockpit"),t.replace("app://",n("href")),t.replace("adminbase://",n("app-root")+"/app/admin/"),t.replace("cockpit://",n("cockpit-api")),t.replace("admin://",n("cockpit-api")+"../admin/"),t.replace("plugin://",n("cockpit-api")+"plugin/"),t.replace("engine://",n("engine-api")),t.replace(":engine",["$window",function(e){var t=e.location.href,n=t.match(/\/app\/cockpit\/(\w+)(|\/)/);if(n)return n[1];throw new Error("no process engine selected")}])}];o.config(a),o.config(["camDateFormatProvider",function(e){var t={monthName:"MMMM",day:"DD",abbr:"lll",normal:"YYYY-MM-DD[T]HH:mm:ss","long":"LLLL","short":"LL"};for(var n in t)e.setDateFormat(t[n],n)}]),require(["domReady!"],function(){i.bootstrap(document,[o.name]);var e=document.getElementsByTagName("html")[0];e.setAttribute("ng-app",o.name),e.dataset&&(e.dataset.ngApp=o.name),top!==window&&window.parent.postMessage({type:"loadamd"},"*")})})});
//# sourceMappingURL=camunda-cockpit-ui.js.map